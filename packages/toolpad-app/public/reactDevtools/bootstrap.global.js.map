{"version":3,"sources":["../../../../node_modules/react-is/cjs/react-is.development.js","../../../../node_modules/react-is/index.js","../../../../node_modules/react/cjs/react.development.js","../../../../node_modules/react/index.js","../../../../node_modules/react-devtools-inline/dist/node_modules/error-stack-parser/error-stack-parser.js","../../../../node_modules/react-devtools-inline/dist/node_modules/lodash.throttle/index.js","../../../../node_modules/react-devtools-inline/dist/node_modules/lru-cache/index.js","../../../../node_modules/react-devtools-inline/dist/node_modules/process/browser.js","../../../../node_modules/react-devtools-inline/dist/node_modules/pseudomap/map.js","../../../../node_modules/react-devtools-inline/dist/node_modules/pseudomap/pseudomap.js","../../../../node_modules/react-devtools-inline/dist/node_modules/stackframe/stackframe.js","../../../../node_modules/react-devtools-inline/dist/node_modules/util/node_modules/inherits/inherits_browser.js","../../../../node_modules/react-devtools-inline/dist/node_modules/util/support/isBufferBrowser.js","../../../../node_modules/react-devtools-inline/dist/node_modules/util/util.js","../../../../node_modules/react-devtools-inline/dist/node_modules/yallist/yallist.js","../../../../node_modules/react-devtools-inline/dist/webpack:/react-devtools-inline/webpack/bootstrap","../../../../node_modules/react-devtools-inline/dist/webpack:/react-devtools-inline/webpack/runtime/compat get default export","../../../../node_modules/react-devtools-inline/dist/webpack:/react-devtools-inline/webpack/runtime/define property getters","../../../../node_modules/react-devtools-inline/dist/webpack:/react-devtools-inline/webpack/runtime/hasOwnProperty shorthand","../../../../node_modules/react-devtools-inline/dist/webpack:/react-devtools-inline/webpack/runtime/make namespace object","../../../../node_modules/react-devtools-inline/dist/webpack:/react-devtools-shared/src/events.js","../../../../node_modules/react-devtools-inline/dist/webpack:/react-devtools-shared/src/constants.js","../../../../node_modules/react-devtools-inline/dist/webpack:/react-devtools-shared/src/storage.js","../../../../node_modules/react-devtools-inline/dist/node_modules/memoize-one/esm/index.js","../../../../node_modules/react-devtools-inline/dist/webpack:/react-devtools-shared/src/backend/views/utils.js","../../../../node_modules/react-devtools-inline/dist/webpack:/react-devtools-shared/src/backend/views/Highlighter/Overlay.js","../../../../node_modules/react-devtools-inline/dist/webpack:/react-devtools-shared/src/backend/views/Highlighter/Highlighter.js","../../../../node_modules/react-devtools-inline/dist/webpack:/react-devtools-shared/src/backend/views/Highlighter/index.js","../../../../node_modules/react-devtools-inline/dist/webpack:/react-devtools-shared/src/backend/views/TraceUpdates/canvas.js","../../../../node_modules/react-devtools-inline/dist/webpack:/react-devtools-shared/src/backend/views/TraceUpdates/index.js","../../../../node_modules/react-devtools-inline/dist/src/index.ts","../../../../node_modules/react-devtools-inline/dist/webpack:/react-devtools-inline/external commonjs2 \"react-is\"","../../../../node_modules/react-devtools-inline/dist/webpack:/shared/ReactSymbols.js","../../../../node_modules/react-devtools-inline/dist/webpack:/react-devtools-shared/src/frontend/types.js","../../../../node_modules/react-devtools-inline/dist/webpack:/react-devtools-shared/src/isArray.js","../../../../node_modules/react-devtools-inline/dist/webpack:/react-devtools-shared/src/utils.js","../../../../node_modules/react-devtools-inline/dist/webpack:/react-devtools-shared/src/hydration.js","../../../../node_modules/react-devtools-inline/dist/webpack:/shared/isArray.js","../../../../node_modules/react-devtools-inline/dist/webpack:/react-devtools-shared/src/backend/utils.js","../../../../node_modules/react-devtools-inline/dist/webpack:/shared/assign.js","../../../../node_modules/react-devtools-inline/dist/webpack:/react-devtools-inline/external commonjs2 \"react\"","../../../../node_modules/react-devtools-inline/dist/webpack:/shared/ReactSharedInternals.js","../../../../node_modules/react-devtools-inline/dist/webpack:/react-reconciler/src/ReactWorkTags.js","../../../../node_modules/react-devtools-inline/dist/webpack:/react-debug-tools/src/ReactDebugHooks.js","../../../../node_modules/react-devtools-inline/dist/webpack:/react-debug-tools/src/ReactDebugTools.js","../../../../node_modules/react-devtools-inline/dist/webpack:/react-debug-tools/index.js","../../../../node_modules/react-devtools-inline/dist/webpack:/react-devtools-shared/src/backend/ReactSymbols.js","../../../../node_modules/react-devtools-inline/dist/webpack:/react-devtools-shared/src/config/DevToolsFeatureFlags.default.js","../../../../node_modules/react-devtools-inline/dist/webpack:/shared/objectIs.js","../../../../node_modules/react-devtools-inline/dist/webpack:/shared/hasOwnProperty.js","../../../../node_modules/react-devtools-inline/dist/webpack:/react-devtools-shared/src/backend/StyleX/utils.js","../../../../node_modules/react-devtools-inline/dist/webpack:/react-devtools-shared/src/devtools/constants.js","../../../../node_modules/react-devtools-inline/dist/webpack:/react-devtools-timeline/src/constants.js","../../../../node_modules/react-devtools-inline/dist/webpack:/react-devtools-shared/src/backend/DevToolsConsolePatching.js","../../../../node_modules/react-devtools-inline/dist/webpack:/react-devtools-shared/src/backend/DevToolsComponentStackFrame.js","../../../../node_modules/react-devtools-inline/dist/webpack:/react-devtools-shared/src/backend/DevToolsFiberComponentStack.js","../../../../node_modules/react-devtools-inline/dist/webpack:/react-devtools-shared/src/backend/profilingHooks.js","../../../../node_modules/react-devtools-inline/dist/webpack:/react-devtools-shared/src/backend/renderer.js","../../../../node_modules/react-devtools-inline/dist/webpack:/react-devtools-shared/src/backend/console.js","../../../../node_modules/react-devtools-inline/dist/webpack:/react-devtools-shared/src/bridge.js","../../../../node_modules/react-devtools-inline/dist/webpack:/react-devtools-shared/src/backend/agent.js","../../../../node_modules/react-devtools-inline/dist/webpack:/react-devtools-shared/src/backend/legacy/utils.js","../../../../node_modules/react-devtools-inline/dist/webpack:/react-devtools-shared/src/backend/legacy/renderer.js","../../../../node_modules/react-devtools-inline/dist/webpack:/react-devtools-shared/src/backend/index.js","../../../../node_modules/react-devtools-inline/dist/webpack:/react-devtools-shared/src/hook.js","../../../../node_modules/react-devtools-inline/dist/webpack:/react-devtools-shared/src/backend/NativeStyleEditor/resolveBoxStyle.js","../../../../node_modules/react-devtools-inline/dist/webpack:/react-devtools-shared/src/backend/NativeStyleEditor/setupNativeStyleEditor.js","../../../../node_modules/react-devtools-inline/dist/webpack:/react-devtools-inline/src/backend.js","../../../../node_modules/react-devtools-inline/backend.js","../../reactDevtools/bootstrap.ts"],"sourcesContent":["/**\n * @license React\n * react-is.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n'use strict';\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n// The Symbol used to tag the ReactElement-like types.\nvar REACT_ELEMENT_TYPE = Symbol.for('react.element');\nvar REACT_PORTAL_TYPE = Symbol.for('react.portal');\nvar REACT_FRAGMENT_TYPE = Symbol.for('react.fragment');\nvar REACT_STRICT_MODE_TYPE = Symbol.for('react.strict_mode');\nvar REACT_PROFILER_TYPE = Symbol.for('react.profiler');\nvar REACT_PROVIDER_TYPE = Symbol.for('react.provider');\nvar REACT_CONTEXT_TYPE = Symbol.for('react.context');\nvar REACT_SERVER_CONTEXT_TYPE = Symbol.for('react.server_context');\nvar REACT_FORWARD_REF_TYPE = Symbol.for('react.forward_ref');\nvar REACT_SUSPENSE_TYPE = Symbol.for('react.suspense');\nvar REACT_SUSPENSE_LIST_TYPE = Symbol.for('react.suspense_list');\nvar REACT_MEMO_TYPE = Symbol.for('react.memo');\nvar REACT_LAZY_TYPE = Symbol.for('react.lazy');\nvar REACT_OFFSCREEN_TYPE = Symbol.for('react.offscreen');\n\n// -----------------------------------------------------------------------------\n\nvar enableScopeAPI = false; // Experimental Create Event Handle API.\nvar enableCacheElement = false;\nvar enableTransitionTracing = false; // No known bugs, but needs performance testing\n\nvar enableLegacyHidden = false; // Enables unstable_avoidThisFallback feature in Fiber\n// stuff. Intended to enable React core members to more easily debug scheduling\n// issues in DEV builds.\n\nvar enableDebugTracing = false; // Track which Fiber(s) schedule render work.\n\nvar REACT_MODULE_REFERENCE;\n\n{\n  REACT_MODULE_REFERENCE = Symbol.for('react.module.reference');\n}\n\nfunction isValidElementType(type) {\n  if (typeof type === 'string' || typeof type === 'function') {\n    return true;\n  } // Note: typeof might be other than 'symbol' or 'number' (e.g. if it's a polyfill).\n\n\n  if (type === REACT_FRAGMENT_TYPE || type === REACT_PROFILER_TYPE || enableDebugTracing  || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || enableLegacyHidden  || type === REACT_OFFSCREEN_TYPE || enableScopeAPI  || enableCacheElement  || enableTransitionTracing ) {\n    return true;\n  }\n\n  if (typeof type === 'object' && type !== null) {\n    if (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || // This needs to include all possible module reference object\n    // types supported by any Flight configuration anywhere since\n    // we don't know which Flight build this will end up being used\n    // with.\n    type.$$typeof === REACT_MODULE_REFERENCE || type.getModuleId !== undefined) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction typeOf(object) {\n  if (typeof object === 'object' && object !== null) {\n    var $$typeof = object.$$typeof;\n\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n        var type = object.type;\n\n        switch (type) {\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n          case REACT_SUSPENSE_LIST_TYPE:\n            return type;\n\n          default:\n            var $$typeofType = type && type.$$typeof;\n\n            switch ($$typeofType) {\n              case REACT_SERVER_CONTEXT_TYPE:\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_LAZY_TYPE:\n              case REACT_MEMO_TYPE:\n              case REACT_PROVIDER_TYPE:\n                return $$typeofType;\n\n              default:\n                return $$typeof;\n            }\n\n        }\n\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n\n  return undefined;\n}\nvar ContextConsumer = REACT_CONTEXT_TYPE;\nvar ContextProvider = REACT_PROVIDER_TYPE;\nvar Element = REACT_ELEMENT_TYPE;\nvar ForwardRef = REACT_FORWARD_REF_TYPE;\nvar Fragment = REACT_FRAGMENT_TYPE;\nvar Lazy = REACT_LAZY_TYPE;\nvar Memo = REACT_MEMO_TYPE;\nvar Portal = REACT_PORTAL_TYPE;\nvar Profiler = REACT_PROFILER_TYPE;\nvar StrictMode = REACT_STRICT_MODE_TYPE;\nvar Suspense = REACT_SUSPENSE_TYPE;\nvar SuspenseList = REACT_SUSPENSE_LIST_TYPE;\nvar hasWarnedAboutDeprecatedIsAsyncMode = false;\nvar hasWarnedAboutDeprecatedIsConcurrentMode = false; // AsyncMode should be deprecated\n\nfunction isAsyncMode(object) {\n  {\n    if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n      hasWarnedAboutDeprecatedIsAsyncMode = true; // Using console['warn'] to evade Babel and ESLint\n\n      console['warn']('The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 18+.');\n    }\n  }\n\n  return false;\n}\nfunction isConcurrentMode(object) {\n  {\n    if (!hasWarnedAboutDeprecatedIsConcurrentMode) {\n      hasWarnedAboutDeprecatedIsConcurrentMode = true; // Using console['warn'] to evade Babel and ESLint\n\n      console['warn']('The ReactIs.isConcurrentMode() alias has been deprecated, ' + 'and will be removed in React 18+.');\n    }\n  }\n\n  return false;\n}\nfunction isContextConsumer(object) {\n  return typeOf(object) === REACT_CONTEXT_TYPE;\n}\nfunction isContextProvider(object) {\n  return typeOf(object) === REACT_PROVIDER_TYPE;\n}\nfunction isElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nfunction isForwardRef(object) {\n  return typeOf(object) === REACT_FORWARD_REF_TYPE;\n}\nfunction isFragment(object) {\n  return typeOf(object) === REACT_FRAGMENT_TYPE;\n}\nfunction isLazy(object) {\n  return typeOf(object) === REACT_LAZY_TYPE;\n}\nfunction isMemo(object) {\n  return typeOf(object) === REACT_MEMO_TYPE;\n}\nfunction isPortal(object) {\n  return typeOf(object) === REACT_PORTAL_TYPE;\n}\nfunction isProfiler(object) {\n  return typeOf(object) === REACT_PROFILER_TYPE;\n}\nfunction isStrictMode(object) {\n  return typeOf(object) === REACT_STRICT_MODE_TYPE;\n}\nfunction isSuspense(object) {\n  return typeOf(object) === REACT_SUSPENSE_TYPE;\n}\nfunction isSuspenseList(object) {\n  return typeOf(object) === REACT_SUSPENSE_LIST_TYPE;\n}\n\nexports.ContextConsumer = ContextConsumer;\nexports.ContextProvider = ContextProvider;\nexports.Element = Element;\nexports.ForwardRef = ForwardRef;\nexports.Fragment = Fragment;\nexports.Lazy = Lazy;\nexports.Memo = Memo;\nexports.Portal = Portal;\nexports.Profiler = Profiler;\nexports.StrictMode = StrictMode;\nexports.Suspense = Suspense;\nexports.SuspenseList = SuspenseList;\nexports.isAsyncMode = isAsyncMode;\nexports.isConcurrentMode = isConcurrentMode;\nexports.isContextConsumer = isContextConsumer;\nexports.isContextProvider = isContextProvider;\nexports.isElement = isElement;\nexports.isForwardRef = isForwardRef;\nexports.isFragment = isFragment;\nexports.isLazy = isLazy;\nexports.isMemo = isMemo;\nexports.isPortal = isPortal;\nexports.isProfiler = isProfiler;\nexports.isStrictMode = isStrictMode;\nexports.isSuspense = isSuspense;\nexports.isSuspenseList = isSuspenseList;\nexports.isValidElementType = isValidElementType;\nexports.typeOf = typeOf;\n  })();\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","/**\n * @license React\n * react.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n\n          'use strict';\n\n/* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\nif (\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== 'undefined' &&\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart ===\n    'function'\n) {\n  __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error());\n}\n          var ReactVersion = '18.2.0';\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n// The Symbol used to tag the ReactElement-like types.\nvar REACT_ELEMENT_TYPE = Symbol.for('react.element');\nvar REACT_PORTAL_TYPE = Symbol.for('react.portal');\nvar REACT_FRAGMENT_TYPE = Symbol.for('react.fragment');\nvar REACT_STRICT_MODE_TYPE = Symbol.for('react.strict_mode');\nvar REACT_PROFILER_TYPE = Symbol.for('react.profiler');\nvar REACT_PROVIDER_TYPE = Symbol.for('react.provider');\nvar REACT_CONTEXT_TYPE = Symbol.for('react.context');\nvar REACT_FORWARD_REF_TYPE = Symbol.for('react.forward_ref');\nvar REACT_SUSPENSE_TYPE = Symbol.for('react.suspense');\nvar REACT_SUSPENSE_LIST_TYPE = Symbol.for('react.suspense_list');\nvar REACT_MEMO_TYPE = Symbol.for('react.memo');\nvar REACT_LAZY_TYPE = Symbol.for('react.lazy');\nvar REACT_OFFSCREEN_TYPE = Symbol.for('react.offscreen');\nvar MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator';\nfunction getIteratorFn(maybeIterable) {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n\n  var maybeIterator = MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL];\n\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n\n  return null;\n}\n\n/**\n * Keeps track of the current dispatcher.\n */\nvar ReactCurrentDispatcher = {\n  /**\n   * @internal\n   * @type {ReactComponent}\n   */\n  current: null\n};\n\n/**\n * Keeps track of the current batch's configuration such as how long an update\n * should suspend for if it needs to.\n */\nvar ReactCurrentBatchConfig = {\n  transition: null\n};\n\nvar ReactCurrentActQueue = {\n  current: null,\n  // Used to reproduce behavior of `batchedUpdates` in legacy mode.\n  isBatchingLegacy: false,\n  didScheduleLegacyUpdate: false\n};\n\n/**\n * Keeps track of the current owner.\n *\n * The current owner is the component who should own any components that are\n * currently being constructed.\n */\nvar ReactCurrentOwner = {\n  /**\n   * @internal\n   * @type {ReactComponent}\n   */\n  current: null\n};\n\nvar ReactDebugCurrentFrame = {};\nvar currentExtraStackFrame = null;\nfunction setExtraStackFrame(stack) {\n  {\n    currentExtraStackFrame = stack;\n  }\n}\n\n{\n  ReactDebugCurrentFrame.setExtraStackFrame = function (stack) {\n    {\n      currentExtraStackFrame = stack;\n    }\n  }; // Stack implementation injected by the current renderer.\n\n\n  ReactDebugCurrentFrame.getCurrentStack = null;\n\n  ReactDebugCurrentFrame.getStackAddendum = function () {\n    var stack = ''; // Add an extra top frame while an element is being validated\n\n    if (currentExtraStackFrame) {\n      stack += currentExtraStackFrame;\n    } // Delegate to the injected renderer-specific implementation\n\n\n    var impl = ReactDebugCurrentFrame.getCurrentStack;\n\n    if (impl) {\n      stack += impl() || '';\n    }\n\n    return stack;\n  };\n}\n\n// -----------------------------------------------------------------------------\n\nvar enableScopeAPI = false; // Experimental Create Event Handle API.\nvar enableCacheElement = false;\nvar enableTransitionTracing = false; // No known bugs, but needs performance testing\n\nvar enableLegacyHidden = false; // Enables unstable_avoidThisFallback feature in Fiber\n// stuff. Intended to enable React core members to more easily debug scheduling\n// issues in DEV builds.\n\nvar enableDebugTracing = false; // Track which Fiber(s) schedule render work.\n\nvar ReactSharedInternals = {\n  ReactCurrentDispatcher: ReactCurrentDispatcher,\n  ReactCurrentBatchConfig: ReactCurrentBatchConfig,\n  ReactCurrentOwner: ReactCurrentOwner\n};\n\n{\n  ReactSharedInternals.ReactDebugCurrentFrame = ReactDebugCurrentFrame;\n  ReactSharedInternals.ReactCurrentActQueue = ReactCurrentActQueue;\n}\n\n// by calls to these methods by a Babel plugin.\n//\n// In PROD (or in packages without access to React internals),\n// they are left as they are instead.\n\nfunction warn(format) {\n  {\n    {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      printWarning('warn', format, args);\n    }\n  }\n}\nfunction error(format) {\n  {\n    {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      printWarning('error', format, args);\n    }\n  }\n}\n\nfunction printWarning(level, format, args) {\n  // When changing this logic, you might want to also\n  // update consoleWithStackDev.www.js as well.\n  {\n    var ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n    var stack = ReactDebugCurrentFrame.getStackAddendum();\n\n    if (stack !== '') {\n      format += '%s';\n      args = args.concat([stack]);\n    } // eslint-disable-next-line react-internal/safe-string-coercion\n\n\n    var argsWithFormat = args.map(function (item) {\n      return String(item);\n    }); // Careful: RN currently depends on this prefix\n\n    argsWithFormat.unshift('Warning: ' + format); // We intentionally don't use spread (or .apply) directly because it\n    // breaks IE9: https://github.com/facebook/react/issues/13610\n    // eslint-disable-next-line react-internal/no-production-logging\n\n    Function.prototype.apply.call(console[level], console, argsWithFormat);\n  }\n}\n\nvar didWarnStateUpdateForUnmountedComponent = {};\n\nfunction warnNoop(publicInstance, callerName) {\n  {\n    var _constructor = publicInstance.constructor;\n    var componentName = _constructor && (_constructor.displayName || _constructor.name) || 'ReactClass';\n    var warningKey = componentName + \".\" + callerName;\n\n    if (didWarnStateUpdateForUnmountedComponent[warningKey]) {\n      return;\n    }\n\n    error(\"Can't call %s on a component that is not yet mounted. \" + 'This is a no-op, but it might indicate a bug in your application. ' + 'Instead, assign to `this.state` directly or define a `state = {};` ' + 'class property with the desired state in the %s component.', callerName, componentName);\n\n    didWarnStateUpdateForUnmountedComponent[warningKey] = true;\n  }\n}\n/**\n * This is the abstract API for an update queue.\n */\n\n\nvar ReactNoopUpdateQueue = {\n  /**\n   * Checks whether or not this composite component is mounted.\n   * @param {ReactClass} publicInstance The instance we want to test.\n   * @return {boolean} True if mounted, false otherwise.\n   * @protected\n   * @final\n   */\n  isMounted: function (publicInstance) {\n    return false;\n  },\n\n  /**\n   * Forces an update. This should only be invoked when it is known with\n   * certainty that we are **not** in a DOM transaction.\n   *\n   * You may want to call this when you know that some deeper aspect of the\n   * component's state has changed but `setState` was not called.\n   *\n   * This will not invoke `shouldComponentUpdate`, but it will invoke\n   * `componentWillUpdate` and `componentDidUpdate`.\n   *\n   * @param {ReactClass} publicInstance The instance that should rerender.\n   * @param {?function} callback Called after component is updated.\n   * @param {?string} callerName name of the calling function in the public API.\n   * @internal\n   */\n  enqueueForceUpdate: function (publicInstance, callback, callerName) {\n    warnNoop(publicInstance, 'forceUpdate');\n  },\n\n  /**\n   * Replaces all of the state. Always use this or `setState` to mutate state.\n   * You should treat `this.state` as immutable.\n   *\n   * There is no guarantee that `this.state` will be immediately updated, so\n   * accessing `this.state` after calling this method may return the old value.\n   *\n   * @param {ReactClass} publicInstance The instance that should rerender.\n   * @param {object} completeState Next state.\n   * @param {?function} callback Called after component is updated.\n   * @param {?string} callerName name of the calling function in the public API.\n   * @internal\n   */\n  enqueueReplaceState: function (publicInstance, completeState, callback, callerName) {\n    warnNoop(publicInstance, 'replaceState');\n  },\n\n  /**\n   * Sets a subset of the state. This only exists because _pendingState is\n   * internal. This provides a merging strategy that is not available to deep\n   * properties which is confusing. TODO: Expose pendingState or don't use it\n   * during the merge.\n   *\n   * @param {ReactClass} publicInstance The instance that should rerender.\n   * @param {object} partialState Next partial state to be merged with state.\n   * @param {?function} callback Called after component is updated.\n   * @param {?string} Name of the calling function in the public API.\n   * @internal\n   */\n  enqueueSetState: function (publicInstance, partialState, callback, callerName) {\n    warnNoop(publicInstance, 'setState');\n  }\n};\n\nvar assign = Object.assign;\n\nvar emptyObject = {};\n\n{\n  Object.freeze(emptyObject);\n}\n/**\n * Base class helpers for the updating state of a component.\n */\n\n\nfunction Component(props, context, updater) {\n  this.props = props;\n  this.context = context; // If a component has string refs, we will assign a different object later.\n\n  this.refs = emptyObject; // We initialize the default updater but the real one gets injected by the\n  // renderer.\n\n  this.updater = updater || ReactNoopUpdateQueue;\n}\n\nComponent.prototype.isReactComponent = {};\n/**\n * Sets a subset of the state. Always use this to mutate\n * state. You should treat `this.state` as immutable.\n *\n * There is no guarantee that `this.state` will be immediately updated, so\n * accessing `this.state` after calling this method may return the old value.\n *\n * There is no guarantee that calls to `setState` will run synchronously,\n * as they may eventually be batched together.  You can provide an optional\n * callback that will be executed when the call to setState is actually\n * completed.\n *\n * When a function is provided to setState, it will be called at some point in\n * the future (not synchronously). It will be called with the up to date\n * component arguments (state, props, context). These values can be different\n * from this.* because your function may be called after receiveProps but before\n * shouldComponentUpdate, and this new state, props, and context will not yet be\n * assigned to this.\n *\n * @param {object|function} partialState Next partial state or function to\n *        produce next partial state to be merged with current state.\n * @param {?function} callback Called after state is updated.\n * @final\n * @protected\n */\n\nComponent.prototype.setState = function (partialState, callback) {\n  if (typeof partialState !== 'object' && typeof partialState !== 'function' && partialState != null) {\n    throw new Error('setState(...): takes an object of state variables to update or a ' + 'function which returns an object of state variables.');\n  }\n\n  this.updater.enqueueSetState(this, partialState, callback, 'setState');\n};\n/**\n * Forces an update. This should only be invoked when it is known with\n * certainty that we are **not** in a DOM transaction.\n *\n * You may want to call this when you know that some deeper aspect of the\n * component's state has changed but `setState` was not called.\n *\n * This will not invoke `shouldComponentUpdate`, but it will invoke\n * `componentWillUpdate` and `componentDidUpdate`.\n *\n * @param {?function} callback Called after update is complete.\n * @final\n * @protected\n */\n\n\nComponent.prototype.forceUpdate = function (callback) {\n  this.updater.enqueueForceUpdate(this, callback, 'forceUpdate');\n};\n/**\n * Deprecated APIs. These APIs used to exist on classic React classes but since\n * we would like to deprecate them, we're not going to move them over to this\n * modern base class. Instead, we define a getter that warns if it's accessed.\n */\n\n\n{\n  var deprecatedAPIs = {\n    isMounted: ['isMounted', 'Instead, make sure to clean up subscriptions and pending requests in ' + 'componentWillUnmount to prevent memory leaks.'],\n    replaceState: ['replaceState', 'Refactor your code to use setState instead (see ' + 'https://github.com/facebook/react/issues/3236).']\n  };\n\n  var defineDeprecationWarning = function (methodName, info) {\n    Object.defineProperty(Component.prototype, methodName, {\n      get: function () {\n        warn('%s(...) is deprecated in plain JavaScript React classes. %s', info[0], info[1]);\n\n        return undefined;\n      }\n    });\n  };\n\n  for (var fnName in deprecatedAPIs) {\n    if (deprecatedAPIs.hasOwnProperty(fnName)) {\n      defineDeprecationWarning(fnName, deprecatedAPIs[fnName]);\n    }\n  }\n}\n\nfunction ComponentDummy() {}\n\nComponentDummy.prototype = Component.prototype;\n/**\n * Convenience component with default shallow equality check for sCU.\n */\n\nfunction PureComponent(props, context, updater) {\n  this.props = props;\n  this.context = context; // If a component has string refs, we will assign a different object later.\n\n  this.refs = emptyObject;\n  this.updater = updater || ReactNoopUpdateQueue;\n}\n\nvar pureComponentPrototype = PureComponent.prototype = new ComponentDummy();\npureComponentPrototype.constructor = PureComponent; // Avoid an extra prototype jump for these methods.\n\nassign(pureComponentPrototype, Component.prototype);\npureComponentPrototype.isPureReactComponent = true;\n\n// an immutable object with a single mutable value\nfunction createRef() {\n  var refObject = {\n    current: null\n  };\n\n  {\n    Object.seal(refObject);\n  }\n\n  return refObject;\n}\n\nvar isArrayImpl = Array.isArray; // eslint-disable-next-line no-redeclare\n\nfunction isArray(a) {\n  return isArrayImpl(a);\n}\n\n/*\n * The `'' + value` pattern (used in in perf-sensitive code) throws for Symbol\n * and Temporal.* types. See https://github.com/facebook/react/pull/22064.\n *\n * The functions in this module will throw an easier-to-understand,\n * easier-to-debug exception with a clear errors message message explaining the\n * problem. (Instead of a confusing exception thrown inside the implementation\n * of the `value` object).\n */\n// $FlowFixMe only called in DEV, so void return is not possible.\nfunction typeName(value) {\n  {\n    // toStringTag is needed for namespaced types like Temporal.Instant\n    var hasToStringTag = typeof Symbol === 'function' && Symbol.toStringTag;\n    var type = hasToStringTag && value[Symbol.toStringTag] || value.constructor.name || 'Object';\n    return type;\n  }\n} // $FlowFixMe only called in DEV, so void return is not possible.\n\n\nfunction willCoercionThrow(value) {\n  {\n    try {\n      testStringCoercion(value);\n      return false;\n    } catch (e) {\n      return true;\n    }\n  }\n}\n\nfunction testStringCoercion(value) {\n  // If you ended up here by following an exception call stack, here's what's\n  // happened: you supplied an object or symbol value to React (as a prop, key,\n  // DOM attribute, CSS property, string ref, etc.) and when React tried to\n  // coerce it to a string using `'' + value`, an exception was thrown.\n  //\n  // The most common types that will cause this exception are `Symbol` instances\n  // and Temporal objects like `Temporal.Instant`. But any object that has a\n  // `valueOf` or `[Symbol.toPrimitive]` method that throws will also cause this\n  // exception. (Library authors do this to prevent users from using built-in\n  // numeric operators like `+` or comparison operators like `>=` because custom\n  // methods are needed to perform accurate arithmetic or comparison.)\n  //\n  // To fix the problem, coerce this object or symbol value to a string before\n  // passing it to React. The most reliable way is usually `String(value)`.\n  //\n  // To find which value is throwing, check the browser or debugger console.\n  // Before this exception was thrown, there should be `console.error` output\n  // that shows the type (Symbol, Temporal.PlainDate, etc.) that caused the\n  // problem and how that type was used: key, atrribute, input value prop, etc.\n  // In most cases, this console output also shows the component and its\n  // ancestor components where the exception happened.\n  //\n  // eslint-disable-next-line react-internal/safe-string-coercion\n  return '' + value;\n}\nfunction checkKeyStringCoercion(value) {\n  {\n    if (willCoercionThrow(value)) {\n      error('The provided key is an unsupported type %s.' + ' This value must be coerced to a string before before using it here.', typeName(value));\n\n      return testStringCoercion(value); // throw (to help callers find troubleshooting comments)\n    }\n  }\n}\n\nfunction getWrappedName(outerType, innerType, wrapperName) {\n  var displayName = outerType.displayName;\n\n  if (displayName) {\n    return displayName;\n  }\n\n  var functionName = innerType.displayName || innerType.name || '';\n  return functionName !== '' ? wrapperName + \"(\" + functionName + \")\" : wrapperName;\n} // Keep in sync with react-reconciler/getComponentNameFromFiber\n\n\nfunction getContextName(type) {\n  return type.displayName || 'Context';\n} // Note that the reconciler package should generally prefer to use getComponentNameFromFiber() instead.\n\n\nfunction getComponentNameFromType(type) {\n  if (type == null) {\n    // Host root, text node or just invalid type.\n    return null;\n  }\n\n  {\n    if (typeof type.tag === 'number') {\n      error('Received an unexpected object in getComponentNameFromType(). ' + 'This is likely a bug in React. Please file an issue.');\n    }\n  }\n\n  if (typeof type === 'function') {\n    return type.displayName || type.name || null;\n  }\n\n  if (typeof type === 'string') {\n    return type;\n  }\n\n  switch (type) {\n    case REACT_FRAGMENT_TYPE:\n      return 'Fragment';\n\n    case REACT_PORTAL_TYPE:\n      return 'Portal';\n\n    case REACT_PROFILER_TYPE:\n      return 'Profiler';\n\n    case REACT_STRICT_MODE_TYPE:\n      return 'StrictMode';\n\n    case REACT_SUSPENSE_TYPE:\n      return 'Suspense';\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return 'SuspenseList';\n\n  }\n\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_CONTEXT_TYPE:\n        var context = type;\n        return getContextName(context) + '.Consumer';\n\n      case REACT_PROVIDER_TYPE:\n        var provider = type;\n        return getContextName(provider._context) + '.Provider';\n\n      case REACT_FORWARD_REF_TYPE:\n        return getWrappedName(type, type.render, 'ForwardRef');\n\n      case REACT_MEMO_TYPE:\n        var outerName = type.displayName || null;\n\n        if (outerName !== null) {\n          return outerName;\n        }\n\n        return getComponentNameFromType(type.type) || 'Memo';\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            return getComponentNameFromType(init(payload));\n          } catch (x) {\n            return null;\n          }\n        }\n\n      // eslint-disable-next-line no-fallthrough\n    }\n  }\n\n  return null;\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar RESERVED_PROPS = {\n  key: true,\n  ref: true,\n  __self: true,\n  __source: true\n};\nvar specialPropKeyWarningShown, specialPropRefWarningShown, didWarnAboutStringRefs;\n\n{\n  didWarnAboutStringRefs = {};\n}\n\nfunction hasValidRef(config) {\n  {\n    if (hasOwnProperty.call(config, 'ref')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'ref').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.ref !== undefined;\n}\n\nfunction hasValidKey(config) {\n  {\n    if (hasOwnProperty.call(config, 'key')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'key').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.key !== undefined;\n}\n\nfunction defineKeyPropWarningGetter(props, displayName) {\n  var warnAboutAccessingKey = function () {\n    {\n      if (!specialPropKeyWarningShown) {\n        specialPropKeyWarningShown = true;\n\n        error('%s: `key` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n      }\n    }\n  };\n\n  warnAboutAccessingKey.isReactWarning = true;\n  Object.defineProperty(props, 'key', {\n    get: warnAboutAccessingKey,\n    configurable: true\n  });\n}\n\nfunction defineRefPropWarningGetter(props, displayName) {\n  var warnAboutAccessingRef = function () {\n    {\n      if (!specialPropRefWarningShown) {\n        specialPropRefWarningShown = true;\n\n        error('%s: `ref` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n      }\n    }\n  };\n\n  warnAboutAccessingRef.isReactWarning = true;\n  Object.defineProperty(props, 'ref', {\n    get: warnAboutAccessingRef,\n    configurable: true\n  });\n}\n\nfunction warnIfStringRefCannotBeAutoConverted(config) {\n  {\n    if (typeof config.ref === 'string' && ReactCurrentOwner.current && config.__self && ReactCurrentOwner.current.stateNode !== config.__self) {\n      var componentName = getComponentNameFromType(ReactCurrentOwner.current.type);\n\n      if (!didWarnAboutStringRefs[componentName]) {\n        error('Component \"%s\" contains the string ref \"%s\". ' + 'Support for string refs will be removed in a future major release. ' + 'This case cannot be automatically converted to an arrow function. ' + 'We ask you to manually fix this case by using useRef() or createRef() instead. ' + 'Learn more about using refs safely here: ' + 'https://reactjs.org/link/strict-mode-string-ref', componentName, config.ref);\n\n        didWarnAboutStringRefs[componentName] = true;\n      }\n    }\n  }\n}\n/**\n * Factory method to create a new React element. This no longer adheres to\n * the class pattern, so do not use new to call it. Also, instanceof check\n * will not work. Instead test $$typeof field against Symbol.for('react.element') to check\n * if something is a React Element.\n *\n * @param {*} type\n * @param {*} props\n * @param {*} key\n * @param {string|object} ref\n * @param {*} owner\n * @param {*} self A *temporary* helper to detect places where `this` is\n * different from the `owner` when React.createElement is called, so that we\n * can warn. We want to get rid of owner and replace string `ref`s with arrow\n * functions, and as long as `this` and owner are the same, there will be no\n * change in behavior.\n * @param {*} source An annotation object (added by a transpiler or otherwise)\n * indicating filename, line number, and/or other information.\n * @internal\n */\n\n\nvar ReactElement = function (type, key, ref, self, source, owner, props) {\n  var element = {\n    // This tag allows us to uniquely identify this as a React Element\n    $$typeof: REACT_ELEMENT_TYPE,\n    // Built-in properties that belong on the element\n    type: type,\n    key: key,\n    ref: ref,\n    props: props,\n    // Record the component responsible for creating this element.\n    _owner: owner\n  };\n\n  {\n    // The validation flag is currently mutative. We put it on\n    // an external backing store so that we can freeze the whole object.\n    // This can be replaced with a WeakMap once they are implemented in\n    // commonly used development environments.\n    element._store = {}; // To make comparing ReactElements easier for testing purposes, we make\n    // the validation flag non-enumerable (where possible, which should\n    // include every environment we run tests in), so the test framework\n    // ignores it.\n\n    Object.defineProperty(element._store, 'validated', {\n      configurable: false,\n      enumerable: false,\n      writable: true,\n      value: false\n    }); // self and source are DEV only properties.\n\n    Object.defineProperty(element, '_self', {\n      configurable: false,\n      enumerable: false,\n      writable: false,\n      value: self\n    }); // Two elements created in two different places should be considered\n    // equal for testing purposes and therefore we hide it from enumeration.\n\n    Object.defineProperty(element, '_source', {\n      configurable: false,\n      enumerable: false,\n      writable: false,\n      value: source\n    });\n\n    if (Object.freeze) {\n      Object.freeze(element.props);\n      Object.freeze(element);\n    }\n  }\n\n  return element;\n};\n/**\n * Create and return a new ReactElement of the given type.\n * See https://reactjs.org/docs/react-api.html#createelement\n */\n\nfunction createElement(type, config, children) {\n  var propName; // Reserved names are extracted\n\n  var props = {};\n  var key = null;\n  var ref = null;\n  var self = null;\n  var source = null;\n\n  if (config != null) {\n    if (hasValidRef(config)) {\n      ref = config.ref;\n\n      {\n        warnIfStringRefCannotBeAutoConverted(config);\n      }\n    }\n\n    if (hasValidKey(config)) {\n      {\n        checkKeyStringCoercion(config.key);\n      }\n\n      key = '' + config.key;\n    }\n\n    self = config.__self === undefined ? null : config.__self;\n    source = config.__source === undefined ? null : config.__source; // Remaining properties are added to a new props object\n\n    for (propName in config) {\n      if (hasOwnProperty.call(config, propName) && !RESERVED_PROPS.hasOwnProperty(propName)) {\n        props[propName] = config[propName];\n      }\n    }\n  } // Children can be more than one argument, and those are transferred onto\n  // the newly allocated props object.\n\n\n  var childrenLength = arguments.length - 2;\n\n  if (childrenLength === 1) {\n    props.children = children;\n  } else if (childrenLength > 1) {\n    var childArray = Array(childrenLength);\n\n    for (var i = 0; i < childrenLength; i++) {\n      childArray[i] = arguments[i + 2];\n    }\n\n    {\n      if (Object.freeze) {\n        Object.freeze(childArray);\n      }\n    }\n\n    props.children = childArray;\n  } // Resolve default props\n\n\n  if (type && type.defaultProps) {\n    var defaultProps = type.defaultProps;\n\n    for (propName in defaultProps) {\n      if (props[propName] === undefined) {\n        props[propName] = defaultProps[propName];\n      }\n    }\n  }\n\n  {\n    if (key || ref) {\n      var displayName = typeof type === 'function' ? type.displayName || type.name || 'Unknown' : type;\n\n      if (key) {\n        defineKeyPropWarningGetter(props, displayName);\n      }\n\n      if (ref) {\n        defineRefPropWarningGetter(props, displayName);\n      }\n    }\n  }\n\n  return ReactElement(type, key, ref, self, source, ReactCurrentOwner.current, props);\n}\nfunction cloneAndReplaceKey(oldElement, newKey) {\n  var newElement = ReactElement(oldElement.type, newKey, oldElement.ref, oldElement._self, oldElement._source, oldElement._owner, oldElement.props);\n  return newElement;\n}\n/**\n * Clone and return a new ReactElement using element as the starting point.\n * See https://reactjs.org/docs/react-api.html#cloneelement\n */\n\nfunction cloneElement(element, config, children) {\n  if (element === null || element === undefined) {\n    throw new Error(\"React.cloneElement(...): The argument must be a React element, but you passed \" + element + \".\");\n  }\n\n  var propName; // Original props are copied\n\n  var props = assign({}, element.props); // Reserved names are extracted\n\n  var key = element.key;\n  var ref = element.ref; // Self is preserved since the owner is preserved.\n\n  var self = element._self; // Source is preserved since cloneElement is unlikely to be targeted by a\n  // transpiler, and the original source is probably a better indicator of the\n  // true owner.\n\n  var source = element._source; // Owner will be preserved, unless ref is overridden\n\n  var owner = element._owner;\n\n  if (config != null) {\n    if (hasValidRef(config)) {\n      // Silently steal the ref from the parent.\n      ref = config.ref;\n      owner = ReactCurrentOwner.current;\n    }\n\n    if (hasValidKey(config)) {\n      {\n        checkKeyStringCoercion(config.key);\n      }\n\n      key = '' + config.key;\n    } // Remaining properties override existing props\n\n\n    var defaultProps;\n\n    if (element.type && element.type.defaultProps) {\n      defaultProps = element.type.defaultProps;\n    }\n\n    for (propName in config) {\n      if (hasOwnProperty.call(config, propName) && !RESERVED_PROPS.hasOwnProperty(propName)) {\n        if (config[propName] === undefined && defaultProps !== undefined) {\n          // Resolve default props\n          props[propName] = defaultProps[propName];\n        } else {\n          props[propName] = config[propName];\n        }\n      }\n    }\n  } // Children can be more than one argument, and those are transferred onto\n  // the newly allocated props object.\n\n\n  var childrenLength = arguments.length - 2;\n\n  if (childrenLength === 1) {\n    props.children = children;\n  } else if (childrenLength > 1) {\n    var childArray = Array(childrenLength);\n\n    for (var i = 0; i < childrenLength; i++) {\n      childArray[i] = arguments[i + 2];\n    }\n\n    props.children = childArray;\n  }\n\n  return ReactElement(element.type, key, ref, self, source, owner, props);\n}\n/**\n * Verifies the object is a ReactElement.\n * See https://reactjs.org/docs/react-api.html#isvalidelement\n * @param {?object} object\n * @return {boolean} True if `object` is a ReactElement.\n * @final\n */\n\nfunction isValidElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\n\nvar SEPARATOR = '.';\nvar SUBSEPARATOR = ':';\n/**\n * Escape and wrap key so it is safe to use as a reactid\n *\n * @param {string} key to be escaped.\n * @return {string} the escaped key.\n */\n\nfunction escape(key) {\n  var escapeRegex = /[=:]/g;\n  var escaperLookup = {\n    '=': '=0',\n    ':': '=2'\n  };\n  var escapedString = key.replace(escapeRegex, function (match) {\n    return escaperLookup[match];\n  });\n  return '$' + escapedString;\n}\n/**\n * TODO: Test that a single child and an array with one item have the same key\n * pattern.\n */\n\n\nvar didWarnAboutMaps = false;\nvar userProvidedKeyEscapeRegex = /\\/+/g;\n\nfunction escapeUserProvidedKey(text) {\n  return text.replace(userProvidedKeyEscapeRegex, '$&/');\n}\n/**\n * Generate a key string that identifies a element within a set.\n *\n * @param {*} element A element that could contain a manual key.\n * @param {number} index Index that is used if a manual key is not provided.\n * @return {string}\n */\n\n\nfunction getElementKey(element, index) {\n  // Do some typechecking here since we call this blindly. We want to ensure\n  // that we don't block potential future ES APIs.\n  if (typeof element === 'object' && element !== null && element.key != null) {\n    // Explicit key\n    {\n      checkKeyStringCoercion(element.key);\n    }\n\n    return escape('' + element.key);\n  } // Implicit key determined by the index in the set\n\n\n  return index.toString(36);\n}\n\nfunction mapIntoArray(children, array, escapedPrefix, nameSoFar, callback) {\n  var type = typeof children;\n\n  if (type === 'undefined' || type === 'boolean') {\n    // All of the above are perceived as null.\n    children = null;\n  }\n\n  var invokeCallback = false;\n\n  if (children === null) {\n    invokeCallback = true;\n  } else {\n    switch (type) {\n      case 'string':\n      case 'number':\n        invokeCallback = true;\n        break;\n\n      case 'object':\n        switch (children.$$typeof) {\n          case REACT_ELEMENT_TYPE:\n          case REACT_PORTAL_TYPE:\n            invokeCallback = true;\n        }\n\n    }\n  }\n\n  if (invokeCallback) {\n    var _child = children;\n    var mappedChild = callback(_child); // If it's the only child, treat the name as if it was wrapped in an array\n    // so that it's consistent if the number of children grows:\n\n    var childKey = nameSoFar === '' ? SEPARATOR + getElementKey(_child, 0) : nameSoFar;\n\n    if (isArray(mappedChild)) {\n      var escapedChildKey = '';\n\n      if (childKey != null) {\n        escapedChildKey = escapeUserProvidedKey(childKey) + '/';\n      }\n\n      mapIntoArray(mappedChild, array, escapedChildKey, '', function (c) {\n        return c;\n      });\n    } else if (mappedChild != null) {\n      if (isValidElement(mappedChild)) {\n        {\n          // The `if` statement here prevents auto-disabling of the safe\n          // coercion ESLint rule, so we must manually disable it below.\n          // $FlowFixMe Flow incorrectly thinks React.Portal doesn't have a key\n          if (mappedChild.key && (!_child || _child.key !== mappedChild.key)) {\n            checkKeyStringCoercion(mappedChild.key);\n          }\n        }\n\n        mappedChild = cloneAndReplaceKey(mappedChild, // Keep both the (mapped) and old keys if they differ, just as\n        // traverseAllChildren used to do for objects as children\n        escapedPrefix + ( // $FlowFixMe Flow incorrectly thinks React.Portal doesn't have a key\n        mappedChild.key && (!_child || _child.key !== mappedChild.key) ? // $FlowFixMe Flow incorrectly thinks existing element's key can be a number\n        // eslint-disable-next-line react-internal/safe-string-coercion\n        escapeUserProvidedKey('' + mappedChild.key) + '/' : '') + childKey);\n      }\n\n      array.push(mappedChild);\n    }\n\n    return 1;\n  }\n\n  var child;\n  var nextName;\n  var subtreeCount = 0; // Count of children found in the current subtree.\n\n  var nextNamePrefix = nameSoFar === '' ? SEPARATOR : nameSoFar + SUBSEPARATOR;\n\n  if (isArray(children)) {\n    for (var i = 0; i < children.length; i++) {\n      child = children[i];\n      nextName = nextNamePrefix + getElementKey(child, i);\n      subtreeCount += mapIntoArray(child, array, escapedPrefix, nextName, callback);\n    }\n  } else {\n    var iteratorFn = getIteratorFn(children);\n\n    if (typeof iteratorFn === 'function') {\n      var iterableChildren = children;\n\n      {\n        // Warn about using Maps as children\n        if (iteratorFn === iterableChildren.entries) {\n          if (!didWarnAboutMaps) {\n            warn('Using Maps as children is not supported. ' + 'Use an array of keyed ReactElements instead.');\n          }\n\n          didWarnAboutMaps = true;\n        }\n      }\n\n      var iterator = iteratorFn.call(iterableChildren);\n      var step;\n      var ii = 0;\n\n      while (!(step = iterator.next()).done) {\n        child = step.value;\n        nextName = nextNamePrefix + getElementKey(child, ii++);\n        subtreeCount += mapIntoArray(child, array, escapedPrefix, nextName, callback);\n      }\n    } else if (type === 'object') {\n      // eslint-disable-next-line react-internal/safe-string-coercion\n      var childrenString = String(children);\n      throw new Error(\"Objects are not valid as a React child (found: \" + (childrenString === '[object Object]' ? 'object with keys {' + Object.keys(children).join(', ') + '}' : childrenString) + \"). \" + 'If you meant to render a collection of children, use an array ' + 'instead.');\n    }\n  }\n\n  return subtreeCount;\n}\n\n/**\n * Maps children that are typically specified as `props.children`.\n *\n * See https://reactjs.org/docs/react-api.html#reactchildrenmap\n *\n * The provided mapFunction(child, index) will be called for each\n * leaf child.\n *\n * @param {?*} children Children tree container.\n * @param {function(*, int)} func The map function.\n * @param {*} context Context for mapFunction.\n * @return {object} Object containing the ordered map of results.\n */\nfunction mapChildren(children, func, context) {\n  if (children == null) {\n    return children;\n  }\n\n  var result = [];\n  var count = 0;\n  mapIntoArray(children, result, '', '', function (child) {\n    return func.call(context, child, count++);\n  });\n  return result;\n}\n/**\n * Count the number of children that are typically specified as\n * `props.children`.\n *\n * See https://reactjs.org/docs/react-api.html#reactchildrencount\n *\n * @param {?*} children Children tree container.\n * @return {number} The number of children.\n */\n\n\nfunction countChildren(children) {\n  var n = 0;\n  mapChildren(children, function () {\n    n++; // Don't return anything\n  });\n  return n;\n}\n\n/**\n * Iterates through children that are typically specified as `props.children`.\n *\n * See https://reactjs.org/docs/react-api.html#reactchildrenforeach\n *\n * The provided forEachFunc(child, index) will be called for each\n * leaf child.\n *\n * @param {?*} children Children tree container.\n * @param {function(*, int)} forEachFunc\n * @param {*} forEachContext Context for forEachContext.\n */\nfunction forEachChildren(children, forEachFunc, forEachContext) {\n  mapChildren(children, function () {\n    forEachFunc.apply(this, arguments); // Don't return anything.\n  }, forEachContext);\n}\n/**\n * Flatten a children object (typically specified as `props.children`) and\n * return an array with appropriately re-keyed children.\n *\n * See https://reactjs.org/docs/react-api.html#reactchildrentoarray\n */\n\n\nfunction toArray(children) {\n  return mapChildren(children, function (child) {\n    return child;\n  }) || [];\n}\n/**\n * Returns the first child in a collection of children and verifies that there\n * is only one child in the collection.\n *\n * See https://reactjs.org/docs/react-api.html#reactchildrenonly\n *\n * The current implementation of this function assumes that a single child gets\n * passed without a wrapper, but the purpose of this helper function is to\n * abstract away the particular structure of children.\n *\n * @param {?object} children Child collection structure.\n * @return {ReactElement} The first and only `ReactElement` contained in the\n * structure.\n */\n\n\nfunction onlyChild(children) {\n  if (!isValidElement(children)) {\n    throw new Error('React.Children.only expected to receive a single React element child.');\n  }\n\n  return children;\n}\n\nfunction createContext(defaultValue) {\n  // TODO: Second argument used to be an optional `calculateChangedBits`\n  // function. Warn to reserve for future use?\n  var context = {\n    $$typeof: REACT_CONTEXT_TYPE,\n    // As a workaround to support multiple concurrent renderers, we categorize\n    // some renderers as primary and others as secondary. We only expect\n    // there to be two concurrent renderers at most: React Native (primary) and\n    // Fabric (secondary); React DOM (primary) and React ART (secondary).\n    // Secondary renderers store their context values on separate fields.\n    _currentValue: defaultValue,\n    _currentValue2: defaultValue,\n    // Used to track how many concurrent renderers this context currently\n    // supports within in a single renderer. Such as parallel server rendering.\n    _threadCount: 0,\n    // These are circular\n    Provider: null,\n    Consumer: null,\n    // Add these to use same hidden class in VM as ServerContext\n    _defaultValue: null,\n    _globalName: null\n  };\n  context.Provider = {\n    $$typeof: REACT_PROVIDER_TYPE,\n    _context: context\n  };\n  var hasWarnedAboutUsingNestedContextConsumers = false;\n  var hasWarnedAboutUsingConsumerProvider = false;\n  var hasWarnedAboutDisplayNameOnConsumer = false;\n\n  {\n    // A separate object, but proxies back to the original context object for\n    // backwards compatibility. It has a different $$typeof, so we can properly\n    // warn for the incorrect usage of Context as a Consumer.\n    var Consumer = {\n      $$typeof: REACT_CONTEXT_TYPE,\n      _context: context\n    }; // $FlowFixMe: Flow complains about not setting a value, which is intentional here\n\n    Object.defineProperties(Consumer, {\n      Provider: {\n        get: function () {\n          if (!hasWarnedAboutUsingConsumerProvider) {\n            hasWarnedAboutUsingConsumerProvider = true;\n\n            error('Rendering <Context.Consumer.Provider> is not supported and will be removed in ' + 'a future major release. Did you mean to render <Context.Provider> instead?');\n          }\n\n          return context.Provider;\n        },\n        set: function (_Provider) {\n          context.Provider = _Provider;\n        }\n      },\n      _currentValue: {\n        get: function () {\n          return context._currentValue;\n        },\n        set: function (_currentValue) {\n          context._currentValue = _currentValue;\n        }\n      },\n      _currentValue2: {\n        get: function () {\n          return context._currentValue2;\n        },\n        set: function (_currentValue2) {\n          context._currentValue2 = _currentValue2;\n        }\n      },\n      _threadCount: {\n        get: function () {\n          return context._threadCount;\n        },\n        set: function (_threadCount) {\n          context._threadCount = _threadCount;\n        }\n      },\n      Consumer: {\n        get: function () {\n          if (!hasWarnedAboutUsingNestedContextConsumers) {\n            hasWarnedAboutUsingNestedContextConsumers = true;\n\n            error('Rendering <Context.Consumer.Consumer> is not supported and will be removed in ' + 'a future major release. Did you mean to render <Context.Consumer> instead?');\n          }\n\n          return context.Consumer;\n        }\n      },\n      displayName: {\n        get: function () {\n          return context.displayName;\n        },\n        set: function (displayName) {\n          if (!hasWarnedAboutDisplayNameOnConsumer) {\n            warn('Setting `displayName` on Context.Consumer has no effect. ' + \"You should set it directly on the context with Context.displayName = '%s'.\", displayName);\n\n            hasWarnedAboutDisplayNameOnConsumer = true;\n          }\n        }\n      }\n    }); // $FlowFixMe: Flow complains about missing properties because it doesn't understand defineProperty\n\n    context.Consumer = Consumer;\n  }\n\n  {\n    context._currentRenderer = null;\n    context._currentRenderer2 = null;\n  }\n\n  return context;\n}\n\nvar Uninitialized = -1;\nvar Pending = 0;\nvar Resolved = 1;\nvar Rejected = 2;\n\nfunction lazyInitializer(payload) {\n  if (payload._status === Uninitialized) {\n    var ctor = payload._result;\n    var thenable = ctor(); // Transition to the next state.\n    // This might throw either because it's missing or throws. If so, we treat it\n    // as still uninitialized and try again next time. Which is the same as what\n    // happens if the ctor or any wrappers processing the ctor throws. This might\n    // end up fixing it if the resolution was a concurrency bug.\n\n    thenable.then(function (moduleObject) {\n      if (payload._status === Pending || payload._status === Uninitialized) {\n        // Transition to the next state.\n        var resolved = payload;\n        resolved._status = Resolved;\n        resolved._result = moduleObject;\n      }\n    }, function (error) {\n      if (payload._status === Pending || payload._status === Uninitialized) {\n        // Transition to the next state.\n        var rejected = payload;\n        rejected._status = Rejected;\n        rejected._result = error;\n      }\n    });\n\n    if (payload._status === Uninitialized) {\n      // In case, we're still uninitialized, then we're waiting for the thenable\n      // to resolve. Set it as pending in the meantime.\n      var pending = payload;\n      pending._status = Pending;\n      pending._result = thenable;\n    }\n  }\n\n  if (payload._status === Resolved) {\n    var moduleObject = payload._result;\n\n    {\n      if (moduleObject === undefined) {\n        error('lazy: Expected the result of a dynamic imp' + 'ort() call. ' + 'Instead received: %s\\n\\nYour code should look like: \\n  ' + // Break up imports to avoid accidentally parsing them as dependencies.\n        'const MyComponent = lazy(() => imp' + \"ort('./MyComponent'))\\n\\n\" + 'Did you accidentally put curly braces around the import?', moduleObject);\n      }\n    }\n\n    {\n      if (!('default' in moduleObject)) {\n        error('lazy: Expected the result of a dynamic imp' + 'ort() call. ' + 'Instead received: %s\\n\\nYour code should look like: \\n  ' + // Break up imports to avoid accidentally parsing them as dependencies.\n        'const MyComponent = lazy(() => imp' + \"ort('./MyComponent'))\", moduleObject);\n      }\n    }\n\n    return moduleObject.default;\n  } else {\n    throw payload._result;\n  }\n}\n\nfunction lazy(ctor) {\n  var payload = {\n    // We use these fields to store the result.\n    _status: Uninitialized,\n    _result: ctor\n  };\n  var lazyType = {\n    $$typeof: REACT_LAZY_TYPE,\n    _payload: payload,\n    _init: lazyInitializer\n  };\n\n  {\n    // In production, this would just set it on the object.\n    var defaultProps;\n    var propTypes; // $FlowFixMe\n\n    Object.defineProperties(lazyType, {\n      defaultProps: {\n        configurable: true,\n        get: function () {\n          return defaultProps;\n        },\n        set: function (newDefaultProps) {\n          error('React.lazy(...): It is not supported to assign `defaultProps` to ' + 'a lazy component import. Either specify them where the component ' + 'is defined, or create a wrapping component around it.');\n\n          defaultProps = newDefaultProps; // Match production behavior more closely:\n          // $FlowFixMe\n\n          Object.defineProperty(lazyType, 'defaultProps', {\n            enumerable: true\n          });\n        }\n      },\n      propTypes: {\n        configurable: true,\n        get: function () {\n          return propTypes;\n        },\n        set: function (newPropTypes) {\n          error('React.lazy(...): It is not supported to assign `propTypes` to ' + 'a lazy component import. Either specify them where the component ' + 'is defined, or create a wrapping component around it.');\n\n          propTypes = newPropTypes; // Match production behavior more closely:\n          // $FlowFixMe\n\n          Object.defineProperty(lazyType, 'propTypes', {\n            enumerable: true\n          });\n        }\n      }\n    });\n  }\n\n  return lazyType;\n}\n\nfunction forwardRef(render) {\n  {\n    if (render != null && render.$$typeof === REACT_MEMO_TYPE) {\n      error('forwardRef requires a render function but received a `memo` ' + 'component. Instead of forwardRef(memo(...)), use ' + 'memo(forwardRef(...)).');\n    } else if (typeof render !== 'function') {\n      error('forwardRef requires a render function but was given %s.', render === null ? 'null' : typeof render);\n    } else {\n      if (render.length !== 0 && render.length !== 2) {\n        error('forwardRef render functions accept exactly two parameters: props and ref. %s', render.length === 1 ? 'Did you forget to use the ref parameter?' : 'Any additional parameter will be undefined.');\n      }\n    }\n\n    if (render != null) {\n      if (render.defaultProps != null || render.propTypes != null) {\n        error('forwardRef render functions do not support propTypes or defaultProps. ' + 'Did you accidentally pass a React component?');\n      }\n    }\n  }\n\n  var elementType = {\n    $$typeof: REACT_FORWARD_REF_TYPE,\n    render: render\n  };\n\n  {\n    var ownName;\n    Object.defineProperty(elementType, 'displayName', {\n      enumerable: false,\n      configurable: true,\n      get: function () {\n        return ownName;\n      },\n      set: function (name) {\n        ownName = name; // The inner component shouldn't inherit this display name in most cases,\n        // because the component may be used elsewhere.\n        // But it's nice for anonymous functions to inherit the name,\n        // so that our component-stack generation logic will display their frames.\n        // An anonymous function generally suggests a pattern like:\n        //   React.forwardRef((props, ref) => {...});\n        // This kind of inner function is not used elsewhere so the side effect is okay.\n\n        if (!render.name && !render.displayName) {\n          render.displayName = name;\n        }\n      }\n    });\n  }\n\n  return elementType;\n}\n\nvar REACT_MODULE_REFERENCE;\n\n{\n  REACT_MODULE_REFERENCE = Symbol.for('react.module.reference');\n}\n\nfunction isValidElementType(type) {\n  if (typeof type === 'string' || typeof type === 'function') {\n    return true;\n  } // Note: typeof might be other than 'symbol' or 'number' (e.g. if it's a polyfill).\n\n\n  if (type === REACT_FRAGMENT_TYPE || type === REACT_PROFILER_TYPE || enableDebugTracing  || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || enableLegacyHidden  || type === REACT_OFFSCREEN_TYPE || enableScopeAPI  || enableCacheElement  || enableTransitionTracing ) {\n    return true;\n  }\n\n  if (typeof type === 'object' && type !== null) {\n    if (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || // This needs to include all possible module reference object\n    // types supported by any Flight configuration anywhere since\n    // we don't know which Flight build this will end up being used\n    // with.\n    type.$$typeof === REACT_MODULE_REFERENCE || type.getModuleId !== undefined) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction memo(type, compare) {\n  {\n    if (!isValidElementType(type)) {\n      error('memo: The first argument must be a component. Instead ' + 'received: %s', type === null ? 'null' : typeof type);\n    }\n  }\n\n  var elementType = {\n    $$typeof: REACT_MEMO_TYPE,\n    type: type,\n    compare: compare === undefined ? null : compare\n  };\n\n  {\n    var ownName;\n    Object.defineProperty(elementType, 'displayName', {\n      enumerable: false,\n      configurable: true,\n      get: function () {\n        return ownName;\n      },\n      set: function (name) {\n        ownName = name; // The inner component shouldn't inherit this display name in most cases,\n        // because the component may be used elsewhere.\n        // But it's nice for anonymous functions to inherit the name,\n        // so that our component-stack generation logic will display their frames.\n        // An anonymous function generally suggests a pattern like:\n        //   React.memo((props) => {...});\n        // This kind of inner function is not used elsewhere so the side effect is okay.\n\n        if (!type.name && !type.displayName) {\n          type.displayName = name;\n        }\n      }\n    });\n  }\n\n  return elementType;\n}\n\nfunction resolveDispatcher() {\n  var dispatcher = ReactCurrentDispatcher.current;\n\n  {\n    if (dispatcher === null) {\n      error('Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for' + ' one of the following reasons:\\n' + '1. You might have mismatching versions of React and the renderer (such as React DOM)\\n' + '2. You might be breaking the Rules of Hooks\\n' + '3. You might have more than one copy of React in the same app\\n' + 'See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.');\n    }\n  } // Will result in a null access error if accessed outside render phase. We\n  // intentionally don't throw our own error because this is in a hot path.\n  // Also helps ensure this is inlined.\n\n\n  return dispatcher;\n}\nfunction useContext(Context) {\n  var dispatcher = resolveDispatcher();\n\n  {\n    // TODO: add a more generic warning for invalid values.\n    if (Context._context !== undefined) {\n      var realContext = Context._context; // Don't deduplicate because this legitimately causes bugs\n      // and nobody should be using this in existing code.\n\n      if (realContext.Consumer === Context) {\n        error('Calling useContext(Context.Consumer) is not supported, may cause bugs, and will be ' + 'removed in a future major release. Did you mean to call useContext(Context) instead?');\n      } else if (realContext.Provider === Context) {\n        error('Calling useContext(Context.Provider) is not supported. ' + 'Did you mean to call useContext(Context) instead?');\n      }\n    }\n  }\n\n  return dispatcher.useContext(Context);\n}\nfunction useState(initialState) {\n  var dispatcher = resolveDispatcher();\n  return dispatcher.useState(initialState);\n}\nfunction useReducer(reducer, initialArg, init) {\n  var dispatcher = resolveDispatcher();\n  return dispatcher.useReducer(reducer, initialArg, init);\n}\nfunction useRef(initialValue) {\n  var dispatcher = resolveDispatcher();\n  return dispatcher.useRef(initialValue);\n}\nfunction useEffect(create, deps) {\n  var dispatcher = resolveDispatcher();\n  return dispatcher.useEffect(create, deps);\n}\nfunction useInsertionEffect(create, deps) {\n  var dispatcher = resolveDispatcher();\n  return dispatcher.useInsertionEffect(create, deps);\n}\nfunction useLayoutEffect(create, deps) {\n  var dispatcher = resolveDispatcher();\n  return dispatcher.useLayoutEffect(create, deps);\n}\nfunction useCallback(callback, deps) {\n  var dispatcher = resolveDispatcher();\n  return dispatcher.useCallback(callback, deps);\n}\nfunction useMemo(create, deps) {\n  var dispatcher = resolveDispatcher();\n  return dispatcher.useMemo(create, deps);\n}\nfunction useImperativeHandle(ref, create, deps) {\n  var dispatcher = resolveDispatcher();\n  return dispatcher.useImperativeHandle(ref, create, deps);\n}\nfunction useDebugValue(value, formatterFn) {\n  {\n    var dispatcher = resolveDispatcher();\n    return dispatcher.useDebugValue(value, formatterFn);\n  }\n}\nfunction useTransition() {\n  var dispatcher = resolveDispatcher();\n  return dispatcher.useTransition();\n}\nfunction useDeferredValue(value) {\n  var dispatcher = resolveDispatcher();\n  return dispatcher.useDeferredValue(value);\n}\nfunction useId() {\n  var dispatcher = resolveDispatcher();\n  return dispatcher.useId();\n}\nfunction useSyncExternalStore(subscribe, getSnapshot, getServerSnapshot) {\n  var dispatcher = resolveDispatcher();\n  return dispatcher.useSyncExternalStore(subscribe, getSnapshot, getServerSnapshot);\n}\n\n// Helpers to patch console.logs to avoid logging during side-effect free\n// replaying on render function. This currently only patches the object\n// lazily which won't cover if the log function was extracted eagerly.\n// We could also eagerly patch the method.\nvar disabledDepth = 0;\nvar prevLog;\nvar prevInfo;\nvar prevWarn;\nvar prevError;\nvar prevGroup;\nvar prevGroupCollapsed;\nvar prevGroupEnd;\n\nfunction disabledLog() {}\n\ndisabledLog.__reactDisabledLog = true;\nfunction disableLogs() {\n  {\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      prevLog = console.log;\n      prevInfo = console.info;\n      prevWarn = console.warn;\n      prevError = console.error;\n      prevGroup = console.group;\n      prevGroupCollapsed = console.groupCollapsed;\n      prevGroupEnd = console.groupEnd; // https://github.com/facebook/react/issues/19099\n\n      var props = {\n        configurable: true,\n        enumerable: true,\n        value: disabledLog,\n        writable: true\n      }; // $FlowFixMe Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        info: props,\n        log: props,\n        warn: props,\n        error: props,\n        group: props,\n        groupCollapsed: props,\n        groupEnd: props\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    disabledDepth++;\n  }\n}\nfunction reenableLogs() {\n  {\n    disabledDepth--;\n\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      var props = {\n        configurable: true,\n        enumerable: true,\n        writable: true\n      }; // $FlowFixMe Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        log: assign({}, props, {\n          value: prevLog\n        }),\n        info: assign({}, props, {\n          value: prevInfo\n        }),\n        warn: assign({}, props, {\n          value: prevWarn\n        }),\n        error: assign({}, props, {\n          value: prevError\n        }),\n        group: assign({}, props, {\n          value: prevGroup\n        }),\n        groupCollapsed: assign({}, props, {\n          value: prevGroupCollapsed\n        }),\n        groupEnd: assign({}, props, {\n          value: prevGroupEnd\n        })\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    if (disabledDepth < 0) {\n      error('disabledDepth fell below zero. ' + 'This is a bug in React. Please file an issue.');\n    }\n  }\n}\n\nvar ReactCurrentDispatcher$1 = ReactSharedInternals.ReactCurrentDispatcher;\nvar prefix;\nfunction describeBuiltInComponentFrame(name, source, ownerFn) {\n  {\n    if (prefix === undefined) {\n      // Extract the VM specific prefix used by each line.\n      try {\n        throw Error();\n      } catch (x) {\n        var match = x.stack.trim().match(/\\n( *(at )?)/);\n        prefix = match && match[1] || '';\n      }\n    } // We use the prefix to ensure our stacks line up with native stack frames.\n\n\n    return '\\n' + prefix + name;\n  }\n}\nvar reentry = false;\nvar componentFrameCache;\n\n{\n  var PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n  componentFrameCache = new PossiblyWeakMap();\n}\n\nfunction describeNativeComponentFrame(fn, construct) {\n  // If something asked for a stack inside a fake render, it should get ignored.\n  if ( !fn || reentry) {\n    return '';\n  }\n\n  {\n    var frame = componentFrameCache.get(fn);\n\n    if (frame !== undefined) {\n      return frame;\n    }\n  }\n\n  var control;\n  reentry = true;\n  var previousPrepareStackTrace = Error.prepareStackTrace; // $FlowFixMe It does accept undefined.\n\n  Error.prepareStackTrace = undefined;\n  var previousDispatcher;\n\n  {\n    previousDispatcher = ReactCurrentDispatcher$1.current; // Set the dispatcher in DEV because this might be call in the render function\n    // for warnings.\n\n    ReactCurrentDispatcher$1.current = null;\n    disableLogs();\n  }\n\n  try {\n    // This should throw.\n    if (construct) {\n      // Something should be setting the props in the constructor.\n      var Fake = function () {\n        throw Error();\n      }; // $FlowFixMe\n\n\n      Object.defineProperty(Fake.prototype, 'props', {\n        set: function () {\n          // We use a throwing setter instead of frozen or non-writable props\n          // because that won't throw in a non-strict mode function.\n          throw Error();\n        }\n      });\n\n      if (typeof Reflect === 'object' && Reflect.construct) {\n        // We construct a different control for this case to include any extra\n        // frames added by the construct call.\n        try {\n          Reflect.construct(Fake, []);\n        } catch (x) {\n          control = x;\n        }\n\n        Reflect.construct(fn, [], Fake);\n      } else {\n        try {\n          Fake.call();\n        } catch (x) {\n          control = x;\n        }\n\n        fn.call(Fake.prototype);\n      }\n    } else {\n      try {\n        throw Error();\n      } catch (x) {\n        control = x;\n      }\n\n      fn();\n    }\n  } catch (sample) {\n    // This is inlined manually because closure doesn't do it for us.\n    if (sample && control && typeof sample.stack === 'string') {\n      // This extracts the first frame from the sample that isn't also in the control.\n      // Skipping one frame that we assume is the frame that calls the two.\n      var sampleLines = sample.stack.split('\\n');\n      var controlLines = control.stack.split('\\n');\n      var s = sampleLines.length - 1;\n      var c = controlLines.length - 1;\n\n      while (s >= 1 && c >= 0 && sampleLines[s] !== controlLines[c]) {\n        // We expect at least one stack frame to be shared.\n        // Typically this will be the root most one. However, stack frames may be\n        // cut off due to maximum stack limits. In this case, one maybe cut off\n        // earlier than the other. We assume that the sample is longer or the same\n        // and there for cut off earlier. So we should find the root most frame in\n        // the sample somewhere in the control.\n        c--;\n      }\n\n      for (; s >= 1 && c >= 0; s--, c--) {\n        // Next we find the first one that isn't the same which should be the\n        // frame that called our sample function and the control.\n        if (sampleLines[s] !== controlLines[c]) {\n          // In V8, the first line is describing the message but other VMs don't.\n          // If we're about to return the first line, and the control is also on the same\n          // line, that's a pretty good indicator that our sample threw at same line as\n          // the control. I.e. before we entered the sample frame. So we ignore this result.\n          // This can happen if you passed a class to function component, or non-function.\n          if (s !== 1 || c !== 1) {\n            do {\n              s--;\n              c--; // We may still have similar intermediate frames from the construct call.\n              // The next one that isn't the same should be our match though.\n\n              if (c < 0 || sampleLines[s] !== controlLines[c]) {\n                // V8 adds a \"new\" prefix for native classes. Let's remove it to make it prettier.\n                var _frame = '\\n' + sampleLines[s].replace(' at new ', ' at '); // If our component frame is labeled \"<anonymous>\"\n                // but we have a user-provided \"displayName\"\n                // splice it in to make the stack more readable.\n\n\n                if (fn.displayName && _frame.includes('<anonymous>')) {\n                  _frame = _frame.replace('<anonymous>', fn.displayName);\n                }\n\n                {\n                  if (typeof fn === 'function') {\n                    componentFrameCache.set(fn, _frame);\n                  }\n                } // Return the line we found.\n\n\n                return _frame;\n              }\n            } while (s >= 1 && c >= 0);\n          }\n\n          break;\n        }\n      }\n    }\n  } finally {\n    reentry = false;\n\n    {\n      ReactCurrentDispatcher$1.current = previousDispatcher;\n      reenableLogs();\n    }\n\n    Error.prepareStackTrace = previousPrepareStackTrace;\n  } // Fallback to just using the name if we couldn't make it throw.\n\n\n  var name = fn ? fn.displayName || fn.name : '';\n  var syntheticFrame = name ? describeBuiltInComponentFrame(name) : '';\n\n  {\n    if (typeof fn === 'function') {\n      componentFrameCache.set(fn, syntheticFrame);\n    }\n  }\n\n  return syntheticFrame;\n}\nfunction describeFunctionComponentFrame(fn, source, ownerFn) {\n  {\n    return describeNativeComponentFrame(fn, false);\n  }\n}\n\nfunction shouldConstruct(Component) {\n  var prototype = Component.prototype;\n  return !!(prototype && prototype.isReactComponent);\n}\n\nfunction describeUnknownElementTypeFrameInDEV(type, source, ownerFn) {\n\n  if (type == null) {\n    return '';\n  }\n\n  if (typeof type === 'function') {\n    {\n      return describeNativeComponentFrame(type, shouldConstruct(type));\n    }\n  }\n\n  if (typeof type === 'string') {\n    return describeBuiltInComponentFrame(type);\n  }\n\n  switch (type) {\n    case REACT_SUSPENSE_TYPE:\n      return describeBuiltInComponentFrame('Suspense');\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return describeBuiltInComponentFrame('SuspenseList');\n  }\n\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_FORWARD_REF_TYPE:\n        return describeFunctionComponentFrame(type.render);\n\n      case REACT_MEMO_TYPE:\n        // Memo may contain any component type so we recursively resolve it.\n        return describeUnknownElementTypeFrameInDEV(type.type, source, ownerFn);\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            // Lazy may contain any component type so we recursively resolve it.\n            return describeUnknownElementTypeFrameInDEV(init(payload), source, ownerFn);\n          } catch (x) {}\n        }\n    }\n  }\n\n  return '';\n}\n\nvar loggedTypeFailures = {};\nvar ReactDebugCurrentFrame$1 = ReactSharedInternals.ReactDebugCurrentFrame;\n\nfunction setCurrentlyValidatingElement(element) {\n  {\n    if (element) {\n      var owner = element._owner;\n      var stack = describeUnknownElementTypeFrameInDEV(element.type, element._source, owner ? owner.type : null);\n      ReactDebugCurrentFrame$1.setExtraStackFrame(stack);\n    } else {\n      ReactDebugCurrentFrame$1.setExtraStackFrame(null);\n    }\n  }\n}\n\nfunction checkPropTypes(typeSpecs, values, location, componentName, element) {\n  {\n    // $FlowFixMe This is okay but Flow doesn't know it.\n    var has = Function.call.bind(hasOwnProperty);\n\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error$1 = void 0; // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            // eslint-disable-next-line react-internal/prod-error-codes\n            var err = Error((componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' + 'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.' + 'This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.');\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n\n          error$1 = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED');\n        } catch (ex) {\n          error$1 = ex;\n        }\n\n        if (error$1 && !(error$1 instanceof Error)) {\n          setCurrentlyValidatingElement(element);\n\n          error('%s: type specification of %s' + ' `%s` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a %s. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).', componentName || 'React class', location, typeSpecName, typeof error$1);\n\n          setCurrentlyValidatingElement(null);\n        }\n\n        if (error$1 instanceof Error && !(error$1.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error$1.message] = true;\n          setCurrentlyValidatingElement(element);\n\n          error('Failed %s type: %s', location, error$1.message);\n\n          setCurrentlyValidatingElement(null);\n        }\n      }\n    }\n  }\n}\n\nfunction setCurrentlyValidatingElement$1(element) {\n  {\n    if (element) {\n      var owner = element._owner;\n      var stack = describeUnknownElementTypeFrameInDEV(element.type, element._source, owner ? owner.type : null);\n      setExtraStackFrame(stack);\n    } else {\n      setExtraStackFrame(null);\n    }\n  }\n}\n\nvar propTypesMisspellWarningShown;\n\n{\n  propTypesMisspellWarningShown = false;\n}\n\nfunction getDeclarationErrorAddendum() {\n  if (ReactCurrentOwner.current) {\n    var name = getComponentNameFromType(ReactCurrentOwner.current.type);\n\n    if (name) {\n      return '\\n\\nCheck the render method of `' + name + '`.';\n    }\n  }\n\n  return '';\n}\n\nfunction getSourceInfoErrorAddendum(source) {\n  if (source !== undefined) {\n    var fileName = source.fileName.replace(/^.*[\\\\\\/]/, '');\n    var lineNumber = source.lineNumber;\n    return '\\n\\nCheck your code at ' + fileName + ':' + lineNumber + '.';\n  }\n\n  return '';\n}\n\nfunction getSourceInfoErrorAddendumForProps(elementProps) {\n  if (elementProps !== null && elementProps !== undefined) {\n    return getSourceInfoErrorAddendum(elementProps.__source);\n  }\n\n  return '';\n}\n/**\n * Warn if there's no key explicitly set on dynamic arrays of children or\n * object keys are not valid. This allows us to keep track of children between\n * updates.\n */\n\n\nvar ownerHasKeyUseWarning = {};\n\nfunction getCurrentComponentErrorInfo(parentType) {\n  var info = getDeclarationErrorAddendum();\n\n  if (!info) {\n    var parentName = typeof parentType === 'string' ? parentType : parentType.displayName || parentType.name;\n\n    if (parentName) {\n      info = \"\\n\\nCheck the top-level render call using <\" + parentName + \">.\";\n    }\n  }\n\n  return info;\n}\n/**\n * Warn if the element doesn't have an explicit key assigned to it.\n * This element is in an array. The array could grow and shrink or be\n * reordered. All children that haven't already been validated are required to\n * have a \"key\" property assigned to it. Error statuses are cached so a warning\n * will only be shown once.\n *\n * @internal\n * @param {ReactElement} element Element that requires a key.\n * @param {*} parentType element's parent's type.\n */\n\n\nfunction validateExplicitKey(element, parentType) {\n  if (!element._store || element._store.validated || element.key != null) {\n    return;\n  }\n\n  element._store.validated = true;\n  var currentComponentErrorInfo = getCurrentComponentErrorInfo(parentType);\n\n  if (ownerHasKeyUseWarning[currentComponentErrorInfo]) {\n    return;\n  }\n\n  ownerHasKeyUseWarning[currentComponentErrorInfo] = true; // Usually the current owner is the offender, but if it accepts children as a\n  // property, it may be the creator of the child that's responsible for\n  // assigning it a key.\n\n  var childOwner = '';\n\n  if (element && element._owner && element._owner !== ReactCurrentOwner.current) {\n    // Give the component that originally created this child.\n    childOwner = \" It was passed a child from \" + getComponentNameFromType(element._owner.type) + \".\";\n  }\n\n  {\n    setCurrentlyValidatingElement$1(element);\n\n    error('Each child in a list should have a unique \"key\" prop.' + '%s%s See https://reactjs.org/link/warning-keys for more information.', currentComponentErrorInfo, childOwner);\n\n    setCurrentlyValidatingElement$1(null);\n  }\n}\n/**\n * Ensure that every element either is passed in a static location, in an\n * array with an explicit keys property defined, or in an object literal\n * with valid key property.\n *\n * @internal\n * @param {ReactNode} node Statically passed child of any type.\n * @param {*} parentType node's parent's type.\n */\n\n\nfunction validateChildKeys(node, parentType) {\n  if (typeof node !== 'object') {\n    return;\n  }\n\n  if (isArray(node)) {\n    for (var i = 0; i < node.length; i++) {\n      var child = node[i];\n\n      if (isValidElement(child)) {\n        validateExplicitKey(child, parentType);\n      }\n    }\n  } else if (isValidElement(node)) {\n    // This element was passed in a valid location.\n    if (node._store) {\n      node._store.validated = true;\n    }\n  } else if (node) {\n    var iteratorFn = getIteratorFn(node);\n\n    if (typeof iteratorFn === 'function') {\n      // Entry iterators used to provide implicit keys,\n      // but now we print a separate warning for them later.\n      if (iteratorFn !== node.entries) {\n        var iterator = iteratorFn.call(node);\n        var step;\n\n        while (!(step = iterator.next()).done) {\n          if (isValidElement(step.value)) {\n            validateExplicitKey(step.value, parentType);\n          }\n        }\n      }\n    }\n  }\n}\n/**\n * Given an element, validate that its props follow the propTypes definition,\n * provided by the type.\n *\n * @param {ReactElement} element\n */\n\n\nfunction validatePropTypes(element) {\n  {\n    var type = element.type;\n\n    if (type === null || type === undefined || typeof type === 'string') {\n      return;\n    }\n\n    var propTypes;\n\n    if (typeof type === 'function') {\n      propTypes = type.propTypes;\n    } else if (typeof type === 'object' && (type.$$typeof === REACT_FORWARD_REF_TYPE || // Note: Memo only checks outer props here.\n    // Inner props are checked in the reconciler.\n    type.$$typeof === REACT_MEMO_TYPE)) {\n      propTypes = type.propTypes;\n    } else {\n      return;\n    }\n\n    if (propTypes) {\n      // Intentionally inside to avoid triggering lazy initializers:\n      var name = getComponentNameFromType(type);\n      checkPropTypes(propTypes, element.props, 'prop', name, element);\n    } else if (type.PropTypes !== undefined && !propTypesMisspellWarningShown) {\n      propTypesMisspellWarningShown = true; // Intentionally inside to avoid triggering lazy initializers:\n\n      var _name = getComponentNameFromType(type);\n\n      error('Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?', _name || 'Unknown');\n    }\n\n    if (typeof type.getDefaultProps === 'function' && !type.getDefaultProps.isReactClassApproved) {\n      error('getDefaultProps is only used on classic React.createClass ' + 'definitions. Use a static property named `defaultProps` instead.');\n    }\n  }\n}\n/**\n * Given a fragment, validate that it can only be provided with fragment props\n * @param {ReactElement} fragment\n */\n\n\nfunction validateFragmentProps(fragment) {\n  {\n    var keys = Object.keys(fragment.props);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n\n      if (key !== 'children' && key !== 'key') {\n        setCurrentlyValidatingElement$1(fragment);\n\n        error('Invalid prop `%s` supplied to `React.Fragment`. ' + 'React.Fragment can only have `key` and `children` props.', key);\n\n        setCurrentlyValidatingElement$1(null);\n        break;\n      }\n    }\n\n    if (fragment.ref !== null) {\n      setCurrentlyValidatingElement$1(fragment);\n\n      error('Invalid attribute `ref` supplied to `React.Fragment`.');\n\n      setCurrentlyValidatingElement$1(null);\n    }\n  }\n}\nfunction createElementWithValidation(type, props, children) {\n  var validType = isValidElementType(type); // We warn in this case but don't throw. We expect the element creation to\n  // succeed and there will likely be errors in render.\n\n  if (!validType) {\n    var info = '';\n\n    if (type === undefined || typeof type === 'object' && type !== null && Object.keys(type).length === 0) {\n      info += ' You likely forgot to export your component from the file ' + \"it's defined in, or you might have mixed up default and named imports.\";\n    }\n\n    var sourceInfo = getSourceInfoErrorAddendumForProps(props);\n\n    if (sourceInfo) {\n      info += sourceInfo;\n    } else {\n      info += getDeclarationErrorAddendum();\n    }\n\n    var typeString;\n\n    if (type === null) {\n      typeString = 'null';\n    } else if (isArray(type)) {\n      typeString = 'array';\n    } else if (type !== undefined && type.$$typeof === REACT_ELEMENT_TYPE) {\n      typeString = \"<\" + (getComponentNameFromType(type.type) || 'Unknown') + \" />\";\n      info = ' Did you accidentally export a JSX literal instead of a component?';\n    } else {\n      typeString = typeof type;\n    }\n\n    {\n      error('React.createElement: type is invalid -- expected a string (for ' + 'built-in components) or a class/function (for composite ' + 'components) but got: %s.%s', typeString, info);\n    }\n  }\n\n  var element = createElement.apply(this, arguments); // The result can be nullish if a mock or a custom function is used.\n  // TODO: Drop this when these are no longer allowed as the type argument.\n\n  if (element == null) {\n    return element;\n  } // Skip key warning if the type isn't valid since our key validation logic\n  // doesn't expect a non-string/function type and can throw confusing errors.\n  // We don't want exception behavior to differ between dev and prod.\n  // (Rendering will throw with a helpful message and as soon as the type is\n  // fixed, the key warnings will appear.)\n\n\n  if (validType) {\n    for (var i = 2; i < arguments.length; i++) {\n      validateChildKeys(arguments[i], type);\n    }\n  }\n\n  if (type === REACT_FRAGMENT_TYPE) {\n    validateFragmentProps(element);\n  } else {\n    validatePropTypes(element);\n  }\n\n  return element;\n}\nvar didWarnAboutDeprecatedCreateFactory = false;\nfunction createFactoryWithValidation(type) {\n  var validatedFactory = createElementWithValidation.bind(null, type);\n  validatedFactory.type = type;\n\n  {\n    if (!didWarnAboutDeprecatedCreateFactory) {\n      didWarnAboutDeprecatedCreateFactory = true;\n\n      warn('React.createFactory() is deprecated and will be removed in ' + 'a future major release. Consider using JSX ' + 'or use React.createElement() directly instead.');\n    } // Legacy hook: remove it\n\n\n    Object.defineProperty(validatedFactory, 'type', {\n      enumerable: false,\n      get: function () {\n        warn('Factory.type is deprecated. Access the class directly ' + 'before passing it to createFactory.');\n\n        Object.defineProperty(this, 'type', {\n          value: type\n        });\n        return type;\n      }\n    });\n  }\n\n  return validatedFactory;\n}\nfunction cloneElementWithValidation(element, props, children) {\n  var newElement = cloneElement.apply(this, arguments);\n\n  for (var i = 2; i < arguments.length; i++) {\n    validateChildKeys(arguments[i], newElement.type);\n  }\n\n  validatePropTypes(newElement);\n  return newElement;\n}\n\nfunction startTransition(scope, options) {\n  var prevTransition = ReactCurrentBatchConfig.transition;\n  ReactCurrentBatchConfig.transition = {};\n  var currentTransition = ReactCurrentBatchConfig.transition;\n\n  {\n    ReactCurrentBatchConfig.transition._updatedFibers = new Set();\n  }\n\n  try {\n    scope();\n  } finally {\n    ReactCurrentBatchConfig.transition = prevTransition;\n\n    {\n      if (prevTransition === null && currentTransition._updatedFibers) {\n        var updatedFibersCount = currentTransition._updatedFibers.size;\n\n        if (updatedFibersCount > 10) {\n          warn('Detected a large number of updates inside startTransition. ' + 'If this is due to a subscription please re-write it to use React provided hooks. ' + 'Otherwise concurrent mode guarantees are off the table.');\n        }\n\n        currentTransition._updatedFibers.clear();\n      }\n    }\n  }\n}\n\nvar didWarnAboutMessageChannel = false;\nvar enqueueTaskImpl = null;\nfunction enqueueTask(task) {\n  if (enqueueTaskImpl === null) {\n    try {\n      // read require off the module object to get around the bundlers.\n      // we don't want them to detect a require and bundle a Node polyfill.\n      var requireString = ('require' + Math.random()).slice(0, 7);\n      var nodeRequire = module && module[requireString]; // assuming we're in node, let's try to get node's\n      // version of setImmediate, bypassing fake timers if any.\n\n      enqueueTaskImpl = nodeRequire.call(module, 'timers').setImmediate;\n    } catch (_err) {\n      // we're in a browser\n      // we can't use regular timers because they may still be faked\n      // so we try MessageChannel+postMessage instead\n      enqueueTaskImpl = function (callback) {\n        {\n          if (didWarnAboutMessageChannel === false) {\n            didWarnAboutMessageChannel = true;\n\n            if (typeof MessageChannel === 'undefined') {\n              error('This browser does not have a MessageChannel implementation, ' + 'so enqueuing tasks via await act(async () => ...) will fail. ' + 'Please file an issue at https://github.com/facebook/react/issues ' + 'if you encounter this warning.');\n            }\n          }\n        }\n\n        var channel = new MessageChannel();\n        channel.port1.onmessage = callback;\n        channel.port2.postMessage(undefined);\n      };\n    }\n  }\n\n  return enqueueTaskImpl(task);\n}\n\nvar actScopeDepth = 0;\nvar didWarnNoAwaitAct = false;\nfunction act(callback) {\n  {\n    // `act` calls can be nested, so we track the depth. This represents the\n    // number of `act` scopes on the stack.\n    var prevActScopeDepth = actScopeDepth;\n    actScopeDepth++;\n\n    if (ReactCurrentActQueue.current === null) {\n      // This is the outermost `act` scope. Initialize the queue. The reconciler\n      // will detect the queue and use it instead of Scheduler.\n      ReactCurrentActQueue.current = [];\n    }\n\n    var prevIsBatchingLegacy = ReactCurrentActQueue.isBatchingLegacy;\n    var result;\n\n    try {\n      // Used to reproduce behavior of `batchedUpdates` in legacy mode. Only\n      // set to `true` while the given callback is executed, not for updates\n      // triggered during an async event, because this is how the legacy\n      // implementation of `act` behaved.\n      ReactCurrentActQueue.isBatchingLegacy = true;\n      result = callback(); // Replicate behavior of original `act` implementation in legacy mode,\n      // which flushed updates immediately after the scope function exits, even\n      // if it's an async function.\n\n      if (!prevIsBatchingLegacy && ReactCurrentActQueue.didScheduleLegacyUpdate) {\n        var queue = ReactCurrentActQueue.current;\n\n        if (queue !== null) {\n          ReactCurrentActQueue.didScheduleLegacyUpdate = false;\n          flushActQueue(queue);\n        }\n      }\n    } catch (error) {\n      popActScope(prevActScopeDepth);\n      throw error;\n    } finally {\n      ReactCurrentActQueue.isBatchingLegacy = prevIsBatchingLegacy;\n    }\n\n    if (result !== null && typeof result === 'object' && typeof result.then === 'function') {\n      var thenableResult = result; // The callback is an async function (i.e. returned a promise). Wait\n      // for it to resolve before exiting the current scope.\n\n      var wasAwaited = false;\n      var thenable = {\n        then: function (resolve, reject) {\n          wasAwaited = true;\n          thenableResult.then(function (returnValue) {\n            popActScope(prevActScopeDepth);\n\n            if (actScopeDepth === 0) {\n              // We've exited the outermost act scope. Recursively flush the\n              // queue until there's no remaining work.\n              recursivelyFlushAsyncActWork(returnValue, resolve, reject);\n            } else {\n              resolve(returnValue);\n            }\n          }, function (error) {\n            // The callback threw an error.\n            popActScope(prevActScopeDepth);\n            reject(error);\n          });\n        }\n      };\n\n      {\n        if (!didWarnNoAwaitAct && typeof Promise !== 'undefined') {\n          // eslint-disable-next-line no-undef\n          Promise.resolve().then(function () {}).then(function () {\n            if (!wasAwaited) {\n              didWarnNoAwaitAct = true;\n\n              error('You called act(async () => ...) without await. ' + 'This could lead to unexpected testing behaviour, ' + 'interleaving multiple act calls and mixing their ' + 'scopes. ' + 'You should - await act(async () => ...);');\n            }\n          });\n        }\n      }\n\n      return thenable;\n    } else {\n      var returnValue = result; // The callback is not an async function. Exit the current scope\n      // immediately, without awaiting.\n\n      popActScope(prevActScopeDepth);\n\n      if (actScopeDepth === 0) {\n        // Exiting the outermost act scope. Flush the queue.\n        var _queue = ReactCurrentActQueue.current;\n\n        if (_queue !== null) {\n          flushActQueue(_queue);\n          ReactCurrentActQueue.current = null;\n        } // Return a thenable. If the user awaits it, we'll flush again in\n        // case additional work was scheduled by a microtask.\n\n\n        var _thenable = {\n          then: function (resolve, reject) {\n            // Confirm we haven't re-entered another `act` scope, in case\n            // the user does something weird like await the thenable\n            // multiple times.\n            if (ReactCurrentActQueue.current === null) {\n              // Recursively flush the queue until there's no remaining work.\n              ReactCurrentActQueue.current = [];\n              recursivelyFlushAsyncActWork(returnValue, resolve, reject);\n            } else {\n              resolve(returnValue);\n            }\n          }\n        };\n        return _thenable;\n      } else {\n        // Since we're inside a nested `act` scope, the returned thenable\n        // immediately resolves. The outer scope will flush the queue.\n        var _thenable2 = {\n          then: function (resolve, reject) {\n            resolve(returnValue);\n          }\n        };\n        return _thenable2;\n      }\n    }\n  }\n}\n\nfunction popActScope(prevActScopeDepth) {\n  {\n    if (prevActScopeDepth !== actScopeDepth - 1) {\n      error('You seem to have overlapping act() calls, this is not supported. ' + 'Be sure to await previous act() calls before making a new one. ');\n    }\n\n    actScopeDepth = prevActScopeDepth;\n  }\n}\n\nfunction recursivelyFlushAsyncActWork(returnValue, resolve, reject) {\n  {\n    var queue = ReactCurrentActQueue.current;\n\n    if (queue !== null) {\n      try {\n        flushActQueue(queue);\n        enqueueTask(function () {\n          if (queue.length === 0) {\n            // No additional work was scheduled. Finish.\n            ReactCurrentActQueue.current = null;\n            resolve(returnValue);\n          } else {\n            // Keep flushing work until there's none left.\n            recursivelyFlushAsyncActWork(returnValue, resolve, reject);\n          }\n        });\n      } catch (error) {\n        reject(error);\n      }\n    } else {\n      resolve(returnValue);\n    }\n  }\n}\n\nvar isFlushing = false;\n\nfunction flushActQueue(queue) {\n  {\n    if (!isFlushing) {\n      // Prevent re-entrance.\n      isFlushing = true;\n      var i = 0;\n\n      try {\n        for (; i < queue.length; i++) {\n          var callback = queue[i];\n\n          do {\n            callback = callback(true);\n          } while (callback !== null);\n        }\n\n        queue.length = 0;\n      } catch (error) {\n        // If something throws, leave the remaining callbacks on the queue.\n        queue = queue.slice(i + 1);\n        throw error;\n      } finally {\n        isFlushing = false;\n      }\n    }\n  }\n}\n\nvar createElement$1 =  createElementWithValidation ;\nvar cloneElement$1 =  cloneElementWithValidation ;\nvar createFactory =  createFactoryWithValidation ;\nvar Children = {\n  map: mapChildren,\n  forEach: forEachChildren,\n  count: countChildren,\n  toArray: toArray,\n  only: onlyChild\n};\n\nexports.Children = Children;\nexports.Component = Component;\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.Profiler = REACT_PROFILER_TYPE;\nexports.PureComponent = PureComponent;\nexports.StrictMode = REACT_STRICT_MODE_TYPE;\nexports.Suspense = REACT_SUSPENSE_TYPE;\nexports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = ReactSharedInternals;\nexports.cloneElement = cloneElement$1;\nexports.createContext = createContext;\nexports.createElement = createElement$1;\nexports.createFactory = createFactory;\nexports.createRef = createRef;\nexports.forwardRef = forwardRef;\nexports.isValidElement = isValidElement;\nexports.lazy = lazy;\nexports.memo = memo;\nexports.startTransition = startTransition;\nexports.unstable_act = act;\nexports.useCallback = useCallback;\nexports.useContext = useContext;\nexports.useDebugValue = useDebugValue;\nexports.useDeferredValue = useDeferredValue;\nexports.useEffect = useEffect;\nexports.useId = useId;\nexports.useImperativeHandle = useImperativeHandle;\nexports.useInsertionEffect = useInsertionEffect;\nexports.useLayoutEffect = useLayoutEffect;\nexports.useMemo = useMemo;\nexports.useReducer = useReducer;\nexports.useRef = useRef;\nexports.useState = useState;\nexports.useSyncExternalStore = useSyncExternalStore;\nexports.useTransition = useTransition;\nexports.version = ReactVersion;\n          /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\nif (\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== 'undefined' &&\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop ===\n    'function'\n) {\n  __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error());\n}\n        \n  })();\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('error-stack-parser', ['stackframe'], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory(require('stackframe'));\n    } else {\n        root.ErrorStackParser = factory(root.StackFrame);\n    }\n}(this, function ErrorStackParser(StackFrame) {\n    'use strict';\n\n    var FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+:\\d+/;\n    var CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+:\\d+|\\(native\\))/m;\n    var SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code])?$/;\n\n    return {\n        /**\n         * Given an Error object, extract the most information from it.\n         *\n         * @param {Error} error object\n         * @return {Array} of StackFrames\n         */\n        parse: function ErrorStackParser$$parse(error) {\n            if (typeof error.stacktrace !== 'undefined' || typeof error['opera#sourceloc'] !== 'undefined') {\n                return this.parseOpera(error);\n            } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\n                return this.parseV8OrIE(error);\n            } else if (error.stack) {\n                return this.parseFFOrSafari(error);\n            } else {\n                throw new Error('Cannot parse given Error object');\n            }\n        },\n\n        // Separate line and column numbers from a string of the form: (URI:Line:Column)\n        extractLocation: function ErrorStackParser$$extractLocation(urlLike) {\n            // Fail-fast but return locations like \"(native)\"\n            if (urlLike.indexOf(':') === -1) {\n                return [urlLike];\n            }\n\n            var regExp = /(.+?)(?::(\\d+))?(?::(\\d+))?$/;\n            var parts = regExp.exec(urlLike.replace(/[()]/g, ''));\n            return [parts[1], parts[2] || undefined, parts[3] || undefined];\n        },\n\n        parseV8OrIE: function ErrorStackParser$$parseV8OrIE(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(CHROME_IE_STACK_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                if (line.indexOf('(eval ') > -1) {\n                    // Throw away eval information until we implement stacktrace.js/stackframe#8\n                    line = line.replace(/eval code/g, 'eval').replace(/(\\(eval at [^()]*)|(\\),.*$)/g, '');\n                }\n                var sanitizedLine = line.replace(/^\\s+/, '').replace(/\\(eval code/g, '(');\n\n                // capture and preseve the parenthesized location \"(/foo/my bar.js:12:87)\" in\n                // case it has spaces in it, as the string is split on \\s+ later on\n                var location = sanitizedLine.match(/ (\\((.+):(\\d+):(\\d+)\\)$)/);\n\n                // remove the parenthesized location from the line, if it was matched\n                sanitizedLine = location ? sanitizedLine.replace(location[0], '') : sanitizedLine;\n\n                var tokens = sanitizedLine.split(/\\s+/).slice(1);\n                // if a location was matched, pass it to extractLocation() otherwise pop the last token\n                var locationParts = this.extractLocation(location ? location[1] : tokens.pop());\n                var functionName = tokens.join(' ') || undefined;\n                var fileName = ['eval', '<anonymous>'].indexOf(locationParts[0]) > -1 ? undefined : locationParts[0];\n\n                return new StackFrame({\n                    functionName: functionName,\n                    fileName: fileName,\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        },\n\n        parseFFOrSafari: function ErrorStackParser$$parseFFOrSafari(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n            }, this);\n\n            return filtered.map(function(line) {\n                // Throw away eval information until we implement stacktrace.js/stackframe#8\n                if (line.indexOf(' > eval') > -1) {\n                    line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval:\\d+:\\d+/g, ':$1');\n                }\n\n                if (line.indexOf('@') === -1 && line.indexOf(':') === -1) {\n                    // Safari eval frames only have function names and nothing else\n                    return new StackFrame({\n                        functionName: line\n                    });\n                } else {\n                    var functionNameRegex = /((.*\".+\"[^@]*)?[^@]*)(?:@)/;\n                    var matches = line.match(functionNameRegex);\n                    var functionName = matches && matches[1] ? matches[1] : undefined;\n                    var locationParts = this.extractLocation(line.replace(functionNameRegex, ''));\n\n                    return new StackFrame({\n                        functionName: functionName,\n                        fileName: locationParts[0],\n                        lineNumber: locationParts[1],\n                        columnNumber: locationParts[2],\n                        source: line\n                    });\n                }\n            }, this);\n        },\n\n        parseOpera: function ErrorStackParser$$parseOpera(e) {\n            if (!e.stacktrace || (e.message.indexOf('\\n') > -1 &&\n                e.message.split('\\n').length > e.stacktrace.split('\\n').length)) {\n                return this.parseOpera9(e);\n            } else if (!e.stack) {\n                return this.parseOpera10(e);\n            } else {\n                return this.parseOpera11(e);\n            }\n        },\n\n        parseOpera9: function ErrorStackParser$$parseOpera9(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n            var lines = e.message.split('\\n');\n            var result = [];\n\n            for (var i = 2, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(new StackFrame({\n                        fileName: match[2],\n                        lineNumber: match[1],\n                        source: lines[i]\n                    }));\n                }\n            }\n\n            return result;\n        },\n\n        parseOpera10: function ErrorStackParser$$parseOpera10(e) {\n            var lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n            var lines = e.stacktrace.split('\\n');\n            var result = [];\n\n            for (var i = 0, len = lines.length; i < len; i += 2) {\n                var match = lineRE.exec(lines[i]);\n                if (match) {\n                    result.push(\n                        new StackFrame({\n                            functionName: match[3] || undefined,\n                            fileName: match[2],\n                            lineNumber: match[1],\n                            source: lines[i]\n                        })\n                    );\n                }\n            }\n\n            return result;\n        },\n\n        // Opera 10.65+ Error.stack very similar to FF/Safari\n        parseOpera11: function ErrorStackParser$$parseOpera11(error) {\n            var filtered = error.stack.split('\\n').filter(function(line) {\n                return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n            }, this);\n\n            return filtered.map(function(line) {\n                var tokens = line.split('@');\n                var locationParts = this.extractLocation(tokens.pop());\n                var functionCall = (tokens.shift() || '');\n                var functionName = functionCall\n                    .replace(/<anonymous function(: (\\w+))?>/, '$2')\n                    .replace(/\\([^)]*\\)/g, '') || undefined;\n                var argsRaw;\n                if (functionCall.match(/\\(([^)]*)\\)/)) {\n                    argsRaw = functionCall.replace(/^[^(]+\\(([^)]*)\\)$/, '$1');\n                }\n                var args = (argsRaw === undefined || argsRaw === '[arguments not available]') ?\n                    undefined : argsRaw.split(',');\n\n                return new StackFrame({\n                    functionName: functionName,\n                    args: args,\n                    fileName: locationParts[0],\n                    lineNumber: locationParts[1],\n                    columnNumber: locationParts[2],\n                    source: line\n                });\n            }, this);\n        }\n    };\n}));\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","'use strict'\n\nmodule.exports = LRUCache\n\n// This will be a proper iterable 'Map' in engines that support it,\n// or a fakey-fake PseudoMap in older versions.\nvar Map = require('pseudomap')\nvar util = require('util')\n\n// A linked list to keep track of recently-used-ness\nvar Yallist = require('yallist')\n\n// use symbols if possible, otherwise just _props\nvar hasSymbol = typeof Symbol === 'function' && process.env._nodeLRUCacheForceNoSymbol !== '1'\nvar makeSymbol\nif (hasSymbol) {\n  makeSymbol = function (key) {\n    return Symbol(key)\n  }\n} else {\n  makeSymbol = function (key) {\n    return '_' + key\n  }\n}\n\nvar MAX = makeSymbol('max')\nvar LENGTH = makeSymbol('length')\nvar LENGTH_CALCULATOR = makeSymbol('lengthCalculator')\nvar ALLOW_STALE = makeSymbol('allowStale')\nvar MAX_AGE = makeSymbol('maxAge')\nvar DISPOSE = makeSymbol('dispose')\nvar NO_DISPOSE_ON_SET = makeSymbol('noDisposeOnSet')\nvar LRU_LIST = makeSymbol('lruList')\nvar CACHE = makeSymbol('cache')\n\nfunction naiveLength () { return 1 }\n\n// lruList is a yallist where the head is the youngest\n// item, and the tail is the oldest.  the list contains the Hit\n// objects as the entries.\n// Each Hit object has a reference to its Yallist.Node.  This\n// never changes.\n//\n// cache is a Map (or PseudoMap) that matches the keys to\n// the Yallist.Node object.\nfunction LRUCache (options) {\n  if (!(this instanceof LRUCache)) {\n    return new LRUCache(options)\n  }\n\n  if (typeof options === 'number') {\n    options = { max: options }\n  }\n\n  if (!options) {\n    options = {}\n  }\n\n  var max = this[MAX] = options.max\n  // Kind of weird to have a default max of Infinity, but oh well.\n  if (!max ||\n      !(typeof max === 'number') ||\n      max <= 0) {\n    this[MAX] = Infinity\n  }\n\n  var lc = options.length || naiveLength\n  if (typeof lc !== 'function') {\n    lc = naiveLength\n  }\n  this[LENGTH_CALCULATOR] = lc\n\n  this[ALLOW_STALE] = options.stale || false\n  this[MAX_AGE] = options.maxAge || 0\n  this[DISPOSE] = options.dispose\n  this[NO_DISPOSE_ON_SET] = options.noDisposeOnSet || false\n  this.reset()\n}\n\n// resize the cache when the max changes.\nObject.defineProperty(LRUCache.prototype, 'max', {\n  set: function (mL) {\n    if (!mL || !(typeof mL === 'number') || mL <= 0) {\n      mL = Infinity\n    }\n    this[MAX] = mL\n    trim(this)\n  },\n  get: function () {\n    return this[MAX]\n  },\n  enumerable: true\n})\n\nObject.defineProperty(LRUCache.prototype, 'allowStale', {\n  set: function (allowStale) {\n    this[ALLOW_STALE] = !!allowStale\n  },\n  get: function () {\n    return this[ALLOW_STALE]\n  },\n  enumerable: true\n})\n\nObject.defineProperty(LRUCache.prototype, 'maxAge', {\n  set: function (mA) {\n    if (!mA || !(typeof mA === 'number') || mA < 0) {\n      mA = 0\n    }\n    this[MAX_AGE] = mA\n    trim(this)\n  },\n  get: function () {\n    return this[MAX_AGE]\n  },\n  enumerable: true\n})\n\n// resize the cache when the lengthCalculator changes.\nObject.defineProperty(LRUCache.prototype, 'lengthCalculator', {\n  set: function (lC) {\n    if (typeof lC !== 'function') {\n      lC = naiveLength\n    }\n    if (lC !== this[LENGTH_CALCULATOR]) {\n      this[LENGTH_CALCULATOR] = lC\n      this[LENGTH] = 0\n      this[LRU_LIST].forEach(function (hit) {\n        hit.length = this[LENGTH_CALCULATOR](hit.value, hit.key)\n        this[LENGTH] += hit.length\n      }, this)\n    }\n    trim(this)\n  },\n  get: function () { return this[LENGTH_CALCULATOR] },\n  enumerable: true\n})\n\nObject.defineProperty(LRUCache.prototype, 'length', {\n  get: function () { return this[LENGTH] },\n  enumerable: true\n})\n\nObject.defineProperty(LRUCache.prototype, 'itemCount', {\n  get: function () { return this[LRU_LIST].length },\n  enumerable: true\n})\n\nLRUCache.prototype.rforEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this[LRU_LIST].tail; walker !== null;) {\n    var prev = walker.prev\n    forEachStep(this, fn, walker, thisp)\n    walker = prev\n  }\n}\n\nfunction forEachStep (self, fn, node, thisp) {\n  var hit = node.value\n  if (isStale(self, hit)) {\n    del(self, node)\n    if (!self[ALLOW_STALE]) {\n      hit = undefined\n    }\n  }\n  if (hit) {\n    fn.call(thisp, hit.value, hit.key, self)\n  }\n}\n\nLRUCache.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this[LRU_LIST].head; walker !== null;) {\n    var next = walker.next\n    forEachStep(this, fn, walker, thisp)\n    walker = next\n  }\n}\n\nLRUCache.prototype.keys = function () {\n  return this[LRU_LIST].toArray().map(function (k) {\n    return k.key\n  }, this)\n}\n\nLRUCache.prototype.values = function () {\n  return this[LRU_LIST].toArray().map(function (k) {\n    return k.value\n  }, this)\n}\n\nLRUCache.prototype.reset = function () {\n  if (this[DISPOSE] &&\n      this[LRU_LIST] &&\n      this[LRU_LIST].length) {\n    this[LRU_LIST].forEach(function (hit) {\n      this[DISPOSE](hit.key, hit.value)\n    }, this)\n  }\n\n  this[CACHE] = new Map() // hash of items by key\n  this[LRU_LIST] = new Yallist() // list of items in order of use recency\n  this[LENGTH] = 0 // length of items in the list\n}\n\nLRUCache.prototype.dump = function () {\n  return this[LRU_LIST].map(function (hit) {\n    if (!isStale(this, hit)) {\n      return {\n        k: hit.key,\n        v: hit.value,\n        e: hit.now + (hit.maxAge || 0)\n      }\n    }\n  }, this).toArray().filter(function (h) {\n    return h\n  })\n}\n\nLRUCache.prototype.dumpLru = function () {\n  return this[LRU_LIST]\n}\n\n/* istanbul ignore next */\nLRUCache.prototype.inspect = function (n, opts) {\n  var str = 'LRUCache {'\n  var extras = false\n\n  var as = this[ALLOW_STALE]\n  if (as) {\n    str += '\\n  allowStale: true'\n    extras = true\n  }\n\n  var max = this[MAX]\n  if (max && max !== Infinity) {\n    if (extras) {\n      str += ','\n    }\n    str += '\\n  max: ' + util.inspect(max, opts)\n    extras = true\n  }\n\n  var maxAge = this[MAX_AGE]\n  if (maxAge) {\n    if (extras) {\n      str += ','\n    }\n    str += '\\n  maxAge: ' + util.inspect(maxAge, opts)\n    extras = true\n  }\n\n  var lc = this[LENGTH_CALCULATOR]\n  if (lc && lc !== naiveLength) {\n    if (extras) {\n      str += ','\n    }\n    str += '\\n  length: ' + util.inspect(this[LENGTH], opts)\n    extras = true\n  }\n\n  var didFirst = false\n  this[LRU_LIST].forEach(function (item) {\n    if (didFirst) {\n      str += ',\\n  '\n    } else {\n      if (extras) {\n        str += ',\\n'\n      }\n      didFirst = true\n      str += '\\n  '\n    }\n    var key = util.inspect(item.key).split('\\n').join('\\n  ')\n    var val = { value: item.value }\n    if (item.maxAge !== maxAge) {\n      val.maxAge = item.maxAge\n    }\n    if (lc !== naiveLength) {\n      val.length = item.length\n    }\n    if (isStale(this, item)) {\n      val.stale = true\n    }\n\n    val = util.inspect(val, opts).split('\\n').join('\\n  ')\n    str += key + ' => ' + val\n  })\n\n  if (didFirst || extras) {\n    str += '\\n'\n  }\n  str += '}'\n\n  return str\n}\n\nLRUCache.prototype.set = function (key, value, maxAge) {\n  maxAge = maxAge || this[MAX_AGE]\n\n  var now = maxAge ? Date.now() : 0\n  var len = this[LENGTH_CALCULATOR](value, key)\n\n  if (this[CACHE].has(key)) {\n    if (len > this[MAX]) {\n      del(this, this[CACHE].get(key))\n      return false\n    }\n\n    var node = this[CACHE].get(key)\n    var item = node.value\n\n    // dispose of the old one before overwriting\n    // split out into 2 ifs for better coverage tracking\n    if (this[DISPOSE]) {\n      if (!this[NO_DISPOSE_ON_SET]) {\n        this[DISPOSE](key, item.value)\n      }\n    }\n\n    item.now = now\n    item.maxAge = maxAge\n    item.value = value\n    this[LENGTH] += len - item.length\n    item.length = len\n    this.get(key)\n    trim(this)\n    return true\n  }\n\n  var hit = new Entry(key, value, len, now, maxAge)\n\n  // oversized objects fall out of cache automatically.\n  if (hit.length > this[MAX]) {\n    if (this[DISPOSE]) {\n      this[DISPOSE](key, value)\n    }\n    return false\n  }\n\n  this[LENGTH] += hit.length\n  this[LRU_LIST].unshift(hit)\n  this[CACHE].set(key, this[LRU_LIST].head)\n  trim(this)\n  return true\n}\n\nLRUCache.prototype.has = function (key) {\n  if (!this[CACHE].has(key)) return false\n  var hit = this[CACHE].get(key).value\n  if (isStale(this, hit)) {\n    return false\n  }\n  return true\n}\n\nLRUCache.prototype.get = function (key) {\n  return get(this, key, true)\n}\n\nLRUCache.prototype.peek = function (key) {\n  return get(this, key, false)\n}\n\nLRUCache.prototype.pop = function () {\n  var node = this[LRU_LIST].tail\n  if (!node) return null\n  del(this, node)\n  return node.value\n}\n\nLRUCache.prototype.del = function (key) {\n  del(this, this[CACHE].get(key))\n}\n\nLRUCache.prototype.load = function (arr) {\n  // reset the cache\n  this.reset()\n\n  var now = Date.now()\n  // A previous serialized cache has the most recent items first\n  for (var l = arr.length - 1; l >= 0; l--) {\n    var hit = arr[l]\n    var expiresAt = hit.e || 0\n    if (expiresAt === 0) {\n      // the item was created without expiration in a non aged cache\n      this.set(hit.k, hit.v)\n    } else {\n      var maxAge = expiresAt - now\n      // dont add already expired items\n      if (maxAge > 0) {\n        this.set(hit.k, hit.v, maxAge)\n      }\n    }\n  }\n}\n\nLRUCache.prototype.prune = function () {\n  var self = this\n  this[CACHE].forEach(function (value, key) {\n    get(self, key, false)\n  })\n}\n\nfunction get (self, key, doUse) {\n  var node = self[CACHE].get(key)\n  if (node) {\n    var hit = node.value\n    if (isStale(self, hit)) {\n      del(self, node)\n      if (!self[ALLOW_STALE]) hit = undefined\n    } else {\n      if (doUse) {\n        self[LRU_LIST].unshiftNode(node)\n      }\n    }\n    if (hit) hit = hit.value\n  }\n  return hit\n}\n\nfunction isStale (self, hit) {\n  if (!hit || (!hit.maxAge && !self[MAX_AGE])) {\n    return false\n  }\n  var stale = false\n  var diff = Date.now() - hit.now\n  if (hit.maxAge) {\n    stale = diff > hit.maxAge\n  } else {\n    stale = self[MAX_AGE] && (diff > self[MAX_AGE])\n  }\n  return stale\n}\n\nfunction trim (self) {\n  if (self[LENGTH] > self[MAX]) {\n    for (var walker = self[LRU_LIST].tail;\n      self[LENGTH] > self[MAX] && walker !== null;) {\n      // We know that we're about to delete this one, and also\n      // what the next least recently used key will be, so just\n      // go ahead and set it now.\n      var prev = walker.prev\n      del(self, walker)\n      walker = prev\n    }\n  }\n}\n\nfunction del (self, node) {\n  if (node) {\n    var hit = node.value\n    if (self[DISPOSE]) {\n      self[DISPOSE](hit.key, hit.value)\n    }\n    self[LENGTH] -= hit.length\n    self[CACHE].delete(hit.key)\n    self[LRU_LIST].removeNode(node)\n  }\n}\n\n// classy, since V8 prefers predictable objects.\nfunction Entry (key, value, length, now, maxAge) {\n  this.key = key\n  this.value = value\n  this.length = length\n  this.now = now\n  this.maxAge = maxAge || 0\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","if (process.env.npm_package_name === 'pseudomap' &&\n    process.env.npm_lifecycle_script === 'test')\n  process.env.TEST_PSEUDOMAP = 'true'\n\nif (typeof Map === 'function' && !process.env.TEST_PSEUDOMAP) {\n  module.exports = Map\n} else {\n  module.exports = require('./pseudomap')\n}\n","var hasOwnProperty = Object.prototype.hasOwnProperty\n\nmodule.exports = PseudoMap\n\nfunction PseudoMap (set) {\n  if (!(this instanceof PseudoMap)) // whyyyyyyy\n    throw new TypeError(\"Constructor PseudoMap requires 'new'\")\n\n  this.clear()\n\n  if (set) {\n    if ((set instanceof PseudoMap) ||\n        (typeof Map === 'function' && set instanceof Map))\n      set.forEach(function (value, key) {\n        this.set(key, value)\n      }, this)\n    else if (Array.isArray(set))\n      set.forEach(function (kv) {\n        this.set(kv[0], kv[1])\n      }, this)\n    else\n      throw new TypeError('invalid argument')\n  }\n}\n\nPseudoMap.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  Object.keys(this._data).forEach(function (k) {\n    if (k !== 'size')\n      fn.call(thisp, this._data[k].value, this._data[k].key)\n  }, this)\n}\n\nPseudoMap.prototype.has = function (k) {\n  return !!find(this._data, k)\n}\n\nPseudoMap.prototype.get = function (k) {\n  var res = find(this._data, k)\n  return res && res.value\n}\n\nPseudoMap.prototype.set = function (k, v) {\n  set(this._data, k, v)\n}\n\nPseudoMap.prototype.delete = function (k) {\n  var res = find(this._data, k)\n  if (res) {\n    delete this._data[res._index]\n    this._data.size--\n  }\n}\n\nPseudoMap.prototype.clear = function () {\n  var data = Object.create(null)\n  data.size = 0\n\n  Object.defineProperty(this, '_data', {\n    value: data,\n    enumerable: false,\n    configurable: true,\n    writable: false\n  })\n}\n\nObject.defineProperty(PseudoMap.prototype, 'size', {\n  get: function () {\n    return this._data.size\n  },\n  set: function (n) {},\n  enumerable: true,\n  configurable: true\n})\n\nPseudoMap.prototype.values =\nPseudoMap.prototype.keys =\nPseudoMap.prototype.entries = function () {\n  throw new Error('iterators are not implemented in this version')\n}\n\n// Either identical, or both NaN\nfunction same (a, b) {\n  return a === b || a !== a && b !== b\n}\n\nfunction Entry (k, v, i) {\n  this.key = k\n  this.value = v\n  this._index = i\n}\n\nfunction find (data, k) {\n  for (var i = 0, s = '_' + k, key = s;\n       hasOwnProperty.call(data, key);\n       key = s + i++) {\n    if (same(data[key].key, k))\n      return data[key]\n  }\n}\n\nfunction set (data, k, v) {\n  for (var i = 0, s = '_' + k, key = s;\n       hasOwnProperty.call(data, key);\n       key = s + i++) {\n    if (same(data[key].key, k)) {\n      data[key].value = v\n      return\n    }\n  }\n  data.size++\n  data[key] = new Entry(k, v, key)\n}\n","(function(root, factory) {\n    'use strict';\n    // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define('stackframe', [], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.StackFrame = factory();\n    }\n}(this, function() {\n    'use strict';\n    function _isNumber(n) {\n        return !isNaN(parseFloat(n)) && isFinite(n);\n    }\n\n    function _capitalize(str) {\n        return str.charAt(0).toUpperCase() + str.substring(1);\n    }\n\n    function _getter(p) {\n        return function() {\n            return this[p];\n        };\n    }\n\n    var booleanProps = ['isConstructor', 'isEval', 'isNative', 'isToplevel'];\n    var numericProps = ['columnNumber', 'lineNumber'];\n    var stringProps = ['fileName', 'functionName', 'source'];\n    var arrayProps = ['args'];\n\n    var props = booleanProps.concat(numericProps, stringProps, arrayProps);\n\n    function StackFrame(obj) {\n        if (!obj) return;\n        for (var i = 0; i < props.length; i++) {\n            if (obj[props[i]] !== undefined) {\n                this['set' + _capitalize(props[i])](obj[props[i]]);\n            }\n        }\n    }\n\n    StackFrame.prototype = {\n        getArgs: function() {\n            return this.args;\n        },\n        setArgs: function(v) {\n            if (Object.prototype.toString.call(v) !== '[object Array]') {\n                throw new TypeError('Args must be an Array');\n            }\n            this.args = v;\n        },\n\n        getEvalOrigin: function() {\n            return this.evalOrigin;\n        },\n        setEvalOrigin: function(v) {\n            if (v instanceof StackFrame) {\n                this.evalOrigin = v;\n            } else if (v instanceof Object) {\n                this.evalOrigin = new StackFrame(v);\n            } else {\n                throw new TypeError('Eval Origin must be an Object or StackFrame');\n            }\n        },\n\n        toString: function() {\n            var fileName = this.getFileName() || '';\n            var lineNumber = this.getLineNumber() || '';\n            var columnNumber = this.getColumnNumber() || '';\n            var functionName = this.getFunctionName() || '';\n            if (this.getIsEval()) {\n                if (fileName) {\n                    return '[eval] (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n                }\n                return '[eval]:' + lineNumber + ':' + columnNumber;\n            }\n            if (functionName) {\n                return functionName + ' (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n            }\n            return fileName + ':' + lineNumber + ':' + columnNumber;\n        }\n    };\n\n    StackFrame.fromString = function StackFrame$$fromString(str) {\n        var argsStartIndex = str.indexOf('(');\n        var argsEndIndex = str.lastIndexOf(')');\n\n        var functionName = str.substring(0, argsStartIndex);\n        var args = str.substring(argsStartIndex + 1, argsEndIndex).split(',');\n        var locationString = str.substring(argsEndIndex + 1);\n\n        if (locationString.indexOf('@') === 0) {\n            var parts = /@(.+?)(?::(\\d+))?(?::(\\d+))?$/.exec(locationString, '');\n            var fileName = parts[1];\n            var lineNumber = parts[2];\n            var columnNumber = parts[3];\n        }\n\n        return new StackFrame({\n            functionName: functionName,\n            args: args || undefined,\n            fileName: fileName,\n            lineNumber: lineNumber || undefined,\n            columnNumber: columnNumber || undefined\n        });\n    };\n\n    for (var i = 0; i < booleanProps.length; i++) {\n        StackFrame.prototype['get' + _capitalize(booleanProps[i])] = _getter(booleanProps[i]);\n        StackFrame.prototype['set' + _capitalize(booleanProps[i])] = (function(p) {\n            return function(v) {\n                this[p] = Boolean(v);\n            };\n        })(booleanProps[i]);\n    }\n\n    for (var j = 0; j < numericProps.length; j++) {\n        StackFrame.prototype['get' + _capitalize(numericProps[j])] = _getter(numericProps[j]);\n        StackFrame.prototype['set' + _capitalize(numericProps[j])] = (function(p) {\n            return function(v) {\n                if (!_isNumber(v)) {\n                    throw new TypeError(p + ' must be a Number');\n                }\n                this[p] = Number(v);\n            };\n        })(numericProps[j]);\n    }\n\n    for (var k = 0; k < stringProps.length; k++) {\n        StackFrame.prototype['get' + _capitalize(stringProps[k])] = _getter(stringProps[k]);\n        StackFrame.prototype['set' + _capitalize(stringProps[k])] = (function(p) {\n            return function(v) {\n                this[p] = String(v);\n            };\n        })(stringProps[k]);\n    }\n\n    return StackFrame;\n}));\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n","module.exports = Yallist\n\nYallist.Node = Node\nYallist.create = Yallist\n\nfunction Yallist (list) {\n  var self = this\n  if (!(self instanceof Yallist)) {\n    self = new Yallist()\n  }\n\n  self.tail = null\n  self.head = null\n  self.length = 0\n\n  if (list && typeof list.forEach === 'function') {\n    list.forEach(function (item) {\n      self.push(item)\n    })\n  } else if (arguments.length > 0) {\n    for (var i = 0, l = arguments.length; i < l; i++) {\n      self.push(arguments[i])\n    }\n  }\n\n  return self\n}\n\nYallist.prototype.removeNode = function (node) {\n  if (node.list !== this) {\n    throw new Error('removing node which does not belong to this list')\n  }\n\n  var next = node.next\n  var prev = node.prev\n\n  if (next) {\n    next.prev = prev\n  }\n\n  if (prev) {\n    prev.next = next\n  }\n\n  if (node === this.head) {\n    this.head = next\n  }\n  if (node === this.tail) {\n    this.tail = prev\n  }\n\n  node.list.length--\n  node.next = null\n  node.prev = null\n  node.list = null\n}\n\nYallist.prototype.unshiftNode = function (node) {\n  if (node === this.head) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var head = this.head\n  node.list = this\n  node.next = head\n  if (head) {\n    head.prev = node\n  }\n\n  this.head = node\n  if (!this.tail) {\n    this.tail = node\n  }\n  this.length++\n}\n\nYallist.prototype.pushNode = function (node) {\n  if (node === this.tail) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var tail = this.tail\n  node.list = this\n  node.prev = tail\n  if (tail) {\n    tail.next = node\n  }\n\n  this.tail = node\n  if (!this.head) {\n    this.head = node\n  }\n  this.length++\n}\n\nYallist.prototype.push = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    push(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.unshift = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    unshift(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.pop = function () {\n  if (!this.tail) {\n    return undefined\n  }\n\n  var res = this.tail.value\n  this.tail = this.tail.prev\n  if (this.tail) {\n    this.tail.next = null\n  } else {\n    this.head = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.shift = function () {\n  if (!this.head) {\n    return undefined\n  }\n\n  var res = this.head.value\n  this.head = this.head.next\n  if (this.head) {\n    this.head.prev = null\n  } else {\n    this.tail = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.head, i = 0; walker !== null; i++) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.next\n  }\n}\n\nYallist.prototype.forEachReverse = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.prev\n  }\n}\n\nYallist.prototype.get = function (n) {\n  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.next\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.getReverse = function (n) {\n  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.prev\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.map = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.head; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.next\n  }\n  return res\n}\n\nYallist.prototype.mapReverse = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.tail; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.prev\n  }\n  return res\n}\n\nYallist.prototype.reduce = function (fn, initial) {\n  var acc\n  var walker = this.head\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.head) {\n    walker = this.head.next\n    acc = this.head.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = 0; walker !== null; i++) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.next\n  }\n\n  return acc\n}\n\nYallist.prototype.reduceReverse = function (fn, initial) {\n  var acc\n  var walker = this.tail\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.tail) {\n    walker = this.tail.prev\n    acc = this.tail.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = this.length - 1; walker !== null; i--) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.prev\n  }\n\n  return acc\n}\n\nYallist.prototype.toArray = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.head; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.next\n  }\n  return arr\n}\n\nYallist.prototype.toArrayReverse = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.tail; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.prev\n  }\n  return arr\n}\n\nYallist.prototype.slice = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {\n    walker = walker.next\n  }\n  for (; walker !== null && i < to; i++, walker = walker.next) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.sliceReverse = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {\n    walker = walker.prev\n  }\n  for (; walker !== null && i > from; i--, walker = walker.prev) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.reverse = function () {\n  var head = this.head\n  var tail = this.tail\n  for (var walker = head; walker !== null; walker = walker.prev) {\n    var p = walker.prev\n    walker.prev = walker.next\n    walker.next = p\n  }\n  this.head = tail\n  this.tail = head\n  return this\n}\n\nfunction push (self, item) {\n  self.tail = new Node(item, self.tail, null, self)\n  if (!self.head) {\n    self.head = self.tail\n  }\n  self.length++\n}\n\nfunction unshift (self, item) {\n  self.head = new Node(item, null, self.head, self)\n  if (!self.tail) {\n    self.tail = self.head\n  }\n  self.length++\n}\n\nfunction Node (value, prev, next, list) {\n  if (!(this instanceof Node)) {\n    return new Node(value, prev, next, list)\n  }\n\n  this.list = list\n  this.value = value\n\n  if (prev) {\n    prev.next = this\n    this.prev = prev\n  } else {\n    this.prev = null\n  }\n\n  if (next) {\n    next.prev = this\n    this.next = next\n  } else {\n    this.next = null\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport default class EventEmitter<Events: Object> {\n  listenersMap: Map<string, Array<Function>> = new Map();\n\n  addListener<Event: $Keys<Events>>(\n    event: Event,\n    listener: (...$ElementType<Events, Event>) => any,\n  ): void {\n    const listeners = this.listenersMap.get(event);\n    if (listeners === undefined) {\n      this.listenersMap.set(event, [listener]);\n    } else {\n      const index = listeners.indexOf(listener);\n      if (index < 0) {\n        listeners.push(listener);\n      }\n    }\n  }\n\n  emit<Event: $Keys<Events>>(\n    event: Event,\n    ...args: $ElementType<Events, Event>\n  ): void {\n    const listeners = this.listenersMap.get(event);\n    if (listeners !== undefined) {\n      if (listeners.length === 1) {\n        // No need to clone or try/catch\n        const listener = listeners[0];\n        listener.apply(null, args);\n      } else {\n        let didThrow = false;\n        let caughtError = null;\n\n        const clonedListeners = Array.from(listeners);\n        for (let i = 0; i < clonedListeners.length; i++) {\n          const listener = clonedListeners[i];\n          try {\n            listener.apply(null, args);\n          } catch (error) {\n            if (caughtError === null) {\n              didThrow = true;\n              caughtError = error;\n            }\n          }\n        }\n\n        if (didThrow) {\n          throw caughtError;\n        }\n      }\n    }\n  }\n\n  removeAllListeners(): void {\n    this.listenersMap.clear();\n  }\n\n  removeListener(event: $Keys<Events>, listener: Function): void {\n    const listeners = this.listenersMap.get(event);\n    if (listeners !== undefined) {\n      const index = listeners.indexOf(listener);\n      if (index >= 0) {\n        listeners.splice(index, 1);\n      }\n    }\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport const CHROME_WEBSTORE_EXTENSION_ID = 'fmkadmapgofadopljbjfkapdkoienihi';\nexport const INTERNAL_EXTENSION_ID = 'dnjnjgbfilfphmojnmhliehogmojhclc';\nexport const LOCAL_EXTENSION_ID = 'ikiahnapldjmdmpkmfhjdjilojjhgcbf';\n\n// Flip this flag to true to enable verbose console debug logging.\nexport const __DEBUG__ = false;\n\n// Flip this flag to true to enable performance.mark() and performance.measure() timings.\nexport const __PERFORMANCE_PROFILE__ = false;\n\nexport const TREE_OPERATION_ADD = 1;\nexport const TREE_OPERATION_REMOVE = 2;\nexport const TREE_OPERATION_REORDER_CHILDREN = 3;\nexport const TREE_OPERATION_UPDATE_TREE_BASE_DURATION = 4;\nexport const TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS = 5;\nexport const TREE_OPERATION_REMOVE_ROOT = 6;\nexport const TREE_OPERATION_SET_SUBTREE_MODE = 7;\n\nexport const PROFILING_FLAG_BASIC_SUPPORT = 0b01;\nexport const PROFILING_FLAG_TIMELINE_SUPPORT = 0b10;\n\nexport const LOCAL_STORAGE_DEFAULT_TAB_KEY = 'React::DevTools::defaultTab';\n\nexport const LOCAL_STORAGE_COMPONENT_FILTER_PREFERENCES_KEY =\n  'React::DevTools::componentFilters';\n\nexport const SESSION_STORAGE_LAST_SELECTION_KEY =\n  'React::DevTools::lastSelection';\n\nexport const LOCAL_STORAGE_OPEN_IN_EDITOR_URL =\n  'React::DevTools::openInEditorUrl';\n\nexport const LOCAL_STORAGE_OPEN_IN_EDITOR_URL_PRESET =\n  'React::DevTools::openInEditorUrlPreset';\n\nexport const LOCAL_STORAGE_PARSE_HOOK_NAMES_KEY =\n  'React::DevTools::parseHookNames';\n\nexport const SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY =\n  'React::DevTools::recordChangeDescriptions';\n\nexport const SESSION_STORAGE_RELOAD_AND_PROFILE_KEY =\n  'React::DevTools::reloadAndProfile';\n\nexport const LOCAL_STORAGE_SHOULD_BREAK_ON_CONSOLE_ERRORS =\n  'React::DevTools::breakOnConsoleErrors';\n\nexport const LOCAL_STORAGE_BROWSER_THEME = 'React::DevTools::theme';\n\nexport const LOCAL_STORAGE_SHOULD_APPEND_COMPONENT_STACK_KEY =\n  'React::DevTools::appendComponentStack';\n\nexport const LOCAL_STORAGE_SHOW_INLINE_WARNINGS_AND_ERRORS_KEY =\n  'React::DevTools::showInlineWarningsAndErrors';\n\nexport const LOCAL_STORAGE_TRACE_UPDATES_ENABLED_KEY =\n  'React::DevTools::traceUpdatesEnabled';\n\nexport const LOCAL_STORAGE_HIDE_CONSOLE_LOGS_IN_STRICT_MODE =\n  'React::DevTools::hideConsoleLogsInStrictMode';\n\nexport const LOCAL_STORAGE_SUPPORTS_PROFILING_KEY =\n  'React::DevTools::supportsProfiling';\n\nexport const PROFILER_EXPORT_VERSION = 5;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport function localStorageGetItem(key: string): any {\n  try {\n    return localStorage.getItem(key);\n  } catch (error) {\n    return null;\n  }\n}\n\nexport function localStorageRemoveItem(key: string): void {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {}\n}\n\nexport function localStorageSetItem(key: string, value: any): void {\n  try {\n    return localStorage.setItem(key, value);\n  } catch (error) {}\n}\n\nexport function sessionStorageGetItem(key: string): any {\n  try {\n    return sessionStorage.getItem(key);\n  } catch (error) {\n    return null;\n  }\n}\n\nexport function sessionStorageRemoveItem(key: string): void {\n  try {\n    sessionStorage.removeItem(key);\n  } catch (error) {}\n}\n\nexport function sessionStorageSetItem(key: string, value: any): void {\n  try {\n    return sessionStorage.setItem(key, value);\n  } catch (error) {}\n}\n","\n\nvar simpleIsEqual = function simpleIsEqual(a, b) {\n  return a === b;\n};\n\nexport default function (resultFn) {\n  var isEqual = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : simpleIsEqual;\n\n  var lastThis = void 0;\n  var lastArgs = [];\n  var lastResult = void 0;\n  var calledOnce = false;\n\n  var isNewArgEqualToLast = function isNewArgEqualToLast(newArg, index) {\n    return isEqual(newArg, lastArgs[index]);\n  };\n\n  var result = function result() {\n    for (var _len = arguments.length, newArgs = Array(_len), _key = 0; _key < _len; _key++) {\n      newArgs[_key] = arguments[_key];\n    }\n\n    if (calledOnce && lastThis === this && newArgs.length === lastArgs.length && newArgs.every(isNewArgEqualToLast)) {\n      return lastResult;\n    }\n\n    calledOnce = true;\n    lastThis = this;\n    lastArgs = newArgs;\n    lastResult = resultFn.apply(this, newArgs);\n    return lastResult;\n  };\n\n  return result;\n}","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport interface Rect {\n  bottom: number;\n  height: number;\n  left: number;\n  right: number;\n  top: number;\n  width: number;\n}\n\n// Get the window object for the document that a node belongs to,\n// or return null if it cannot be found (node not attached to DOM,\n// etc).\nexport function getOwnerWindow(node: HTMLElement): typeof window | null {\n  if (!node.ownerDocument) {\n    return null;\n  }\n  return node.ownerDocument.defaultView;\n}\n\n// Get the iframe containing a node, or return null if it cannot\n// be found (node not within iframe, etc).\nexport function getOwnerIframe(node: HTMLElement): HTMLElement | null {\n  const nodeWindow = getOwnerWindow(node);\n  if (nodeWindow) {\n    return nodeWindow.frameElement;\n  }\n  return null;\n}\n\n// Get a bounding client rect for a node, with an\n// offset added to compensate for its border.\nexport function getBoundingClientRectWithBorderOffset(node: HTMLElement): Rect {\n  const dimensions = getElementDimensions(node);\n  return mergeRectOffsets([\n    node.getBoundingClientRect(),\n    {\n      top: dimensions.borderTop,\n      left: dimensions.borderLeft,\n      bottom: dimensions.borderBottom,\n      right: dimensions.borderRight,\n      // This width and height won't get used by mergeRectOffsets (since this\n      // is not the first rect in the array), but we set them so that this\n      // object type checks as a ClientRect.\n      width: 0,\n      height: 0,\n    },\n  ]);\n}\n\n// Add together the top, left, bottom, and right properties of\n// each ClientRect, but keep the width and height of the first one.\nexport function mergeRectOffsets(rects: Array<Rect>): Rect {\n  return rects.reduce((previousRect, rect) => {\n    if (previousRect == null) {\n      return rect;\n    }\n\n    return {\n      top: previousRect.top + rect.top,\n      left: previousRect.left + rect.left,\n      width: previousRect.width,\n      height: previousRect.height,\n      bottom: previousRect.bottom + rect.bottom,\n      right: previousRect.right + rect.right,\n    };\n  });\n}\n\n// Calculate a boundingClientRect for a node relative to boundaryWindow,\n// taking into account any offsets caused by intermediate iframes.\nexport function getNestedBoundingClientRect(\n  node: HTMLElement,\n  boundaryWindow: typeof window,\n): Rect {\n  const ownerIframe = getOwnerIframe(node);\n  if (ownerIframe && ownerIframe !== boundaryWindow) {\n    const rects: Array<Rect | ClientRect> = [node.getBoundingClientRect()];\n    let currentIframe: null | HTMLElement = ownerIframe;\n    let onlyOneMore = false;\n    while (currentIframe) {\n      const rect = getBoundingClientRectWithBorderOffset(currentIframe);\n      rects.push(rect);\n      currentIframe = getOwnerIframe(currentIframe);\n\n      if (onlyOneMore) {\n        break;\n      }\n      // We don't want to calculate iframe offsets upwards beyond\n      // the iframe containing the boundaryWindow, but we\n      // need to calculate the offset relative to the boundaryWindow.\n      if (currentIframe && getOwnerWindow(currentIframe) === boundaryWindow) {\n        onlyOneMore = true;\n      }\n    }\n\n    return mergeRectOffsets(rects);\n  } else {\n    return node.getBoundingClientRect();\n  }\n}\n\nexport function getElementDimensions(domElement: Element): {\n  borderBottom: number,\n  borderLeft: number,\n  borderRight: number,\n  borderTop: number,\n  marginBottom: number,\n  marginLeft: number,\n  marginRight: number,\n  marginTop: number,\n  paddingBottom: number,\n  paddingLeft: number,\n  paddingRight: number,\n  paddingTop: number,\n} {\n  const calculatedStyle = window.getComputedStyle(domElement);\n  return {\n    borderLeft: parseInt(calculatedStyle.borderLeftWidth, 10),\n    borderRight: parseInt(calculatedStyle.borderRightWidth, 10),\n    borderTop: parseInt(calculatedStyle.borderTopWidth, 10),\n    borderBottom: parseInt(calculatedStyle.borderBottomWidth, 10),\n    marginLeft: parseInt(calculatedStyle.marginLeft, 10),\n    marginRight: parseInt(calculatedStyle.marginRight, 10),\n    marginTop: parseInt(calculatedStyle.marginTop, 10),\n    marginBottom: parseInt(calculatedStyle.marginBottom, 10),\n    paddingLeft: parseInt(calculatedStyle.paddingLeft, 10),\n    paddingRight: parseInt(calculatedStyle.paddingRight, 10),\n    paddingTop: parseInt(calculatedStyle.paddingTop, 10),\n    paddingBottom: parseInt(calculatedStyle.paddingBottom, 10),\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {getElementDimensions, getNestedBoundingClientRect} from '../utils';\n\nimport type {Rect} from '../utils';\nimport type Agent from 'react-devtools-shared/src/backend/agent';\n\ntype Box = {top: number, left: number, width: number, height: number};\n\nconst assign = Object.assign;\n\n// Note that the Overlay components are not affected by the active Theme,\n// because they highlight elements in the main Chrome window (outside of devtools).\n// The colors below were chosen to roughly match those used by Chrome devtools.\n\nclass OverlayRect {\n  node: HTMLElement;\n  border: HTMLElement;\n  padding: HTMLElement;\n  content: HTMLElement;\n\n  constructor(doc: Document, container: HTMLElement) {\n    this.node = doc.createElement('div');\n    this.border = doc.createElement('div');\n    this.padding = doc.createElement('div');\n    this.content = doc.createElement('div');\n\n    this.border.style.borderColor = overlayStyles.border;\n    this.padding.style.borderColor = overlayStyles.padding;\n    this.content.style.backgroundColor = overlayStyles.background;\n\n    assign(this.node.style, {\n      borderColor: overlayStyles.margin,\n      pointerEvents: 'none',\n      position: 'fixed',\n    });\n\n    this.node.style.zIndex = '10000000';\n\n    this.node.appendChild(this.border);\n    this.border.appendChild(this.padding);\n    this.padding.appendChild(this.content);\n    container.appendChild(this.node);\n  }\n\n  remove() {\n    if (this.node.parentNode) {\n      this.node.parentNode.removeChild(this.node);\n    }\n  }\n\n  update(box: Rect, dims: any) {\n    boxWrap(dims, 'margin', this.node);\n    boxWrap(dims, 'border', this.border);\n    boxWrap(dims, 'padding', this.padding);\n\n    assign(this.content.style, {\n      height:\n        box.height -\n        dims.borderTop -\n        dims.borderBottom -\n        dims.paddingTop -\n        dims.paddingBottom +\n        'px',\n      width:\n        box.width -\n        dims.borderLeft -\n        dims.borderRight -\n        dims.paddingLeft -\n        dims.paddingRight +\n        'px',\n    });\n\n    assign(this.node.style, {\n      top: box.top - dims.marginTop + 'px',\n      left: box.left - dims.marginLeft + 'px',\n    });\n  }\n}\n\nclass OverlayTip {\n  tip: HTMLElement;\n  nameSpan: HTMLElement;\n  dimSpan: HTMLElement;\n\n  constructor(doc: Document, container: HTMLElement) {\n    this.tip = doc.createElement('div');\n    assign(this.tip.style, {\n      display: 'flex',\n      flexFlow: 'row nowrap',\n      backgroundColor: '#333740',\n      borderRadius: '2px',\n      fontFamily:\n        '\"SFMono-Regular\", Consolas, \"Liberation Mono\", Menlo, Courier, monospace',\n      fontWeight: 'bold',\n      padding: '3px 5px',\n      pointerEvents: 'none',\n      position: 'fixed',\n      fontSize: '12px',\n      whiteSpace: 'nowrap',\n    });\n\n    this.nameSpan = doc.createElement('span');\n    this.tip.appendChild(this.nameSpan);\n    assign(this.nameSpan.style, {\n      color: '#ee78e6',\n      borderRight: '1px solid #aaaaaa',\n      paddingRight: '0.5rem',\n      marginRight: '0.5rem',\n    });\n    this.dimSpan = doc.createElement('span');\n    this.tip.appendChild(this.dimSpan);\n    assign(this.dimSpan.style, {\n      color: '#d7d7d7',\n    });\n\n    this.tip.style.zIndex = '10000000';\n    container.appendChild(this.tip);\n  }\n\n  remove() {\n    if (this.tip.parentNode) {\n      this.tip.parentNode.removeChild(this.tip);\n    }\n  }\n\n  updateText(name: string, width: number, height: number) {\n    this.nameSpan.textContent = name;\n    this.dimSpan.textContent =\n      Math.round(width) + 'px  ' + Math.round(height) + 'px';\n  }\n\n  updatePosition(dims: Box, bounds: Box) {\n    const tipRect = this.tip.getBoundingClientRect();\n    const tipPos = findTipPos(dims, bounds, {\n      width: tipRect.width,\n      height: tipRect.height,\n    });\n    assign(this.tip.style, tipPos.style);\n  }\n}\n\nexport default class Overlay {\n  window: any;\n  tipBoundsWindow: any;\n  container: HTMLElement;\n  tip: OverlayTip;\n  rects: Array<OverlayRect>;\n  agent: Agent;\n\n  constructor(agent: Agent) {\n    // Find the root window, because overlays are positioned relative to it.\n    const currentWindow = window.__REACT_DEVTOOLS_TARGET_WINDOW__ || window;\n    this.window = currentWindow;\n\n    // When opened in shells/dev, the tooltip should be bound by the app iframe, not by the topmost window.\n    const tipBoundsWindow = window.__REACT_DEVTOOLS_TARGET_WINDOW__ || window;\n    this.tipBoundsWindow = tipBoundsWindow;\n\n    const doc = currentWindow.document;\n    this.container = doc.createElement('div');\n    this.container.style.zIndex = '10000000';\n\n    this.tip = new OverlayTip(doc, this.container);\n    this.rects = [];\n\n    this.agent = agent;\n\n    doc.body.appendChild(this.container);\n  }\n\n  remove() {\n    this.tip.remove();\n    this.rects.forEach(rect => {\n      rect.remove();\n    });\n    this.rects.length = 0;\n    if (this.container.parentNode) {\n      this.container.parentNode.removeChild(this.container);\n    }\n  }\n\n  inspect(nodes: Array<HTMLElement>, name?: ?string) {\n    // We can't get the size of text nodes or comment nodes. React as of v15\n    // heavily uses comment nodes to delimit text.\n    const elements = nodes.filter(node => node.nodeType === Node.ELEMENT_NODE);\n\n    while (this.rects.length > elements.length) {\n      const rect = this.rects.pop();\n      rect.remove();\n    }\n    if (elements.length === 0) {\n      return;\n    }\n\n    while (this.rects.length < elements.length) {\n      this.rects.push(new OverlayRect(this.window.document, this.container));\n    }\n\n    const outerBox = {\n      top: Number.POSITIVE_INFINITY,\n      right: Number.NEGATIVE_INFINITY,\n      bottom: Number.NEGATIVE_INFINITY,\n      left: Number.POSITIVE_INFINITY,\n    };\n    elements.forEach((element, index) => {\n      const box = getNestedBoundingClientRect(element, this.window);\n      const dims = getElementDimensions(element);\n\n      outerBox.top = Math.min(outerBox.top, box.top - dims.marginTop);\n      outerBox.right = Math.max(\n        outerBox.right,\n        box.left + box.width + dims.marginRight,\n      );\n      outerBox.bottom = Math.max(\n        outerBox.bottom,\n        box.top + box.height + dims.marginBottom,\n      );\n      outerBox.left = Math.min(outerBox.left, box.left - dims.marginLeft);\n\n      const rect = this.rects[index];\n      rect.update(box, dims);\n    });\n\n    if (!name) {\n      name = elements[0].nodeName.toLowerCase();\n\n      const node = elements[0];\n      const rendererInterface =\n        this.agent.getBestMatchingRendererInterface(node);\n      if (rendererInterface) {\n        const id = rendererInterface.getFiberIDForNative(node, true);\n        if (id) {\n          const ownerName = rendererInterface.getDisplayNameForFiberID(\n            id,\n            true,\n          );\n          if (ownerName) {\n            name += ' (in ' + ownerName + ')';\n          }\n        }\n      }\n    }\n\n    this.tip.updateText(\n      name,\n      outerBox.right - outerBox.left,\n      outerBox.bottom - outerBox.top,\n    );\n    const tipBounds = getNestedBoundingClientRect(\n      this.tipBoundsWindow.document.documentElement,\n      this.window,\n    );\n\n    this.tip.updatePosition(\n      {\n        top: outerBox.top,\n        left: outerBox.left,\n        height: outerBox.bottom - outerBox.top,\n        width: outerBox.right - outerBox.left,\n      },\n      {\n        top: tipBounds.top + this.tipBoundsWindow.scrollY,\n        left: tipBounds.left + this.tipBoundsWindow.scrollX,\n        height: this.tipBoundsWindow.innerHeight,\n        width: this.tipBoundsWindow.innerWidth,\n      },\n    );\n  }\n}\n\nfunction findTipPos(\n  dims: Box,\n  bounds: Box,\n  tipSize: {height: number, width: number},\n) {\n  const tipHeight = Math.max(tipSize.height, 20);\n  const tipWidth = Math.max(tipSize.width, 60);\n  const margin = 5;\n\n  let top: number | string;\n  if (dims.top + dims.height + tipHeight <= bounds.top + bounds.height) {\n    if (dims.top + dims.height < bounds.top + 0) {\n      top = bounds.top + margin;\n    } else {\n      top = dims.top + dims.height + margin;\n    }\n  } else if (dims.top - tipHeight <= bounds.top + bounds.height) {\n    if (dims.top - tipHeight - margin < bounds.top + margin) {\n      top = bounds.top + margin;\n    } else {\n      top = dims.top - tipHeight - margin;\n    }\n  } else {\n    top = bounds.top + bounds.height - tipHeight - margin;\n  }\n\n  let left: number | string = dims.left + margin;\n  if (dims.left < bounds.left) {\n    left = bounds.left + margin;\n  }\n  if (dims.left + tipWidth > bounds.left + bounds.width) {\n    left = bounds.left + bounds.width - tipWidth - margin;\n  }\n\n  top += 'px';\n  left += 'px';\n  return {\n    style: {top, left},\n  };\n}\n\nfunction boxWrap(dims: any, what: string, node: HTMLElement) {\n  assign(node.style, {\n    borderTopWidth: dims[what + 'Top'] + 'px',\n    borderLeftWidth: dims[what + 'Left'] + 'px',\n    borderRightWidth: dims[what + 'Right'] + 'px',\n    borderBottomWidth: dims[what + 'Bottom'] + 'px',\n    borderStyle: 'solid',\n  });\n}\n\nconst overlayStyles = {\n  background: 'rgba(120, 170, 210, 0.7)',\n  padding: 'rgba(77, 200, 0, 0.3)',\n  margin: 'rgba(255, 155, 0, 0.3)',\n  border: 'rgba(255, 200, 50, 0.3)',\n};\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type Agent from 'react-devtools-shared/src/backend/agent';\n\nimport Overlay from './Overlay';\n\nconst SHOW_DURATION = 2000;\n\nlet timeoutID: TimeoutID | null = null;\nlet overlay: Overlay | null = null;\n\nexport function hideOverlay(agent: Agent) {\n  if (window.document == null) {\n    agent.emit('hideNativeHighlight');\n    return;\n  }\n  timeoutID = null;\n\n  if (overlay !== null) {\n    overlay.remove();\n    overlay = null;\n  }\n}\n\nexport function showOverlay(\n  elements: Array<HTMLElement> | null,\n  componentName: string | null,\n  agent: Agent,\n  hideAfterTimeout: boolean,\n) {\n  if (window.document == null) {\n    if (elements != null && elements[0] != null) {\n      agent.emit('showNativeHighlight', elements[0]);\n    }\n    return;\n  }\n\n  if (timeoutID !== null) {\n    clearTimeout(timeoutID);\n  }\n\n  if (elements == null) {\n    return;\n  }\n\n  if (overlay === null) {\n    overlay = new Overlay(agent);\n  }\n\n  overlay.inspect(elements, componentName);\n\n  if (hideAfterTimeout) {\n    timeoutID = setTimeout(() => hideOverlay(agent), SHOW_DURATION);\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport memoize from 'memoize-one';\nimport throttle from 'lodash.throttle';\nimport Agent from 'react-devtools-shared/src/backend/agent';\nimport {hideOverlay, showOverlay} from './Highlighter';\n\nimport type {BackendBridge} from 'react-devtools-shared/src/bridge';\n\n// This plug-in provides in-page highlighting of the selected element.\n// It is used by the browser extension and the standalone DevTools shell (when connected to a browser).\n// It is not currently the mechanism used to highlight React Native views.\n// That is done by the React Native Inspector component.\n\nlet iframesListeningTo: Set<HTMLIFrameElement> = new Set();\n\nexport default function setupHighlighter(\n  bridge: BackendBridge,\n  agent: Agent,\n): void {\n  bridge.addListener(\n    'clearNativeElementHighlight',\n    clearNativeElementHighlight,\n  );\n  bridge.addListener('highlightNativeElement', highlightNativeElement);\n  bridge.addListener('shutdown', stopInspectingNative);\n  bridge.addListener('startInspectingNative', startInspectingNative);\n  bridge.addListener('stopInspectingNative', stopInspectingNative);\n\n  function startInspectingNative() {\n    registerListenersOnWindow(window);\n  }\n\n  function registerListenersOnWindow(window: any) {\n    // This plug-in may run in non-DOM environments (e.g. React Native).\n    if (window && typeof window.addEventListener === 'function') {\n      window.addEventListener('click', onClick, true);\n      window.addEventListener('mousedown', onMouseEvent, true);\n      window.addEventListener('mouseover', onMouseEvent, true);\n      window.addEventListener('mouseup', onMouseEvent, true);\n      window.addEventListener('pointerdown', onPointerDown, true);\n      window.addEventListener('pointermove', onPointerMove, true);\n      window.addEventListener('pointerup', onPointerUp, true);\n    } else {\n      agent.emit('startInspectingNative');\n    }\n  }\n\n  function stopInspectingNative() {\n    hideOverlay(agent);\n    removeListenersOnWindow(window);\n    iframesListeningTo.forEach(function (frame) {\n      try {\n        removeListenersOnWindow(frame.contentWindow);\n      } catch (error) {\n        // This can error when the iframe is on a cross-origin.\n      }\n    });\n    iframesListeningTo = new Set();\n  }\n\n  function removeListenersOnWindow(window: any) {\n    // This plug-in may run in non-DOM environments (e.g. React Native).\n    if (window && typeof window.removeEventListener === 'function') {\n      window.removeEventListener('click', onClick, true);\n      window.removeEventListener('mousedown', onMouseEvent, true);\n      window.removeEventListener('mouseover', onMouseEvent, true);\n      window.removeEventListener('mouseup', onMouseEvent, true);\n      window.removeEventListener('pointerdown', onPointerDown, true);\n      window.removeEventListener('pointermove', onPointerMove, true);\n      window.removeEventListener('pointerup', onPointerUp, true);\n    } else {\n      agent.emit('stopInspectingNative');\n    }\n  }\n\n  function clearNativeElementHighlight() {\n    hideOverlay(agent);\n  }\n\n  function highlightNativeElement({\n    displayName,\n    hideAfterTimeout,\n    id,\n    openNativeElementsPanel,\n    rendererID,\n    scrollIntoView,\n  }: {\n    displayName: string | null,\n    hideAfterTimeout: boolean,\n    id: number,\n    openNativeElementsPanel: boolean,\n    rendererID: number,\n    scrollIntoView: boolean,\n    ...\n  }) {\n    const renderer = agent.rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n\n      hideOverlay(agent);\n      return;\n    }\n\n    // In some cases fiber may already be unmounted\n    if (!renderer.hasFiberWithId(id)) {\n      hideOverlay(agent);\n      return;\n    }\n\n    const nodes: ?Array<HTMLElement> = (renderer.findNativeNodesForFiberID(\n      id,\n    ): any);\n\n    if (nodes != null && nodes[0] != null) {\n      const node = nodes[0];\n      // $FlowFixMe[method-unbinding]\n      if (scrollIntoView && typeof node.scrollIntoView === 'function') {\n        // If the node isn't visible show it before highlighting it.\n        // We may want to reconsider this; it might be a little disruptive.\n        node.scrollIntoView({block: 'nearest', inline: 'nearest'});\n      }\n\n      showOverlay(nodes, displayName, agent, hideAfterTimeout);\n\n      if (openNativeElementsPanel) {\n        window.__REACT_DEVTOOLS_GLOBAL_HOOK__.$0 = node;\n        bridge.send('syncSelectionToNativeElementsPanel');\n      }\n    } else {\n      hideOverlay(agent);\n    }\n  }\n\n  function onClick(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    stopInspectingNative();\n\n    bridge.send('stopInspectingNative', true);\n  }\n\n  function onMouseEvent(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  function onPointerDown(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    selectFiberForNode(getEventTarget(event));\n  }\n\n  let lastHoveredNode: HTMLElement | null = null;\n  function onPointerMove(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    const target: HTMLElement = getEventTarget(event);\n    if (lastHoveredNode === target) return;\n    lastHoveredNode = target;\n\n    if (target.tagName === 'IFRAME') {\n      const iframe: HTMLIFrameElement = (target: any);\n      try {\n        if (!iframesListeningTo.has(iframe)) {\n          const window = iframe.contentWindow;\n          registerListenersOnWindow(window);\n          iframesListeningTo.add(iframe);\n        }\n      } catch (error) {\n        // This can error when the iframe is on a cross-origin.\n      }\n    }\n\n    // Don't pass the name explicitly.\n    // It will be inferred from DOM tag and Fiber owner.\n    showOverlay([target], null, agent, false);\n\n    selectFiberForNode(target);\n  }\n\n  function onPointerUp(event: MouseEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  const selectFiberForNode = throttle(\n    memoize((node: HTMLElement) => {\n      const id = agent.getIDForNode(node);\n      if (id !== null) {\n        bridge.send('selectFiber', id);\n      }\n    }),\n    200,\n    // Don't change the selection in the very first 200ms\n    // because those are usually unintentional as you lift the cursor.\n    {leading: false},\n  );\n\n  function getEventTarget(event: MouseEvent): HTMLElement {\n    if (event.composed) {\n      return (event.composedPath()[0]: any);\n    }\n\n    return (event.target: any);\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Data} from './index';\nimport type {Rect} from '../utils';\nimport type {NativeType} from '../../types';\nimport type Agent from '../../agent';\n\nconst OUTLINE_COLOR = '#f0f0f0';\n\n// Note these colors are in sync with DevTools Profiler chart colors.\nconst COLORS = [\n  '#37afa9',\n  '#63b19e',\n  '#80b393',\n  '#97b488',\n  '#abb67d',\n  '#beb771',\n  '#cfb965',\n  '#dfba57',\n  '#efbb49',\n  '#febc38',\n];\n\nlet canvas: HTMLCanvasElement | null = null;\n\nexport function draw(nodeToData: Map<NativeType, Data>, agent: Agent): void {\n  if (window.document == null) {\n    const nodesToDraw = [];\n    iterateNodes(nodeToData, (_, color, node) => {\n      nodesToDraw.push({node, color});\n    });\n\n    agent.emit('drawTraceUpdates', nodesToDraw);\n    return;\n  }\n\n  if (canvas === null) {\n    initialize();\n  }\n\n  const canvasFlow: HTMLCanvasElement = ((canvas: any): HTMLCanvasElement);\n  canvasFlow.width = window.innerWidth;\n  canvasFlow.height = window.innerHeight;\n\n  const context = canvasFlow.getContext('2d');\n  context.clearRect(0, 0, canvasFlow.width, canvasFlow.height);\n  iterateNodes(nodeToData, (rect, color) => {\n    if (rect !== null) {\n      drawBorder(context, rect, color);\n    }\n  });\n}\n\nfunction iterateNodes(\n  nodeToData: Map<NativeType, Data>,\n  execute: (rect: Rect | null, color: string, node: NativeType) => void,\n) {\n  nodeToData.forEach(({count, rect}, node) => {\n    const colorIndex = Math.min(COLORS.length - 1, count - 1);\n    const color = COLORS[colorIndex];\n    execute(rect, color, node);\n  });\n}\n\nfunction drawBorder(\n  context: CanvasRenderingContext2D,\n  rect: Rect,\n  color: string,\n): void {\n  const {height, left, top, width} = rect;\n\n  // outline\n  context.lineWidth = 1;\n  context.strokeStyle = OUTLINE_COLOR;\n\n  context.strokeRect(left - 1, top - 1, width + 2, height + 2);\n\n  // inset\n  context.lineWidth = 1;\n  context.strokeStyle = OUTLINE_COLOR;\n  context.strokeRect(left + 1, top + 1, width - 1, height - 1);\n  context.strokeStyle = color;\n\n  context.setLineDash([0]);\n\n  // border\n  context.lineWidth = 1;\n  context.strokeRect(left, top, width - 1, height - 1);\n\n  context.setLineDash([0]);\n}\n\nexport function destroy(agent: Agent): void {\n  if (window.document == null) {\n    agent.emit('disableTraceUpdates');\n    return;\n  }\n\n  if (canvas !== null) {\n    if (canvas.parentNode != null) {\n      canvas.parentNode.removeChild(canvas);\n    }\n    canvas = null;\n  }\n}\n\nfunction initialize(): void {\n  canvas = window.document.createElement('canvas');\n  canvas.style.cssText = `\n    xx-background-color: red;\n    xx-opacity: 0.5;\n    bottom: 0;\n    left: 0;\n    pointer-events: none;\n    position: fixed;\n    right: 0;\n    top: 0;\n    z-index: 1000000000;\n  `;\n\n  const root = window.document.documentElement;\n  root.insertBefore(canvas, root.firstChild);\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport Agent from 'react-devtools-shared/src/backend/agent';\nimport {destroy as destroyCanvas, draw} from './canvas';\nimport {getNestedBoundingClientRect} from '../utils';\n\nimport type {NativeType} from '../../types';\nimport type {Rect} from '../utils';\n\n// How long the rect should be shown for?\nconst DISPLAY_DURATION = 250;\n\n// What's the longest we are willing to show the overlay for?\n// This can be important if we're getting a flurry of events (e.g. scroll update).\nconst MAX_DISPLAY_DURATION = 3000;\n\n// How long should a rect be considered valid for?\nconst REMEASUREMENT_AFTER_DURATION = 250;\n\n// Some environments (e.g. React Native / Hermes) don't support the performance API yet.\nconst getCurrentTime =\n  // $FlowFixMe[method-unbinding]\n  typeof performance === 'object' && typeof performance.now === 'function'\n    ? () => performance.now()\n    : () => Date.now();\n\nexport type Data = {\n  count: number,\n  expirationTime: number,\n  lastMeasuredAt: number,\n  rect: Rect | null,\n};\n\nconst nodeToData: Map<NativeType, Data> = new Map();\n\nlet agent: Agent = ((null: any): Agent);\nlet drawAnimationFrameID: AnimationFrameID | null = null;\nlet isEnabled: boolean = false;\nlet redrawTimeoutID: TimeoutID | null = null;\n\nexport function initialize(injectedAgent: Agent): void {\n  agent = injectedAgent;\n  agent.addListener('traceUpdates', traceUpdates);\n}\n\nexport function toggleEnabled(value: boolean): void {\n  isEnabled = value;\n\n  if (!isEnabled) {\n    nodeToData.clear();\n\n    if (drawAnimationFrameID !== null) {\n      cancelAnimationFrame(drawAnimationFrameID);\n      drawAnimationFrameID = null;\n    }\n\n    if (redrawTimeoutID !== null) {\n      clearTimeout(redrawTimeoutID);\n      redrawTimeoutID = null;\n    }\n\n    destroyCanvas(agent);\n  }\n}\n\nfunction traceUpdates(nodes: Set<NativeType>): void {\n  if (!isEnabled) {\n    return;\n  }\n\n  nodes.forEach(node => {\n    const data = nodeToData.get(node);\n    const now = getCurrentTime();\n\n    let lastMeasuredAt = data != null ? data.lastMeasuredAt : 0;\n    let rect = data != null ? data.rect : null;\n    if (rect === null || lastMeasuredAt + REMEASUREMENT_AFTER_DURATION < now) {\n      lastMeasuredAt = now;\n      rect = measureNode(node);\n    }\n\n    nodeToData.set(node, {\n      count: data != null ? data.count + 1 : 1,\n      expirationTime:\n        data != null\n          ? Math.min(\n              now + MAX_DISPLAY_DURATION,\n              data.expirationTime + DISPLAY_DURATION,\n            )\n          : now + DISPLAY_DURATION,\n      lastMeasuredAt,\n      rect,\n    });\n  });\n\n  if (redrawTimeoutID !== null) {\n    clearTimeout(redrawTimeoutID);\n    redrawTimeoutID = null;\n  }\n\n  if (drawAnimationFrameID === null) {\n    drawAnimationFrameID = requestAnimationFrame(prepareToDraw);\n  }\n}\n\nfunction prepareToDraw(): void {\n  drawAnimationFrameID = null;\n  redrawTimeoutID = null;\n\n  const now = getCurrentTime();\n  let earliestExpiration = Number.MAX_VALUE;\n\n  // Remove any items that have already expired.\n  nodeToData.forEach((data, node) => {\n    if (data.expirationTime < now) {\n      nodeToData.delete(node);\n    } else {\n      earliestExpiration = Math.min(earliestExpiration, data.expirationTime);\n    }\n  });\n\n  draw(nodeToData, agent);\n\n  if (earliestExpiration !== Number.MAX_VALUE) {\n    redrawTimeoutID = setTimeout(prepareToDraw, earliestExpiration - now);\n  }\n}\n\nfunction measureNode(node: Object): Rect | null {\n  if (!node || typeof node.getBoundingClientRect !== 'function') {\n    return null;\n  }\n\n  const currentWindow = window.__REACT_DEVTOOLS_TARGET_WINDOW__ || window;\n\n  return getNestedBoundingClientRect(node, currentWindow);\n}\n","/**\n * Compare [semver](https://semver.org/) version strings to find greater, equal or lesser.\n * This library supports the full semver specification, including comparing versions with different number of digits like `1.0.0`, `1.0`, `1`, and pre-release versions like `1.0.0-alpha`.\n * @param v1 - First version to compare\n * @param v2 - Second version to compare\n * @returns Numeric value compatible with the [Array.sort(fn) interface](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort#Parameters).\n */\nexport const compareVersions = (v1, v2) => {\n    // validate input and split into segments\n    const n1 = validateAndParse(v1);\n    const n2 = validateAndParse(v2);\n    // pop off the patch\n    const p1 = n1.pop();\n    const p2 = n2.pop();\n    // validate numbers\n    const r = compareSegments(n1, n2);\n    if (r !== 0)\n        return r;\n    // validate pre-release\n    if (p1 && p2) {\n        return compareSegments(p1.split('.'), p2.split('.'));\n    }\n    else if (p1 || p2) {\n        return p1 ? -1 : 1;\n    }\n    return 0;\n};\n/**\n * Validate [semver](https://semver.org/) version strings.\n *\n * @param version Version number to validate\n * @returns `true` if the version number is a valid semver version number, `false` otherwise.\n *\n * @example\n * ```\n * validate('1.0.0-rc.1'); // return true\n * validate('1.0-rc.1'); // return false\n * validate('foo'); // return false\n * ```\n */\nexport const validate = (version) => typeof version === 'string' && /^[v\\d]/.test(version) && semver.test(version);\n/**\n * Compare [semver](https://semver.org/) version strings using the specified operator.\n *\n * @param v1 First version to compare\n * @param v2 Second version to compare\n * @param operator Allowed arithmetic operator to use\n * @returns `true` if the comparison between the firstVersion and the secondVersion satisfies the operator, `false` otherwise.\n *\n * @example\n * ```\n * compare('10.1.8', '10.0.4', '>'); // return true\n * compare('10.0.1', '10.0.1', '='); // return true\n * compare('10.1.1', '10.2.2', '<'); // return true\n * compare('10.1.1', '10.2.2', '<='); // return true\n * compare('10.1.1', '10.2.2', '>='); // return false\n * ```\n */\nexport const compare = (v1, v2, operator) => {\n    // validate input operator\n    assertValidOperator(operator);\n    // since result of compareVersions can only be -1 or 0 or 1\n    // a simple map can be used to replace switch\n    const res = compareVersions(v1, v2);\n    return operatorResMap[operator].includes(res);\n};\n/**\n * Match [npm semver](https://docs.npmjs.com/cli/v6/using-npm/semver) version range.\n *\n * @param version Version number to match\n * @param range Range pattern for version\n * @returns `true` if the version number is within the range, `false` otherwise.\n *\n * @example\n * ```\n * satisfies('1.1.0', '^1.0.0'); // return true\n * satisfies('1.1.0', '~1.0.0'); // return false\n * ```\n */\nexport const satisfies = (version, range) => {\n    // if no range operator then \"=\"\n    const m = range.match(/^([<>=~^]+)/);\n    const op = m ? m[1] : '=';\n    // if gt/lt/eq then operator compare\n    if (op !== '^' && op !== '~')\n        return compare(version, range, op);\n    // else range of either \"~\" or \"^\" is assumed\n    const [v1, v2, v3, , vp] = validateAndParse(version);\n    const [r1, r2, r3, , rp] = validateAndParse(range);\n    const v = [v1, v2, v3];\n    const r = [r1, r2 !== null && r2 !== void 0 ? r2 : 'x', r3 !== null && r3 !== void 0 ? r3 : 'x'];\n    // validate pre-release\n    if (rp) {\n        if (!vp)\n            return false;\n        if (compareSegments(v, r) !== 0)\n            return false;\n        if (compareSegments(vp.split('.'), rp.split('.')) === -1)\n            return false;\n    }\n    // first non-zero number\n    const nonZero = r.findIndex((v) => v !== '0') + 1;\n    // pointer to where segments can be >=\n    const i = op === '~' ? 2 : nonZero > 1 ? nonZero : 1;\n    // before pointer must be equal\n    if (compareSegments(v.slice(0, i), r.slice(0, i)) !== 0)\n        return false;\n    // after pointer must be >=\n    if (compareSegments(v.slice(i), r.slice(i)) === -1)\n        return false;\n    return true;\n};\nconst semver = /^[v^~<>=]*?(\\d+)(?:\\.([x*]|\\d+)(?:\\.([x*]|\\d+)(?:\\.([x*]|\\d+))?(?:-([\\da-z\\-]+(?:\\.[\\da-z\\-]+)*))?(?:\\+[\\da-z\\-]+(?:\\.[\\da-z\\-]+)*)?)?)?$/i;\nconst validateAndParse = (version) => {\n    if (typeof version !== 'string') {\n        throw new TypeError('Invalid argument expected string');\n    }\n    const match = version.match(semver);\n    if (!match) {\n        throw new Error(`Invalid argument not valid semver ('${version}' received)`);\n    }\n    match.shift();\n    return match;\n};\nconst isWildcard = (s) => s === '*' || s === 'x' || s === 'X';\nconst tryParse = (v) => {\n    const n = parseInt(v, 10);\n    return isNaN(n) ? v : n;\n};\nconst forceType = (a, b) => typeof a !== typeof b ? [String(a), String(b)] : [a, b];\nconst compareStrings = (a, b) => {\n    if (isWildcard(a) || isWildcard(b))\n        return 0;\n    const [ap, bp] = forceType(tryParse(a), tryParse(b));\n    if (ap > bp)\n        return 1;\n    if (ap < bp)\n        return -1;\n    return 0;\n};\nconst compareSegments = (a, b) => {\n    for (let i = 0; i < Math.max(a.length, b.length); i++) {\n        const r = compareStrings(a[i] || '0', b[i] || '0');\n        if (r !== 0)\n            return r;\n    }\n    return 0;\n};\nconst operatorResMap = {\n    '>': [1],\n    '>=': [0, 1],\n    '=': [0],\n    '<=': [-1, 0],\n    '<': [-1],\n};\nconst allowedOperators = Object.keys(operatorResMap);\nconst assertValidOperator = (op) => {\n    if (typeof op !== 'string') {\n        throw new TypeError(`Invalid operator type, expected string but got ${typeof op}`);\n    }\n    if (allowedOperators.indexOf(op) === -1) {\n        throw new Error(`Invalid operator, expected one of ${allowedOperators.join('|')}`);\n    }\n};\n//# sourceMappingURL=index.js.map","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"react-is\");","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n\n// The Symbol used to tag the ReactElement-like types.\nexport const REACT_ELEMENT_TYPE: symbol = Symbol.for('react.element');\nexport const REACT_PORTAL_TYPE: symbol = Symbol.for('react.portal');\nexport const REACT_FRAGMENT_TYPE: symbol = Symbol.for('react.fragment');\nexport const REACT_STRICT_MODE_TYPE: symbol = Symbol.for('react.strict_mode');\nexport const REACT_PROFILER_TYPE: symbol = Symbol.for('react.profiler');\nexport const REACT_PROVIDER_TYPE: symbol = Symbol.for('react.provider');\nexport const REACT_CONTEXT_TYPE: symbol = Symbol.for('react.context');\nexport const REACT_SERVER_CONTEXT_TYPE: symbol = Symbol.for(\n  'react.server_context',\n);\nexport const REACT_FORWARD_REF_TYPE: symbol = Symbol.for('react.forward_ref');\nexport const REACT_SUSPENSE_TYPE: symbol = Symbol.for('react.suspense');\nexport const REACT_SUSPENSE_LIST_TYPE: symbol = Symbol.for(\n  'react.suspense_list',\n);\nexport const REACT_MEMO_TYPE: symbol = Symbol.for('react.memo');\nexport const REACT_LAZY_TYPE: symbol = Symbol.for('react.lazy');\nexport const REACT_SCOPE_TYPE: symbol = Symbol.for('react.scope');\nexport const REACT_DEBUG_TRACING_MODE_TYPE: symbol = Symbol.for(\n  'react.debug_trace_mode',\n);\nexport const REACT_OFFSCREEN_TYPE: symbol = Symbol.for('react.offscreen');\nexport const REACT_LEGACY_HIDDEN_TYPE: symbol = Symbol.for(\n  'react.legacy_hidden',\n);\nexport const REACT_CACHE_TYPE: symbol = Symbol.for('react.cache');\nexport const REACT_TRACING_MARKER_TYPE: symbol = Symbol.for(\n  'react.tracing_marker',\n);\nexport const REACT_SERVER_CONTEXT_DEFAULT_VALUE_NOT_LOADED: symbol = Symbol.for(\n  'react.default_value',\n);\n\nexport const REACT_MEMO_CACHE_SENTINEL: symbol = Symbol.for(\n  'react.memo_cache_sentinel',\n);\n\nexport const REACT_POSTPONE_TYPE: symbol = Symbol.for('react.postpone');\n\nconst MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nconst FAUX_ITERATOR_SYMBOL = '@@iterator';\n\nexport function getIteratorFn(maybeIterable: ?any): ?() => ?Iterator<any> {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n  const maybeIterator =\n    (MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL]) ||\n    maybeIterable[FAUX_ITERATOR_SYMBOL];\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n  return null;\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/**\n * WARNING:\n * This file contains types that are designed for React DevTools UI and how it interacts with the backend.\n * They might be used in different versions of DevTools backends.\n * Be mindful of backwards compatibility when making changes.\n */\n\nimport type {Source} from 'shared/ReactElementType';\nimport type {\n  Dehydrated,\n  Unserializable,\n} from 'react-devtools-shared/src/hydration';\n\nexport type BrowserTheme = 'dark' | 'light';\n\nexport type Wall = {\n  // `listen` returns the \"unlisten\" function.\n  listen: (fn: Function) => Function,\n  send: (event: string, payload: any, transferable?: Array<any>) => void,\n};\n\n// WARNING\n// The values below are referenced by ComponentFilters (which are saved via localStorage).\n// Do not change them or it will break previously saved user customizations.\n// If new element types are added, use new numbers rather than re-ordering existing ones.\n//\n// Changing these types is also a backwards breaking change for the standalone shell,\n// since the frontend and backend must share the same values-\n// and the backend is embedded in certain environments (like React Native).\nexport const ElementTypeClass = 1;\nexport const ElementTypeContext = 2;\nexport const ElementTypeFunction = 5;\nexport const ElementTypeForwardRef = 6;\nexport const ElementTypeHostComponent = 7;\nexport const ElementTypeMemo = 8;\nexport const ElementTypeOtherOrUnknown = 9;\nexport const ElementTypeProfiler = 10;\nexport const ElementTypeRoot = 11;\nexport const ElementTypeSuspense = 12;\nexport const ElementTypeSuspenseList = 13;\nexport const ElementTypeTracingMarker = 14;\n\n// Different types of elements displayed in the Elements tree.\n// These types may be used to visually distinguish types,\n// or to enable/disable certain functionality.\nexport type ElementType = 1 | 2 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14;\n\n// WARNING\n// The values below are referenced by ComponentFilters (which are saved via localStorage).\n// Do not change them or it will break previously saved user customizations.\n// If new filter types are added, use new numbers rather than re-ordering existing ones.\nexport const ComponentFilterElementType = 1;\nexport const ComponentFilterDisplayName = 2;\nexport const ComponentFilterLocation = 3;\nexport const ComponentFilterHOC = 4;\n\nexport type ComponentFilterType = 1 | 2 | 3 | 4;\n\n// Hide all elements of types in this Set.\n// We hide host components only by default.\nexport type ElementTypeComponentFilter = {\n  isEnabled: boolean,\n  type: 1,\n  value: ElementType,\n};\n\n// Hide all elements with displayNames or paths matching one or more of the RegExps in this Set.\n// Path filters are only used when elements include debug source location.\nexport type RegExpComponentFilter = {\n  isEnabled: boolean,\n  isValid: boolean,\n  type: 2 | 3,\n  value: string,\n};\n\nexport type BooleanComponentFilter = {\n  isEnabled: boolean,\n  isValid: boolean,\n  type: 4,\n};\n\nexport type ComponentFilter =\n  | BooleanComponentFilter\n  | ElementTypeComponentFilter\n  | RegExpComponentFilter;\n\nexport type HookName = string | null;\n// Map of hook source (\"<filename>:<line-number>:<column-number>\") to name.\n// Hook source is used instead of the hook itself because the latter is not stable between element inspections.\n// We use a Map rather than an Array because of nested hooks and traversal ordering.\nexport type HookSourceLocationKey = string;\nexport type HookNames = Map<HookSourceLocationKey, HookName>;\n\nexport type LRUCache<K, V> = {\n  del: (key: K) => void,\n  get: (key: K) => V,\n  has: (key: K) => boolean,\n  reset: () => void,\n  set: (key: K, value: V) => void,\n};\n\nexport type StyleXPlugin = {\n  sources: Array<string>,\n  resolvedStyles: Object,\n};\n\nexport type Plugins = {\n  stylex: StyleXPlugin | null,\n};\n\nexport const StrictMode = 1;\n\n// Each element on the frontend corresponds to a Fiber on the backend.\n// Some of its information (e.g. id, type, displayName) come from the backend.\n// Other bits (e.g. weight and depth) are computed on the frontend for windowing and display purposes.\n// Elements are updated on a push basis meaning the backend pushes updates to the frontend when needed.\nexport type Element = {\n  id: number,\n  parentID: number,\n  children: Array<number>,\n  type: ElementType,\n  displayName: string | null,\n  key: number | string | null,\n\n  hocDisplayNames: null | Array<string>,\n\n  // Should the elements children be visible in the tree?\n  isCollapsed: boolean,\n\n  // Owner (if available)\n  ownerID: number,\n\n  // How many levels deep within the tree is this element?\n  // This determines how much indentation (left padding) should be used in the Elements tree.\n  depth: number,\n\n  // How many nodes (including itself) are below this Element within the tree.\n  // This property is used to quickly determine the total number of Elements,\n  // and the Element at any given index (for windowing purposes).\n  weight: number,\n\n  // This element is not in a StrictMode compliant subtree.\n  // Only true for React versions supporting StrictMode.\n  isStrictModeNonCompliant: boolean,\n};\n\nexport type SerializedElement = {\n  displayName: string | null,\n  id: number,\n  key: number | string | null,\n  hocDisplayNames: Array<string> | null,\n  type: ElementType,\n};\n\nexport type OwnersList = {\n  id: number,\n  owners: Array<SerializedElement> | null,\n};\n\nexport type InspectedElementResponseType =\n  | 'error'\n  | 'full-data'\n  | 'hydrated-path'\n  | 'no-change'\n  | 'not-found';\n\nexport type InspectedElementPath = Array<string | number>;\n\nexport type InspectedElement = {\n  id: number,\n\n  // Does the current renderer support editable hooks and function props?\n  canEditHooks: boolean,\n  canEditFunctionProps: boolean,\n\n  // Does the current renderer support advanced editing interface?\n  canEditHooksAndDeletePaths: boolean,\n  canEditHooksAndRenamePaths: boolean,\n  canEditFunctionPropsDeletePaths: boolean,\n  canEditFunctionPropsRenamePaths: boolean,\n\n  // Is this Error, and can its value be overridden now?\n  isErrored: boolean,\n  canToggleError: boolean,\n  targetErrorBoundaryID: ?number,\n\n  // Is this Suspense, and can its value be overridden now?\n  canToggleSuspense: boolean,\n\n  // Can view component source location.\n  canViewSource: boolean,\n\n  // Does the component have legacy context attached to it.\n  hasLegacyContext: boolean,\n\n  // Inspectable properties.\n  context: Object | null,\n  hooks: Object | null,\n  props: Object | null,\n  state: Object | null,\n  key: number | string | null,\n  errors: Array<[string, number]>,\n  warnings: Array<[string, number]>,\n\n  // List of owners\n  owners: Array<SerializedElement> | null,\n\n  // Location of component in source code.\n  source: Source | null,\n\n  type: ElementType,\n\n  // Meta information about the root this element belongs to.\n  rootType: string | null,\n\n  // Meta information about the renderer that created this element.\n  rendererPackageName: string | null,\n  rendererVersion: string | null,\n\n  // UI plugins/visualizations for the inspected element.\n  plugins: Plugins,\n};\n\n// TODO: Add profiling type\n\ntype Data =\n  | string\n  | Dehydrated\n  | Unserializable\n  | Array<Dehydrated>\n  | Array<Unserializable>\n  | {[string]: Data};\n\nexport type DehydratedData = {\n  cleaned: Array<Array<string | number>>,\n  data: Data,\n  unserializable: Array<Array<string | number>>,\n};\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nconst isArray = Array.isArray;\n\nexport default isArray;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport LRU from 'lru-cache';\nimport {\n  isElement,\n  typeOf,\n  ContextConsumer,\n  ContextProvider,\n  ForwardRef,\n  Fragment,\n  Lazy,\n  Memo,\n  Portal,\n  Profiler,\n  StrictMode,\n  Suspense,\n} from 'react-is';\nimport {\n  REACT_SUSPENSE_LIST_TYPE as SuspenseList,\n  REACT_TRACING_MARKER_TYPE as TracingMarker,\n} from 'shared/ReactSymbols';\nimport {\n  TREE_OPERATION_ADD,\n  TREE_OPERATION_REMOVE,\n  TREE_OPERATION_REMOVE_ROOT,\n  TREE_OPERATION_REORDER_CHILDREN,\n  TREE_OPERATION_SET_SUBTREE_MODE,\n  TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS,\n  TREE_OPERATION_UPDATE_TREE_BASE_DURATION,\n  LOCAL_STORAGE_COMPONENT_FILTER_PREFERENCES_KEY,\n  LOCAL_STORAGE_OPEN_IN_EDITOR_URL,\n  LOCAL_STORAGE_SHOULD_BREAK_ON_CONSOLE_ERRORS,\n  LOCAL_STORAGE_SHOULD_APPEND_COMPONENT_STACK_KEY,\n  LOCAL_STORAGE_SHOW_INLINE_WARNINGS_AND_ERRORS_KEY,\n  LOCAL_STORAGE_HIDE_CONSOLE_LOGS_IN_STRICT_MODE,\n} from './constants';\nimport {\n  ComponentFilterElementType,\n  ElementTypeHostComponent,\n} from './frontend/types';\nimport {\n  ElementTypeRoot,\n  ElementTypeClass,\n  ElementTypeForwardRef,\n  ElementTypeFunction,\n  ElementTypeMemo,\n} from 'react-devtools-shared/src/frontend/types';\nimport {localStorageGetItem, localStorageSetItem} from './storage';\nimport {meta} from './hydration';\nimport isArray from './isArray';\n\nimport type {\n  ComponentFilter,\n  ElementType,\n  BrowserTheme,\n} from './frontend/types';\nimport type {LRUCache} from 'react-devtools-shared/src/frontend/types';\n\n// $FlowFixMe[method-unbinding]\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\nconst cachedDisplayNames: WeakMap<Function, string> = new WeakMap();\n\n// On large trees, encoding takes significant time.\n// Try to reuse the already encoded strings.\nconst encodedStringCache: LRUCache<string, Array<number>> = new LRU({\n  max: 1000,\n});\n\nexport function alphaSortKeys(\n  a: string | number | symbol,\n  b: string | number | symbol,\n): number {\n  if (a.toString() > b.toString()) {\n    return 1;\n  } else if (b.toString() > a.toString()) {\n    return -1;\n  } else {\n    return 0;\n  }\n}\n\nexport function getAllEnumerableKeys(\n  obj: Object,\n): Set<string | number | symbol> {\n  const keys = new Set<string | number | symbol>();\n  let current = obj;\n  while (current != null) {\n    const currentKeys = [\n      ...Object.keys(current),\n      ...Object.getOwnPropertySymbols(current),\n    ];\n    const descriptors = Object.getOwnPropertyDescriptors(current);\n    currentKeys.forEach(key => {\n      // $FlowFixMe[incompatible-type]: key can be a Symbol https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor\n      if (descriptors[key].enumerable) {\n        keys.add(key);\n      }\n    });\n    current = Object.getPrototypeOf(current);\n  }\n  return keys;\n}\n\n// Mirror https://github.com/facebook/react/blob/7c21bf72ace77094fd1910cc350a548287ef8350/packages/shared/getComponentName.js#L27-L37\nexport function getWrappedDisplayName(\n  outerType: mixed,\n  innerType: any,\n  wrapperName: string,\n  fallbackName?: string,\n): string {\n  const displayName = (outerType: any).displayName;\n  return (\n    displayName || `${wrapperName}(${getDisplayName(innerType, fallbackName)})`\n  );\n}\n\nexport function getDisplayName(\n  type: Function,\n  fallbackName: string = 'Anonymous',\n): string {\n  const nameFromCache = cachedDisplayNames.get(type);\n  if (nameFromCache != null) {\n    return nameFromCache;\n  }\n\n  let displayName = fallbackName;\n\n  // The displayName property is not guaranteed to be a string.\n  // It's only safe to use for our purposes if it's a string.\n  // github.com/facebook/react-devtools/issues/803\n  if (typeof type.displayName === 'string') {\n    displayName = type.displayName;\n  } else if (typeof type.name === 'string' && type.name !== '') {\n    displayName = type.name;\n  }\n\n  cachedDisplayNames.set(type, displayName);\n  return displayName;\n}\n\nlet uidCounter: number = 0;\n\nexport function getUID(): number {\n  return ++uidCounter;\n}\n\nexport function utfDecodeString(array: Array<number>): string {\n  // Avoid spreading the array (e.g. String.fromCodePoint(...array))\n  // Functions arguments are first placed on the stack before the function is called\n  // which throws a RangeError for large arrays.\n  // See github.com/facebook/react/issues/22293\n  let string = '';\n  for (let i = 0; i < array.length; i++) {\n    const char = array[i];\n    string += String.fromCodePoint(char);\n  }\n  return string;\n}\n\nfunction surrogatePairToCodePoint(\n  charCode1: number,\n  charCode2: number,\n): number {\n  return ((charCode1 & 0x3ff) << 10) + (charCode2 & 0x3ff) + 0x10000;\n}\n\n// Credit for this encoding approach goes to Tim Down:\n// https://stackoverflow.com/questions/4877326/how-can-i-tell-if-a-string-contains-multibyte-characters-in-javascript\nexport function utfEncodeString(string: string): Array<number> {\n  const cached = encodedStringCache.get(string);\n  if (cached !== undefined) {\n    return cached;\n  }\n\n  const encoded = [];\n  let i = 0;\n  let charCode;\n  while (i < string.length) {\n    charCode = string.charCodeAt(i);\n    // Handle multibyte unicode characters (like emoji).\n    if ((charCode & 0xf800) === 0xd800) {\n      encoded.push(surrogatePairToCodePoint(charCode, string.charCodeAt(++i)));\n    } else {\n      encoded.push(charCode);\n    }\n    ++i;\n  }\n\n  encodedStringCache.set(string, encoded);\n\n  return encoded;\n}\n\nexport function printOperationsArray(operations: Array<number>) {\n  // The first two values are always rendererID and rootID\n  const rendererID = operations[0];\n  const rootID = operations[1];\n\n  const logs = [`operations for renderer:${rendererID} and root:${rootID}`];\n\n  let i = 2;\n\n  // Reassemble the string table.\n  const stringTable: Array<null | string> = [\n    null, // ID = 0 corresponds to the null string.\n  ];\n  const stringTableSize = operations[i++];\n  const stringTableEnd = i + stringTableSize;\n  while (i < stringTableEnd) {\n    const nextLength = operations[i++];\n    const nextString = utfDecodeString(\n      (operations.slice(i, i + nextLength): any),\n    );\n    stringTable.push(nextString);\n    i += nextLength;\n  }\n\n  while (i < operations.length) {\n    const operation = operations[i];\n\n    switch (operation) {\n      case TREE_OPERATION_ADD: {\n        const id = ((operations[i + 1]: any): number);\n        const type = ((operations[i + 2]: any): ElementType);\n\n        i += 3;\n\n        if (type === ElementTypeRoot) {\n          logs.push(`Add new root node ${id}`);\n\n          i++; // isStrictModeCompliant\n          i++; // supportsProfiling\n          i++; // supportsStrictMode\n          i++; // hasOwnerMetadata\n        } else {\n          const parentID = ((operations[i]: any): number);\n          i++;\n\n          i++; // ownerID\n\n          const displayNameStringID = operations[i];\n          const displayName = stringTable[displayNameStringID];\n          i++;\n\n          i++; // key\n\n          logs.push(\n            `Add node ${id} (${displayName || 'null'}) as child of ${parentID}`,\n          );\n        }\n        break;\n      }\n      case TREE_OPERATION_REMOVE: {\n        const removeLength = ((operations[i + 1]: any): number);\n        i += 2;\n\n        for (let removeIndex = 0; removeIndex < removeLength; removeIndex++) {\n          const id = ((operations[i]: any): number);\n          i += 1;\n\n          logs.push(`Remove node ${id}`);\n        }\n        break;\n      }\n      case TREE_OPERATION_REMOVE_ROOT: {\n        i += 1;\n\n        logs.push(`Remove root ${rootID}`);\n        break;\n      }\n      case TREE_OPERATION_SET_SUBTREE_MODE: {\n        const id = operations[i + 1];\n        const mode = operations[i + 1];\n\n        i += 3;\n\n        logs.push(`Mode ${mode} set for subtree with root ${id}`);\n        break;\n      }\n      case TREE_OPERATION_REORDER_CHILDREN: {\n        const id = ((operations[i + 1]: any): number);\n        const numChildren = ((operations[i + 2]: any): number);\n        i += 3;\n        const children = operations.slice(i, i + numChildren);\n        i += numChildren;\n\n        logs.push(`Re-order node ${id} children ${children.join(',')}`);\n        break;\n      }\n      case TREE_OPERATION_UPDATE_TREE_BASE_DURATION:\n        // Base duration updates are only sent while profiling is in progress.\n        // We can ignore them at this point.\n        // The profiler UI uses them lazily in order to generate the tree.\n        i += 3;\n        break;\n      case TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS:\n        const id = operations[i + 1];\n        const numErrors = operations[i + 2];\n        const numWarnings = operations[i + 3];\n\n        i += 4;\n\n        logs.push(\n          `Node ${id} has ${numErrors} errors and ${numWarnings} warnings`,\n        );\n        break;\n      default:\n        throw Error(`Unsupported Bridge operation \"${operation}\"`);\n    }\n  }\n\n  console.log(logs.join('\\n  '));\n}\n\nexport function getDefaultComponentFilters(): Array<ComponentFilter> {\n  return [\n    {\n      type: ComponentFilterElementType,\n      value: ElementTypeHostComponent,\n      isEnabled: true,\n    },\n  ];\n}\n\nexport function getSavedComponentFilters(): Array<ComponentFilter> {\n  try {\n    const raw = localStorageGetItem(\n      LOCAL_STORAGE_COMPONENT_FILTER_PREFERENCES_KEY,\n    );\n    if (raw != null) {\n      return JSON.parse(raw);\n    }\n  } catch (error) {}\n  return getDefaultComponentFilters();\n}\n\nexport function setSavedComponentFilters(\n  componentFilters: Array<ComponentFilter>,\n): void {\n  localStorageSetItem(\n    LOCAL_STORAGE_COMPONENT_FILTER_PREFERENCES_KEY,\n    JSON.stringify(componentFilters),\n  );\n}\n\nfunction parseBool(s: ?string): ?boolean {\n  if (s === 'true') {\n    return true;\n  }\n  if (s === 'false') {\n    return false;\n  }\n}\n\nexport function castBool(v: any): ?boolean {\n  if (v === true || v === false) {\n    return v;\n  }\n}\n\nexport function castBrowserTheme(v: any): ?BrowserTheme {\n  if (v === 'light' || v === 'dark' || v === 'auto') {\n    return v;\n  }\n}\n\nexport function getAppendComponentStack(): boolean {\n  const raw = localStorageGetItem(\n    LOCAL_STORAGE_SHOULD_APPEND_COMPONENT_STACK_KEY,\n  );\n  return parseBool(raw) ?? true;\n}\n\nexport function getBreakOnConsoleErrors(): boolean {\n  const raw = localStorageGetItem(LOCAL_STORAGE_SHOULD_BREAK_ON_CONSOLE_ERRORS);\n  return parseBool(raw) ?? false;\n}\n\nexport function getHideConsoleLogsInStrictMode(): boolean {\n  const raw = localStorageGetItem(\n    LOCAL_STORAGE_HIDE_CONSOLE_LOGS_IN_STRICT_MODE,\n  );\n  return parseBool(raw) ?? false;\n}\n\nexport function getShowInlineWarningsAndErrors(): boolean {\n  const raw = localStorageGetItem(\n    LOCAL_STORAGE_SHOW_INLINE_WARNINGS_AND_ERRORS_KEY,\n  );\n  return parseBool(raw) ?? true;\n}\n\nexport function getDefaultOpenInEditorURL(): string {\n  return typeof process.env.EDITOR_URL === 'string'\n    ? process.env.EDITOR_URL\n    : '';\n}\n\nexport function getOpenInEditorURL(): string {\n  try {\n    const raw = localStorageGetItem(LOCAL_STORAGE_OPEN_IN_EDITOR_URL);\n    if (raw != null) {\n      return JSON.parse(raw);\n    }\n  } catch (error) {}\n  return getDefaultOpenInEditorURL();\n}\n\nexport function separateDisplayNameAndHOCs(\n  displayName: string | null,\n  type: ElementType,\n): [string | null, Array<string> | null] {\n  if (displayName === null) {\n    return [null, null];\n  }\n\n  let hocDisplayNames = null;\n\n  switch (type) {\n    case ElementTypeClass:\n    case ElementTypeForwardRef:\n    case ElementTypeFunction:\n    case ElementTypeMemo:\n      if (displayName.indexOf('(') >= 0) {\n        const matches = displayName.match(/[^()]+/g);\n        if (matches != null) {\n          displayName = matches.pop();\n          hocDisplayNames = matches;\n        }\n      }\n      break;\n    default:\n      break;\n  }\n\n  return [displayName, hocDisplayNames];\n}\n\n// Pulled from react-compat\n// https://github.com/developit/preact-compat/blob/7c5de00e7c85e2ffd011bf3af02899b63f699d3a/src/index.js#L349\nexport function shallowDiffers(prev: Object, next: Object): boolean {\n  for (const attribute in prev) {\n    if (!(attribute in next)) {\n      return true;\n    }\n  }\n  for (const attribute in next) {\n    if (prev[attribute] !== next[attribute]) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport function getInObject(object: Object, path: Array<string | number>): any {\n  return path.reduce((reduced: Object, attr: any): any => {\n    if (reduced) {\n      if (hasOwnProperty.call(reduced, attr)) {\n        return reduced[attr];\n      }\n      if (typeof reduced[Symbol.iterator] === 'function') {\n        // Convert iterable to array and return array[index]\n        //\n        // TRICKY\n        // Don't use [...spread] syntax for this purpose.\n        // This project uses @babel/plugin-transform-spread in \"loose\" mode which only works with Array values.\n        // Other types (e.g. typed arrays, Sets) will not spread correctly.\n        return Array.from(reduced)[attr];\n      }\n    }\n\n    return null;\n  }, object);\n}\n\nexport function deletePathInObject(\n  object: Object,\n  path: Array<string | number>,\n) {\n  const length = path.length;\n  const last = path[length - 1];\n  if (object != null) {\n    const parent = getInObject(object, path.slice(0, length - 1));\n    if (parent) {\n      if (isArray(parent)) {\n        parent.splice(((last: any): number), 1);\n      } else {\n        delete parent[last];\n      }\n    }\n  }\n}\n\nexport function renamePathInObject(\n  object: Object,\n  oldPath: Array<string | number>,\n  newPath: Array<string | number>,\n) {\n  const length = oldPath.length;\n  if (object != null) {\n    const parent = getInObject(object, oldPath.slice(0, length - 1));\n    if (parent) {\n      const lastOld = oldPath[length - 1];\n      const lastNew = newPath[length - 1];\n      parent[lastNew] = parent[lastOld];\n      if (isArray(parent)) {\n        parent.splice(((lastOld: any): number), 1);\n      } else {\n        delete parent[lastOld];\n      }\n    }\n  }\n}\n\nexport function setInObject(\n  object: Object,\n  path: Array<string | number>,\n  value: any,\n) {\n  const length = path.length;\n  const last = path[length - 1];\n  if (object != null) {\n    const parent = getInObject(object, path.slice(0, length - 1));\n    if (parent) {\n      parent[last] = value;\n    }\n  }\n}\n\nexport type DataType =\n  | 'array'\n  | 'array_buffer'\n  | 'bigint'\n  | 'boolean'\n  | 'class_instance'\n  | 'data_view'\n  | 'date'\n  | 'function'\n  | 'html_all_collection'\n  | 'html_element'\n  | 'infinity'\n  | 'iterator'\n  | 'opaque_iterator'\n  | 'nan'\n  | 'null'\n  | 'number'\n  | 'object'\n  | 'react_element'\n  | 'regexp'\n  | 'string'\n  | 'symbol'\n  | 'typed_array'\n  | 'undefined'\n  | 'unknown';\n\n/**\n * Get a enhanced/artificial type string based on the object instance\n */\nexport function getDataType(data: Object): DataType {\n  if (data === null) {\n    return 'null';\n  } else if (data === undefined) {\n    return 'undefined';\n  }\n\n  if (isElement(data)) {\n    return 'react_element';\n  }\n\n  if (typeof HTMLElement !== 'undefined' && data instanceof HTMLElement) {\n    return 'html_element';\n  }\n\n  const type = typeof data;\n  switch (type) {\n    case 'bigint':\n      return 'bigint';\n    case 'boolean':\n      return 'boolean';\n    case 'function':\n      return 'function';\n    case 'number':\n      if (Number.isNaN(data)) {\n        return 'nan';\n      } else if (!Number.isFinite(data)) {\n        return 'infinity';\n      } else {\n        return 'number';\n      }\n    case 'object':\n      if (isArray(data)) {\n        return 'array';\n      } else if (ArrayBuffer.isView(data)) {\n        return hasOwnProperty.call(data.constructor, 'BYTES_PER_ELEMENT')\n          ? 'typed_array'\n          : 'data_view';\n      } else if (data.constructor && data.constructor.name === 'ArrayBuffer') {\n        // HACK This ArrayBuffer check is gross; is there a better way?\n        // We could try to create a new DataView with the value.\n        // If it doesn't error, we know it's an ArrayBuffer,\n        // but this seems kind of awkward and expensive.\n        return 'array_buffer';\n      } else if (typeof data[Symbol.iterator] === 'function') {\n        const iterator = data[Symbol.iterator]();\n        if (!iterator) {\n          // Proxies might break assumptoins about iterators.\n          // See github.com/facebook/react/issues/21654\n        } else {\n          return iterator === data ? 'opaque_iterator' : 'iterator';\n        }\n      } else if (data.constructor && data.constructor.name === 'RegExp') {\n        return 'regexp';\n      } else {\n        // $FlowFixMe[method-unbinding]\n        const toStringValue = Object.prototype.toString.call(data);\n        if (toStringValue === '[object Date]') {\n          return 'date';\n        } else if (toStringValue === '[object HTMLAllCollection]') {\n          return 'html_all_collection';\n        }\n      }\n\n      if (!isPlainObject(data)) {\n        return 'class_instance';\n      }\n\n      return 'object';\n    case 'string':\n      return 'string';\n    case 'symbol':\n      return 'symbol';\n    case 'undefined':\n      if (\n        // $FlowFixMe[method-unbinding]\n        Object.prototype.toString.call(data) === '[object HTMLAllCollection]'\n      ) {\n        return 'html_all_collection';\n      }\n      return 'undefined';\n    default:\n      return 'unknown';\n  }\n}\n\nexport function getDisplayNameForReactElement(\n  element: React$Element<any>,\n): string | null {\n  const elementType = typeOf(element);\n  switch (elementType) {\n    case ContextConsumer:\n      return 'ContextConsumer';\n    case ContextProvider:\n      return 'ContextProvider';\n    case ForwardRef:\n      return 'ForwardRef';\n    case Fragment:\n      return 'Fragment';\n    case Lazy:\n      return 'Lazy';\n    case Memo:\n      return 'Memo';\n    case Portal:\n      return 'Portal';\n    case Profiler:\n      return 'Profiler';\n    case StrictMode:\n      return 'StrictMode';\n    case Suspense:\n      return 'Suspense';\n    case SuspenseList:\n      return 'SuspenseList';\n    case TracingMarker:\n      return 'TracingMarker';\n    default:\n      const {type} = element;\n      if (typeof type === 'string') {\n        return type;\n      } else if (typeof type === 'function') {\n        return getDisplayName(type, 'Anonymous');\n      } else if (type != null) {\n        return 'NotImplementedInDevtools';\n      } else {\n        return 'Element';\n      }\n  }\n}\n\nconst MAX_PREVIEW_STRING_LENGTH = 50;\n\nfunction truncateForDisplay(\n  string: string,\n  length: number = MAX_PREVIEW_STRING_LENGTH,\n) {\n  if (string.length > length) {\n    return string.slice(0, length) + '';\n  } else {\n    return string;\n  }\n}\n\n// Attempts to mimic Chrome's inline preview for values.\n// For example, the following value...\n//   {\n//      foo: 123,\n//      bar: \"abc\",\n//      baz: [true, false],\n//      qux: { ab: 1, cd: 2 }\n//   };\n//\n// Would show a preview of...\n//   {foo: 123, bar: \"abc\", baz: Array(2), qux: {}}\n//\n// And the following value...\n//   [\n//     123,\n//     \"abc\",\n//     [true, false],\n//     { foo: 123, bar: \"abc\" }\n//   ];\n//\n// Would show a preview of...\n//   [123, \"abc\", Array(2), {}]\nexport function formatDataForPreview(\n  data: any,\n  showFormattedValue: boolean,\n): string {\n  if (data != null && hasOwnProperty.call(data, meta.type)) {\n    return showFormattedValue\n      ? data[meta.preview_long]\n      : data[meta.preview_short];\n  }\n\n  const type = getDataType(data);\n\n  switch (type) {\n    case 'html_element':\n      return `<${truncateForDisplay(data.tagName.toLowerCase())} />`;\n    case 'function':\n      return truncateForDisplay(\n        ` ${typeof data.name === 'function' ? '' : data.name}() {}`,\n      );\n    case 'string':\n      return `\"${data}\"`;\n    case 'bigint':\n      return truncateForDisplay(data.toString() + 'n');\n    case 'regexp':\n      return truncateForDisplay(data.toString());\n    case 'symbol':\n      return truncateForDisplay(data.toString());\n    case 'react_element':\n      return `<${truncateForDisplay(\n        getDisplayNameForReactElement(data) || 'Unknown',\n      )} />`;\n    case 'array_buffer':\n      return `ArrayBuffer(${data.byteLength})`;\n    case 'data_view':\n      return `DataView(${data.buffer.byteLength})`;\n    case 'array':\n      if (showFormattedValue) {\n        let formatted = '';\n        for (let i = 0; i < data.length; i++) {\n          if (i > 0) {\n            formatted += ', ';\n          }\n          formatted += formatDataForPreview(data[i], false);\n          if (formatted.length > MAX_PREVIEW_STRING_LENGTH) {\n            // Prevent doing a lot of unnecessary iteration...\n            break;\n          }\n        }\n        return `[${truncateForDisplay(formatted)}]`;\n      } else {\n        const length = hasOwnProperty.call(data, meta.size)\n          ? data[meta.size]\n          : data.length;\n        return `Array(${length})`;\n      }\n    case 'typed_array':\n      const shortName = `${data.constructor.name}(${data.length})`;\n      if (showFormattedValue) {\n        let formatted = '';\n        for (let i = 0; i < data.length; i++) {\n          if (i > 0) {\n            formatted += ', ';\n          }\n          formatted += data[i];\n          if (formatted.length > MAX_PREVIEW_STRING_LENGTH) {\n            // Prevent doing a lot of unnecessary iteration...\n            break;\n          }\n        }\n        return `${shortName} [${truncateForDisplay(formatted)}]`;\n      } else {\n        return shortName;\n      }\n    case 'iterator':\n      const name = data.constructor.name;\n\n      if (showFormattedValue) {\n        // TRICKY\n        // Don't use [...spread] syntax for this purpose.\n        // This project uses @babel/plugin-transform-spread in \"loose\" mode which only works with Array values.\n        // Other types (e.g. typed arrays, Sets) will not spread correctly.\n        const array = Array.from(data);\n\n        let formatted = '';\n        for (let i = 0; i < array.length; i++) {\n          const entryOrEntries = array[i];\n\n          if (i > 0) {\n            formatted += ', ';\n          }\n\n          // TRICKY\n          // Browsers display Maps and Sets differently.\n          // To mimic their behavior, detect if we've been given an entries tuple.\n          //   Map(2) {\"abc\" => 123, \"def\" => 123}\n          //   Set(2) {\"abc\", 123}\n          if (isArray(entryOrEntries)) {\n            const key = formatDataForPreview(entryOrEntries[0], true);\n            const value = formatDataForPreview(entryOrEntries[1], false);\n            formatted += `${key} => ${value}`;\n          } else {\n            formatted += formatDataForPreview(entryOrEntries, false);\n          }\n\n          if (formatted.length > MAX_PREVIEW_STRING_LENGTH) {\n            // Prevent doing a lot of unnecessary iteration...\n            break;\n          }\n        }\n\n        return `${name}(${data.size}) {${truncateForDisplay(formatted)}}`;\n      } else {\n        return `${name}(${data.size})`;\n      }\n    case 'opaque_iterator': {\n      return data[Symbol.toStringTag];\n    }\n    case 'date':\n      return data.toString();\n    case 'class_instance':\n      return data.constructor.name;\n    case 'object':\n      if (showFormattedValue) {\n        const keys = Array.from(getAllEnumerableKeys(data)).sort(alphaSortKeys);\n\n        let formatted = '';\n        for (let i = 0; i < keys.length; i++) {\n          const key = keys[i];\n          if (i > 0) {\n            formatted += ', ';\n          }\n          formatted += `${key.toString()}: ${formatDataForPreview(\n            data[key],\n            false,\n          )}`;\n          if (formatted.length > MAX_PREVIEW_STRING_LENGTH) {\n            // Prevent doing a lot of unnecessary iteration...\n            break;\n          }\n        }\n        return `{${truncateForDisplay(formatted)}}`;\n      } else {\n        return '{}';\n      }\n    case 'boolean':\n    case 'number':\n    case 'infinity':\n    case 'nan':\n    case 'null':\n    case 'undefined':\n      return data;\n    default:\n      try {\n        return truncateForDisplay(String(data));\n      } catch (error) {\n        return 'unserializable';\n      }\n  }\n}\n\n// Basically checking that the object only has Object in its prototype chain\nexport const isPlainObject = (object: Object): boolean => {\n  const objectPrototype = Object.getPrototypeOf(object);\n  if (!objectPrototype) return true;\n\n  const objectParentPrototype = Object.getPrototypeOf(objectPrototype);\n  return !objectParentPrototype;\n};\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {\n  getDataType,\n  getDisplayNameForReactElement,\n  getAllEnumerableKeys,\n  getInObject,\n  formatDataForPreview,\n  setInObject,\n} from 'react-devtools-shared/src/utils';\n\nimport type {\n  DehydratedData,\n  InspectedElementPath,\n} from 'react-devtools-shared/src/frontend/types';\n\nexport const meta = {\n  inspectable: (Symbol('inspectable'): symbol),\n  inspected: (Symbol('inspected'): symbol),\n  name: (Symbol('name'): symbol),\n  preview_long: (Symbol('preview_long'): symbol),\n  preview_short: (Symbol('preview_short'): symbol),\n  readonly: (Symbol('readonly'): symbol),\n  size: (Symbol('size'): symbol),\n  type: (Symbol('type'): symbol),\n  unserializable: (Symbol('unserializable'): symbol),\n};\n\nexport type Dehydrated = {\n  inspectable: boolean,\n  name: string | null,\n  preview_long: string | null,\n  preview_short: string | null,\n  readonly?: boolean,\n  size?: number,\n  type: string,\n};\n\n// Typed arrays and other complex iteratable objects (e.g. Map, Set, ImmutableJS) need special handling.\n// These objects can't be serialized without losing type information,\n// so a \"Unserializable\" type wrapper is used (with meta-data keys) to send nested values-\n// while preserving the original type and name.\nexport type Unserializable = {\n  name: string | null,\n  preview_long: string | null,\n  preview_short: string | null,\n  readonly?: boolean,\n  size?: number,\n  type: string,\n  unserializable: boolean,\n  [string | number]: any,\n};\n\n// This threshold determines the depth at which the bridge \"dehydrates\" nested data.\n// Dehydration means that we don't serialize the data for e.g. postMessage or stringify,\n// unless the frontend explicitly requests it (e.g. a user clicks to expand a props object).\n//\n// Reducing this threshold will improve the speed of initial component inspection,\n// but may decrease the responsiveness of expanding objects/arrays to inspect further.\nconst LEVEL_THRESHOLD = 2;\n\n/**\n * Generate the dehydrated metadata for complex object instances\n */\nfunction createDehydrated(\n  type: string,\n  inspectable: boolean,\n  data: Object,\n  cleaned: Array<Array<string | number>>,\n  path: Array<string | number>,\n): Dehydrated {\n  cleaned.push(path);\n\n  const dehydrated: Dehydrated = {\n    inspectable,\n    type,\n    preview_long: formatDataForPreview(data, true),\n    preview_short: formatDataForPreview(data, false),\n    name:\n      !data.constructor || data.constructor.name === 'Object'\n        ? ''\n        : data.constructor.name,\n  };\n\n  if (type === 'array' || type === 'typed_array') {\n    dehydrated.size = data.length;\n  } else if (type === 'object') {\n    dehydrated.size = Object.keys(data).length;\n  }\n\n  if (type === 'iterator' || type === 'typed_array') {\n    dehydrated.readonly = true;\n  }\n\n  return dehydrated;\n}\n\n/**\n * Strip out complex data (instances, functions, and data nested > LEVEL_THRESHOLD levels deep).\n * The paths of the stripped out objects are appended to the `cleaned` list.\n * On the other side of the barrier, the cleaned list is used to \"re-hydrate\" the cleaned representation into\n * an object with symbols as attributes, so that a sanitized object can be distinguished from a normal object.\n *\n * Input: {\"some\": {\"attr\": fn()}, \"other\": AnInstance}\n * Output: {\n *   \"some\": {\n *     \"attr\": {\"name\": the fn.name, type: \"function\"}\n *   },\n *   \"other\": {\n *     \"name\": \"AnInstance\",\n *     \"type\": \"object\",\n *   },\n * }\n * and cleaned = [[\"some\", \"attr\"], [\"other\"]]\n */\nexport function dehydrate(\n  data: Object,\n  cleaned: Array<Array<string | number>>,\n  unserializable: Array<Array<string | number>>,\n  path: Array<string | number>,\n  isPathAllowed: (path: Array<string | number>) => boolean,\n  level: number = 0,\n): $PropertyType<DehydratedData, 'data'> {\n  const type = getDataType(data);\n\n  let isPathAllowedCheck;\n\n  switch (type) {\n    case 'html_element':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.tagName,\n        type,\n      };\n\n    case 'function':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name:\n          typeof data.name === 'function' || !data.name\n            ? 'function'\n            : data.name,\n        type,\n      };\n\n    case 'string':\n      isPathAllowedCheck = isPathAllowed(path);\n      if (isPathAllowedCheck) {\n        return data;\n      } else {\n        return data.length <= 500 ? data : data.slice(0, 500) + '...';\n      }\n\n    case 'bigint':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.toString(),\n        type,\n      };\n\n    case 'symbol':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.toString(),\n        type,\n      };\n\n    // React Elements aren't very inspector-friendly,\n    // and often contain private fields or circular references.\n    case 'react_element':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: getDisplayNameForReactElement(data) || 'Unknown',\n        type,\n      };\n\n    // ArrayBuffers error if you try to inspect them.\n    case 'array_buffer':\n    case 'data_view':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: type === 'data_view' ? 'DataView' : 'ArrayBuffer',\n        size: data.byteLength,\n        type,\n      };\n\n    case 'array':\n      isPathAllowedCheck = isPathAllowed(path);\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        return createDehydrated(type, true, data, cleaned, path);\n      }\n      return data.map((item, i) =>\n        dehydrate(\n          item,\n          cleaned,\n          unserializable,\n          path.concat([i]),\n          isPathAllowed,\n          isPathAllowedCheck ? 1 : level + 1,\n        ),\n      );\n\n    case 'html_all_collection':\n    case 'typed_array':\n    case 'iterator':\n      isPathAllowedCheck = isPathAllowed(path);\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        return createDehydrated(type, true, data, cleaned, path);\n      } else {\n        const unserializableValue: Unserializable = {\n          unserializable: true,\n          type: type,\n          readonly: true,\n          size: type === 'typed_array' ? data.length : undefined,\n          preview_short: formatDataForPreview(data, false),\n          preview_long: formatDataForPreview(data, true),\n          name:\n            !data.constructor || data.constructor.name === 'Object'\n              ? ''\n              : data.constructor.name,\n        };\n\n        // TRICKY\n        // Don't use [...spread] syntax for this purpose.\n        // This project uses @babel/plugin-transform-spread in \"loose\" mode which only works with Array values.\n        // Other types (e.g. typed arrays, Sets) will not spread correctly.\n        Array.from(data).forEach(\n          (item, i) =>\n            (unserializableValue[i] = dehydrate(\n              item,\n              cleaned,\n              unserializable,\n              path.concat([i]),\n              isPathAllowed,\n              isPathAllowedCheck ? 1 : level + 1,\n            )),\n        );\n\n        unserializable.push(path);\n\n        return unserializableValue;\n      }\n\n    case 'opaque_iterator':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data[Symbol.toStringTag],\n        type,\n      };\n\n    case 'date':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.toString(),\n        type,\n      };\n\n    case 'regexp':\n      cleaned.push(path);\n      return {\n        inspectable: false,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.toString(),\n        type,\n      };\n\n    case 'object':\n      isPathAllowedCheck = isPathAllowed(path);\n\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        return createDehydrated(type, true, data, cleaned, path);\n      } else {\n        const object: {\n          [string]: $PropertyType<DehydratedData, 'data'>,\n        } = {};\n        getAllEnumerableKeys(data).forEach(key => {\n          const name = key.toString();\n          object[name] = dehydrate(\n            data[key],\n            cleaned,\n            unserializable,\n            path.concat([name]),\n            isPathAllowed,\n            isPathAllowedCheck ? 1 : level + 1,\n          );\n        });\n        return object;\n      }\n\n    case 'class_instance':\n      isPathAllowedCheck = isPathAllowed(path);\n\n      if (level >= LEVEL_THRESHOLD && !isPathAllowedCheck) {\n        return createDehydrated(type, true, data, cleaned, path);\n      }\n\n      const value: Unserializable = {\n        unserializable: true,\n        type,\n        readonly: true,\n        preview_short: formatDataForPreview(data, false),\n        preview_long: formatDataForPreview(data, true),\n        name: data.constructor.name,\n      };\n\n      getAllEnumerableKeys(data).forEach(key => {\n        const keyAsString = key.toString();\n\n        value[keyAsString] = dehydrate(\n          data[key],\n          cleaned,\n          unserializable,\n          path.concat([keyAsString]),\n          isPathAllowed,\n          isPathAllowedCheck ? 1 : level + 1,\n        );\n      });\n\n      unserializable.push(path);\n\n      return value;\n\n    case 'infinity':\n    case 'nan':\n    case 'undefined':\n      // Some values are lossy when sent through a WebSocket.\n      // We dehydrate+rehydrate them to preserve their type.\n      cleaned.push(path);\n      return {type};\n\n    default:\n      return data;\n  }\n}\n\nexport function fillInPath(\n  object: Object,\n  data: DehydratedData,\n  path: InspectedElementPath,\n  value: any,\n) {\n  const target = getInObject(object, path);\n  if (target != null) {\n    if (!target[meta.unserializable]) {\n      delete target[meta.inspectable];\n      delete target[meta.inspected];\n      delete target[meta.name];\n      delete target[meta.preview_long];\n      delete target[meta.preview_short];\n      delete target[meta.readonly];\n      delete target[meta.size];\n      delete target[meta.type];\n    }\n  }\n\n  if (value !== null && data.unserializable.length > 0) {\n    const unserializablePath = data.unserializable[0];\n    let isMatch = unserializablePath.length === path.length;\n    for (let i = 0; i < path.length; i++) {\n      if (path[i] !== unserializablePath[i]) {\n        isMatch = false;\n        break;\n      }\n    }\n    if (isMatch) {\n      upgradeUnserializable(value, value);\n    }\n  }\n\n  setInObject(object, path, value);\n}\n\nexport function hydrate(\n  object: any,\n  cleaned: Array<Array<string | number>>,\n  unserializable: Array<Array<string | number>>,\n): Object {\n  cleaned.forEach((path: Array<string | number>) => {\n    const length = path.length;\n    const last = path[length - 1];\n    const parent = getInObject(object, path.slice(0, length - 1));\n    if (!parent || !parent.hasOwnProperty(last)) {\n      return;\n    }\n\n    const value = parent[last];\n\n    if (!value) {\n      return;\n    } else if (value.type === 'infinity') {\n      parent[last] = Infinity;\n    } else if (value.type === 'nan') {\n      parent[last] = NaN;\n    } else if (value.type === 'undefined') {\n      parent[last] = undefined;\n    } else {\n      // Replace the string keys with Symbols so they're non-enumerable.\n      const replaced: {[key: symbol]: boolean | string, ...} = {};\n      replaced[meta.inspectable] = !!value.inspectable;\n      replaced[meta.inspected] = false;\n      replaced[meta.name] = value.name;\n      replaced[meta.preview_long] = value.preview_long;\n      replaced[meta.preview_short] = value.preview_short;\n      replaced[meta.size] = value.size;\n      replaced[meta.readonly] = !!value.readonly;\n      replaced[meta.type] = value.type;\n\n      parent[last] = replaced;\n    }\n  });\n  unserializable.forEach((path: Array<string | number>) => {\n    const length = path.length;\n    const last = path[length - 1];\n    const parent = getInObject(object, path.slice(0, length - 1));\n    if (!parent || !parent.hasOwnProperty(last)) {\n      return;\n    }\n\n    const node = parent[last];\n\n    const replacement = {\n      ...node,\n    };\n\n    upgradeUnserializable(replacement, node);\n\n    parent[last] = replacement;\n  });\n  return object;\n}\n\nfunction upgradeUnserializable(destination: Object, source: Object) {\n  Object.defineProperties(destination, {\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.inspected]: {\n      configurable: true,\n      enumerable: false,\n      value: !!source.inspected,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.name]: {\n      configurable: true,\n      enumerable: false,\n      value: source.name,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.preview_long]: {\n      configurable: true,\n      enumerable: false,\n      value: source.preview_long,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.preview_short]: {\n      configurable: true,\n      enumerable: false,\n      value: source.preview_short,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.size]: {\n      configurable: true,\n      enumerable: false,\n      value: source.size,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.readonly]: {\n      configurable: true,\n      enumerable: false,\n      value: !!source.readonly,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.type]: {\n      configurable: true,\n      enumerable: false,\n      value: source.type,\n    },\n    // $FlowFixMe[invalid-computed-prop]\n    [meta.unserializable]: {\n      configurable: true,\n      enumerable: false,\n      value: !!source.unserializable,\n    },\n  });\n\n  delete destination.inspected;\n  delete destination.name;\n  delete destination.preview_long;\n  delete destination.preview_short;\n  delete destination.size;\n  delete destination.readonly;\n  delete destination.type;\n  delete destination.unserializable;\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\ndeclare function isArray(a: mixed): boolean %checks(Array.isArray(a));\n\nconst isArrayImpl = Array.isArray;\n\n// eslint-disable-next-line no-redeclare\nfunction isArray(a: mixed): boolean {\n  return isArrayImpl(a);\n}\n\nexport default isArray;\n","/**\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {compareVersions} from 'compare-versions';\nimport {dehydrate} from '../hydration';\nimport isArray from 'shared/isArray';\n\nimport type {DehydratedData} from 'react-devtools-shared/src/frontend/types';\n\n// TODO: update this to the first React version that has a corresponding DevTools backend\nconst FIRST_DEVTOOLS_BACKEND_LOCKSTEP_VER = '999.9.9';\nexport function hasAssignedBackend(version?: string): boolean {\n  if (version == null || version === '') {\n    return false;\n  }\n  return gte(version, FIRST_DEVTOOLS_BACKEND_LOCKSTEP_VER);\n}\n\nexport function cleanForBridge(\n  data: Object | null,\n  isPathAllowed: (path: Array<string | number>) => boolean,\n  path: Array<string | number> = [],\n): DehydratedData | null {\n  if (data !== null) {\n    const cleanedPaths: Array<Array<string | number>> = [];\n    const unserializablePaths: Array<Array<string | number>> = [];\n    const cleanedData = dehydrate(\n      data,\n      cleanedPaths,\n      unserializablePaths,\n      path,\n      isPathAllowed,\n    );\n\n    return {\n      data: cleanedData,\n      cleaned: cleanedPaths,\n      unserializable: unserializablePaths,\n    };\n  } else {\n    return null;\n  }\n}\n\nexport function copyWithDelete(\n  obj: Object | Array<any>,\n  path: Array<string | number>,\n  index: number = 0,\n): Object | Array<any> {\n  const key = path[index];\n  const updated = isArray(obj) ? obj.slice() : {...obj};\n  if (index + 1 === path.length) {\n    if (isArray(updated)) {\n      updated.splice(((key: any): number), 1);\n    } else {\n      delete updated[key];\n    }\n  } else {\n    // $FlowFixMe[incompatible-use] number or string is fine here\n    updated[key] = copyWithDelete(obj[key], path, index + 1);\n  }\n  return updated;\n}\n\n// This function expects paths to be the same except for the final value.\n// e.g. ['path', 'to', 'foo'] and ['path', 'to', 'bar']\nexport function copyWithRename(\n  obj: Object | Array<any>,\n  oldPath: Array<string | number>,\n  newPath: Array<string | number>,\n  index: number = 0,\n): Object | Array<any> {\n  const oldKey = oldPath[index];\n  const updated = isArray(obj) ? obj.slice() : {...obj};\n  if (index + 1 === oldPath.length) {\n    const newKey = newPath[index];\n    // $FlowFixMe[incompatible-use] number or string is fine here\n    updated[newKey] = updated[oldKey];\n    if (isArray(updated)) {\n      updated.splice(((oldKey: any): number), 1);\n    } else {\n      delete updated[oldKey];\n    }\n  } else {\n    // $FlowFixMe[incompatible-use] number or string is fine here\n    updated[oldKey] = copyWithRename(obj[oldKey], oldPath, newPath, index + 1);\n  }\n  return updated;\n}\n\nexport function copyWithSet(\n  obj: Object | Array<any>,\n  path: Array<string | number>,\n  value: any,\n  index: number = 0,\n): Object | Array<any> {\n  if (index >= path.length) {\n    return value;\n  }\n  const key = path[index];\n  const updated = isArray(obj) ? obj.slice() : {...obj};\n  // $FlowFixMe[incompatible-use] number or string is fine here\n  updated[key] = copyWithSet(obj[key], path, value, index + 1);\n  return updated;\n}\n\nexport function getEffectDurations(root: Object): {\n  effectDuration: any | null,\n  passiveEffectDuration: any | null,\n} {\n  // Profiling durations are only available for certain builds.\n  // If available, they'll be stored on the HostRoot.\n  let effectDuration = null;\n  let passiveEffectDuration = null;\n  const hostRoot = root.current;\n  if (hostRoot != null) {\n    const stateNode = hostRoot.stateNode;\n    if (stateNode != null) {\n      effectDuration =\n        stateNode.effectDuration != null ? stateNode.effectDuration : null;\n      passiveEffectDuration =\n        stateNode.passiveEffectDuration != null\n          ? stateNode.passiveEffectDuration\n          : null;\n    }\n  }\n  return {effectDuration, passiveEffectDuration};\n}\n\nexport function serializeToString(data: any): string {\n  if (data === undefined) {\n    return 'undefined';\n  }\n\n  const cache = new Set<mixed>();\n  // Use a custom replacer function to protect against circular references.\n  return JSON.stringify(\n    data,\n    (key, value) => {\n      if (typeof value === 'object' && value !== null) {\n        if (cache.has(value)) {\n          return;\n        }\n        cache.add(value);\n      }\n      if (typeof value === 'bigint') {\n        return value.toString() + 'n';\n      }\n      return value;\n    },\n    2,\n  );\n}\n\n// Formats an array of args with a style for console methods, using\n// the following algorithm:\n//     1. The first param is a string that contains %c\n//          - Bail out and return the args without modifying the styles.\n//            We don't want to affect styles that the developer deliberately set.\n//     2. The first param is a string that doesn't contain %c but contains\n//        string formatting\n//          - [`%c${args[0]}`, style, ...args.slice(1)]\n//          - Note: we assume that the string formatting that the developer uses\n//            is correct.\n//     3. The first param is a string that doesn't contain string formatting\n//        OR is not a string\n//          - Create a formatting string where:\n//                 boolean, string, symbol -> %s\n//                 number -> %f OR %i depending on if it's an int or float\n//                 default -> %o\nexport function formatWithStyles(\n  inputArgs: $ReadOnlyArray<any>,\n  style?: string,\n): $ReadOnlyArray<any> {\n  if (\n    inputArgs === undefined ||\n    inputArgs === null ||\n    inputArgs.length === 0 ||\n    // Matches any of %c but not %%c\n    (typeof inputArgs[0] === 'string' && inputArgs[0].match(/([^%]|^)(%c)/g)) ||\n    style === undefined\n  ) {\n    return inputArgs;\n  }\n\n  // Matches any of %(o|O|d|i|s|f), but not %%(o|O|d|i|s|f)\n  const REGEXP = /([^%]|^)((%%)*)(%([oOdisf]))/g;\n  if (typeof inputArgs[0] === 'string' && inputArgs[0].match(REGEXP)) {\n    return [`%c${inputArgs[0]}`, style, ...inputArgs.slice(1)];\n  } else {\n    const firstArg = inputArgs.reduce((formatStr, elem, i) => {\n      if (i > 0) {\n        formatStr += ' ';\n      }\n      switch (typeof elem) {\n        case 'string':\n        case 'boolean':\n        case 'symbol':\n          return (formatStr += '%s');\n        case 'number':\n          const formatting = Number.isInteger(elem) ? '%i' : '%f';\n          return (formatStr += formatting);\n        default:\n          return (formatStr += '%o');\n      }\n    }, '%c');\n    return [firstArg, style, ...inputArgs];\n  }\n}\n\n// based on https://github.com/tmpfs/format-util/blob/0e62d430efb0a1c51448709abd3e2406c14d8401/format.js#L1\n// based on https://developer.mozilla.org/en-US/docs/Web/API/console#Using_string_substitutions\n// Implements s, d, i and f placeholders\n// NOTE: KEEP IN SYNC with src/hook.js\nexport function format(\n  maybeMessage: any,\n  ...inputArgs: $ReadOnlyArray<any>\n): string {\n  const args = inputArgs.slice();\n\n  let formatted: string = String(maybeMessage);\n\n  // If the first argument is a string, check for substitutions.\n  if (typeof maybeMessage === 'string') {\n    if (args.length) {\n      const REGEXP = /(%?)(%([jds]))/g;\n\n      formatted = formatted.replace(REGEXP, (match, escaped, ptn, flag) => {\n        let arg = args.shift();\n        switch (flag) {\n          case 's':\n            arg += '';\n            break;\n          case 'd':\n          case 'i':\n            arg = parseInt(arg, 10).toString();\n            break;\n          case 'f':\n            arg = parseFloat(arg).toString();\n            break;\n        }\n        if (!escaped) {\n          return arg;\n        }\n        args.unshift(arg);\n        return match;\n      });\n    }\n  }\n\n  // Arguments that remain after formatting.\n  if (args.length) {\n    for (let i = 0; i < args.length; i++) {\n      formatted += ' ' + String(args[i]);\n    }\n  }\n\n  // Update escaped %% values.\n  formatted = formatted.replace(/%{2,2}/g, '%');\n\n  return String(formatted);\n}\n\nexport function isSynchronousXHRSupported(): boolean {\n  return !!(\n    window.document &&\n    window.document.featurePolicy &&\n    window.document.featurePolicy.allowsFeature('sync-xhr')\n  );\n}\n\nexport function gt(a: string = '', b: string = ''): boolean {\n  return compareVersions(a, b) === 1;\n}\n\nexport function gte(a: string = '', b: string = ''): boolean {\n  return compareVersions(a, b) > -1;\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nconst assign = Object.assign;\n\nexport default assign;\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"react\");","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport * as React from 'react';\n\nconst ReactSharedInternals =\n  React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nexport default ReactSharedInternals;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport type WorkTag =\n  | 0\n  | 1\n  | 2\n  | 3\n  | 4\n  | 5\n  | 6\n  | 7\n  | 8\n  | 9\n  | 10\n  | 11\n  | 12\n  | 13\n  | 14\n  | 15\n  | 16\n  | 17\n  | 18\n  | 19\n  | 20\n  | 21\n  | 22\n  | 23\n  | 24\n  | 25\n  | 26\n  | 27;\n\nexport const FunctionComponent = 0;\nexport const ClassComponent = 1;\nexport const IndeterminateComponent = 2; // Before we know whether it is function or class\nexport const HostRoot = 3; // Root of a host tree. Could be nested inside another node.\nexport const HostPortal = 4; // A subtree. Could be an entry point to a different renderer.\nexport const HostComponent = 5;\nexport const HostText = 6;\nexport const Fragment = 7;\nexport const Mode = 8;\nexport const ContextConsumer = 9;\nexport const ContextProvider = 10;\nexport const ForwardRef = 11;\nexport const Profiler = 12;\nexport const SuspenseComponent = 13;\nexport const MemoComponent = 14;\nexport const SimpleMemoComponent = 15;\nexport const LazyComponent = 16;\nexport const IncompleteClassComponent = 17;\nexport const DehydratedFragment = 18;\nexport const SuspenseListComponent = 19;\nexport const ScopeComponent = 21;\nexport const OffscreenComponent = 22;\nexport const LegacyHiddenComponent = 23;\nexport const CacheComponent = 24;\nexport const TracingMarkerComponent = 25;\nexport const HostHoistable = 26;\nexport const HostSingleton = 27;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {\n  ReactContext,\n  ReactProviderType,\n  StartTransitionOptions,\n} from 'shared/ReactTypes';\nimport type {\n  Fiber,\n  Dispatcher as DispatcherType,\n} from 'react-reconciler/src/ReactInternalTypes';\n\nimport ErrorStackParser from 'error-stack-parser';\nimport assign from 'shared/assign';\nimport ReactSharedInternals from 'shared/ReactSharedInternals';\nimport {\n  FunctionComponent,\n  SimpleMemoComponent,\n  ContextProvider,\n  ForwardRef,\n} from 'react-reconciler/src/ReactWorkTags';\n\ntype CurrentDispatcherRef = typeof ReactSharedInternals.ReactCurrentDispatcher;\n\n// Used to track hooks called during a render\n\ntype HookLogEntry = {\n  primitive: string,\n  stackError: Error,\n  value: mixed,\n  ...\n};\n\nlet hookLog: Array<HookLogEntry> = [];\n\n// Primitives\n\ntype BasicStateAction<S> = (S => S) | S;\n\ntype Dispatch<A> = A => void;\n\nlet primitiveStackCache: null | Map<string, Array<any>> = null;\n\ntype Hook = {\n  memoizedState: any,\n  next: Hook | null,\n};\n\nfunction getPrimitiveStackCache(): Map<string, Array<any>> {\n  // This initializes a cache of all primitive hooks so that the top\n  // most stack frames added by calling the primitive hook can be removed.\n  if (primitiveStackCache === null) {\n    const cache = new Map<string, Array<any>>();\n    let readHookLog;\n    try {\n      // Use all hooks here to add them to the hook log.\n      Dispatcher.useContext(({_currentValue: null}: any));\n      Dispatcher.useState(null);\n      Dispatcher.useReducer((s: mixed, a: mixed) => s, null);\n      Dispatcher.useRef(null);\n      if (typeof Dispatcher.useCacheRefresh === 'function') {\n        // This type check is for Flow only.\n        Dispatcher.useCacheRefresh();\n      }\n      Dispatcher.useLayoutEffect(() => {});\n      Dispatcher.useInsertionEffect(() => {});\n      Dispatcher.useEffect(() => {});\n      Dispatcher.useImperativeHandle(undefined, () => null);\n      Dispatcher.useDebugValue(null);\n      Dispatcher.useCallback(() => {});\n      Dispatcher.useMemo(() => null);\n      if (typeof Dispatcher.useMemoCache === 'function') {\n        // This type check is for Flow only.\n        Dispatcher.useMemoCache(0);\n      }\n    } finally {\n      readHookLog = hookLog;\n      hookLog = [];\n    }\n    for (let i = 0; i < readHookLog.length; i++) {\n      const hook = readHookLog[i];\n      cache.set(hook.primitive, ErrorStackParser.parse(hook.stackError));\n    }\n    primitiveStackCache = cache;\n  }\n  return primitiveStackCache;\n}\n\nlet currentHook: null | Hook = null;\nfunction nextHook(): null | Hook {\n  const hook = currentHook;\n  if (hook !== null) {\n    currentHook = hook.next;\n  }\n  return hook;\n}\n\nfunction readContext<T>(context: ReactContext<T>): T {\n  // For now we don't expose readContext usage in the hooks debugging info.\n  return context._currentValue;\n}\n\nfunction use<T>(): T {\n  // TODO: What should this do if it receives an unresolved promise?\n  throw new Error(\n    'Support for `use` not yet implemented in react-debug-tools.',\n  );\n}\n\nfunction useContext<T>(context: ReactContext<T>): T {\n  hookLog.push({\n    primitive: 'Context',\n    stackError: new Error(),\n    value: context._currentValue,\n  });\n  return context._currentValue;\n}\n\nfunction useState<S>(\n  initialState: (() => S) | S,\n): [S, Dispatch<BasicStateAction<S>>] {\n  const hook = nextHook();\n  const state: S =\n    hook !== null\n      ? hook.memoizedState\n      : typeof initialState === 'function'\n      ? // $FlowFixMe[incompatible-use]: Flow doesn't like mixed types\n        initialState()\n      : initialState;\n  hookLog.push({primitive: 'State', stackError: new Error(), value: state});\n  return [state, (action: BasicStateAction<S>) => {}];\n}\n\nfunction useReducer<S, I, A>(\n  reducer: (S, A) => S,\n  initialArg: I,\n  init?: I => S,\n): [S, Dispatch<A>] {\n  const hook = nextHook();\n  let state;\n  if (hook !== null) {\n    state = hook.memoizedState;\n  } else {\n    state = init !== undefined ? init(initialArg) : ((initialArg: any): S);\n  }\n  hookLog.push({\n    primitive: 'Reducer',\n    stackError: new Error(),\n    value: state,\n  });\n  return [state, (action: A) => {}];\n}\n\nfunction useRef<T>(initialValue: T): {current: T} {\n  const hook = nextHook();\n  const ref = hook !== null ? hook.memoizedState : {current: initialValue};\n  hookLog.push({\n    primitive: 'Ref',\n    stackError: new Error(),\n    value: ref.current,\n  });\n  return ref;\n}\n\nfunction useCacheRefresh(): () => void {\n  const hook = nextHook();\n  hookLog.push({\n    primitive: 'CacheRefresh',\n    stackError: new Error(),\n    value: hook !== null ? hook.memoizedState : function refresh() {},\n  });\n  return () => {};\n}\n\nfunction useLayoutEffect(\n  create: () => (() => void) | void,\n  inputs: Array<mixed> | void | null,\n): void {\n  nextHook();\n  hookLog.push({\n    primitive: 'LayoutEffect',\n    stackError: new Error(),\n    value: create,\n  });\n}\n\nfunction useInsertionEffect(\n  create: () => mixed,\n  inputs: Array<mixed> | void | null,\n): void {\n  nextHook();\n  hookLog.push({\n    primitive: 'InsertionEffect',\n    stackError: new Error(),\n    value: create,\n  });\n}\n\nfunction useEffect(\n  create: () => (() => void) | void,\n  inputs: Array<mixed> | void | null,\n): void {\n  nextHook();\n  hookLog.push({primitive: 'Effect', stackError: new Error(), value: create});\n}\n\nfunction useImperativeHandle<T>(\n  ref: {current: T | null} | ((inst: T | null) => mixed) | null | void,\n  create: () => T,\n  inputs: Array<mixed> | void | null,\n): void {\n  nextHook();\n  // We don't actually store the instance anywhere if there is no ref callback\n  // and if there is a ref callback it might not store it but if it does we\n  // have no way of knowing where. So let's only enable introspection of the\n  // ref itself if it is using the object form.\n  let instance: ?T = undefined;\n  if (ref !== null && typeof ref === 'object') {\n    instance = ref.current;\n  }\n  hookLog.push({\n    primitive: 'ImperativeHandle',\n    stackError: new Error(),\n    value: instance,\n  });\n}\n\nfunction useDebugValue(value: any, formatterFn: ?(value: any) => any) {\n  hookLog.push({\n    primitive: 'DebugValue',\n    stackError: new Error(),\n    value: typeof formatterFn === 'function' ? formatterFn(value) : value,\n  });\n}\n\nfunction useCallback<T>(callback: T, inputs: Array<mixed> | void | null): T {\n  const hook = nextHook();\n  hookLog.push({\n    primitive: 'Callback',\n    stackError: new Error(),\n    value: hook !== null ? hook.memoizedState[0] : callback,\n  });\n  return callback;\n}\n\nfunction useMemo<T>(\n  nextCreate: () => T,\n  inputs: Array<mixed> | void | null,\n): T {\n  const hook = nextHook();\n  const value = hook !== null ? hook.memoizedState[0] : nextCreate();\n  hookLog.push({primitive: 'Memo', stackError: new Error(), value});\n  return value;\n}\n\nfunction useSyncExternalStore<T>(\n  subscribe: (() => void) => () => void,\n  getSnapshot: () => T,\n  getServerSnapshot?: () => T,\n): T {\n  // useSyncExternalStore() composes multiple hooks internally.\n  // Advance the current hook index the same number of times\n  // so that subsequent hooks have the right memoized state.\n  nextHook(); // SyncExternalStore\n  nextHook(); // Effect\n  const value = getSnapshot();\n  hookLog.push({\n    primitive: 'SyncExternalStore',\n    stackError: new Error(),\n    value,\n  });\n  return value;\n}\n\nfunction useTransition(): [\n  boolean,\n  (callback: () => void, options?: StartTransitionOptions) => void,\n] {\n  // useTransition() composes multiple hooks internally.\n  // Advance the current hook index the same number of times\n  // so that subsequent hooks have the right memoized state.\n  nextHook(); // State\n  nextHook(); // Callback\n  hookLog.push({\n    primitive: 'Transition',\n    stackError: new Error(),\n    value: undefined,\n  });\n  return [false, callback => {}];\n}\n\nfunction useDeferredValue<T>(value: T, initialValue?: T): T {\n  const hook = nextHook();\n  hookLog.push({\n    primitive: 'DeferredValue',\n    stackError: new Error(),\n    value: hook !== null ? hook.memoizedState : value,\n  });\n  return value;\n}\n\nfunction useId(): string {\n  const hook = nextHook();\n  const id = hook !== null ? hook.memoizedState : '';\n  hookLog.push({\n    primitive: 'Id',\n    stackError: new Error(),\n    value: id,\n  });\n  return id;\n}\n\n// useMemoCache is an implementation detail of Forget's memoization\n// it should not be called directly in user-generated code\n// we keep it as a stub for dispatcher\nfunction useMemoCache(size: number): Array<any> {\n  return [];\n}\n\nconst Dispatcher: DispatcherType = {\n  use,\n  readContext,\n  useCacheRefresh,\n  useCallback,\n  useContext,\n  useEffect,\n  useImperativeHandle,\n  useDebugValue,\n  useLayoutEffect,\n  useInsertionEffect,\n  useMemo,\n  useMemoCache,\n  useReducer,\n  useRef,\n  useState,\n  useTransition,\n  useSyncExternalStore,\n  useDeferredValue,\n  useId,\n};\n\n// create a proxy to throw a custom error\n// in case future versions of React adds more hooks\nconst DispatcherProxyHandler = {\n  get(target: DispatcherType, prop: string) {\n    if (target.hasOwnProperty(prop)) {\n      return target[prop];\n    }\n    const error = new Error('Missing method in Dispatcher: ' + prop);\n    // Note: This error name needs to stay in sync with react-devtools-shared\n    // TODO: refactor this if we ever combine the devtools and debug tools packages\n    error.name = 'ReactDebugToolsUnsupportedHookError';\n    throw error;\n  },\n};\n\n// `Proxy` may not exist on some platforms\nconst DispatcherProxy =\n  typeof Proxy === 'undefined'\n    ? Dispatcher\n    : new Proxy(Dispatcher, DispatcherProxyHandler);\n\n// Inspect\n\nexport type HookSource = {\n  lineNumber: number | null,\n  columnNumber: number | null,\n  fileName: string | null,\n  functionName: string | null,\n};\n\nexport type HooksNode = {\n  id: number | null,\n  isStateEditable: boolean,\n  name: string,\n  value: mixed,\n  subHooks: Array<HooksNode>,\n  hookSource?: HookSource,\n  ...\n};\nexport type HooksTree = Array<HooksNode>;\n\n// Don't assume\n//\n// We can't assume that stack frames are nth steps away from anything.\n// E.g. we can't assume that the root call shares all frames with the stack\n// of a hook call. A simple way to demonstrate this is wrapping `new Error()`\n// in a wrapper constructor like a polyfill. That'll add an extra frame.\n// Similar things can happen with the call to the dispatcher. The top frame\n// may not be the primitive. Likewise the primitive can have fewer stack frames\n// such as when a call to useState got inlined to use dispatcher.useState.\n//\n// We also can't assume that the last frame of the root call is the same\n// frame as the last frame of the hook call because long stack traces can be\n// truncated to a stack trace limit.\n\nlet mostLikelyAncestorIndex = 0;\n\nfunction findSharedIndex(hookStack: any, rootStack: any, rootIndex: number) {\n  const source = rootStack[rootIndex].source;\n  hookSearch: for (let i = 0; i < hookStack.length; i++) {\n    if (hookStack[i].source === source) {\n      // This looks like a match. Validate that the rest of both stack match up.\n      for (\n        let a = rootIndex + 1, b = i + 1;\n        a < rootStack.length && b < hookStack.length;\n        a++, b++\n      ) {\n        if (hookStack[b].source !== rootStack[a].source) {\n          // If not, give up and try a different match.\n          continue hookSearch;\n        }\n      }\n      return i;\n    }\n  }\n  return -1;\n}\n\nfunction findCommonAncestorIndex(rootStack: any, hookStack: any) {\n  let rootIndex = findSharedIndex(\n    hookStack,\n    rootStack,\n    mostLikelyAncestorIndex,\n  );\n  if (rootIndex !== -1) {\n    return rootIndex;\n  }\n  // If the most likely one wasn't a hit, try any other frame to see if it is shared.\n  // If that takes more than 5 frames, something probably went wrong.\n  for (let i = 0; i < rootStack.length && i < 5; i++) {\n    rootIndex = findSharedIndex(hookStack, rootStack, i);\n    if (rootIndex !== -1) {\n      mostLikelyAncestorIndex = i;\n      return rootIndex;\n    }\n  }\n  return -1;\n}\n\nfunction isReactWrapper(functionName: any, primitiveName: string) {\n  if (!functionName) {\n    return false;\n  }\n  const expectedPrimitiveName = 'use' + primitiveName;\n  if (functionName.length < expectedPrimitiveName.length) {\n    return false;\n  }\n  return (\n    functionName.lastIndexOf(expectedPrimitiveName) ===\n    functionName.length - expectedPrimitiveName.length\n  );\n}\n\nfunction findPrimitiveIndex(hookStack: any, hook: HookLogEntry) {\n  const stackCache = getPrimitiveStackCache();\n  const primitiveStack = stackCache.get(hook.primitive);\n  if (primitiveStack === undefined) {\n    return -1;\n  }\n  for (let i = 0; i < primitiveStack.length && i < hookStack.length; i++) {\n    if (primitiveStack[i].source !== hookStack[i].source) {\n      // If the next two frames are functions called `useX` then we assume that they're part of the\n      // wrappers that the React packager or other packages adds around the dispatcher.\n      if (\n        i < hookStack.length - 1 &&\n        isReactWrapper(hookStack[i].functionName, hook.primitive)\n      ) {\n        i++;\n      }\n      if (\n        i < hookStack.length - 1 &&\n        isReactWrapper(hookStack[i].functionName, hook.primitive)\n      ) {\n        i++;\n      }\n      return i;\n    }\n  }\n  return -1;\n}\n\nfunction parseTrimmedStack(rootStack: any, hook: HookLogEntry) {\n  // Get the stack trace between the primitive hook function and\n  // the root function call. I.e. the stack frames of custom hooks.\n  const hookStack = ErrorStackParser.parse(hook.stackError);\n  const rootIndex = findCommonAncestorIndex(rootStack, hookStack);\n  const primitiveIndex = findPrimitiveIndex(hookStack, hook);\n  if (\n    rootIndex === -1 ||\n    primitiveIndex === -1 ||\n    rootIndex - primitiveIndex < 2\n  ) {\n    // Something went wrong. Give up.\n    return null;\n  }\n  return hookStack.slice(primitiveIndex, rootIndex - 1);\n}\n\nfunction parseCustomHookName(functionName: void | string): string {\n  if (!functionName) {\n    return '';\n  }\n  let startIndex = functionName.lastIndexOf('.');\n  if (startIndex === -1) {\n    startIndex = 0;\n  }\n  if (functionName.slice(startIndex, startIndex + 3) === 'use') {\n    startIndex += 3;\n  }\n  return functionName.slice(startIndex);\n}\n\nfunction buildTree(\n  rootStack: any,\n  readHookLog: Array<HookLogEntry>,\n  includeHooksSource: boolean,\n): HooksTree {\n  const rootChildren: Array<HooksNode> = [];\n  let prevStack = null;\n  let levelChildren = rootChildren;\n  let nativeHookID = 0;\n  const stackOfChildren = [];\n  for (let i = 0; i < readHookLog.length; i++) {\n    const hook = readHookLog[i];\n    const stack = parseTrimmedStack(rootStack, hook);\n    if (stack !== null) {\n      // Note: The indices 0 <= n < length-1 will contain the names.\n      // The indices 1 <= n < length will contain the source locations.\n      // That's why we get the name from n - 1 and don't check the source\n      // of index 0.\n      let commonSteps = 0;\n      if (prevStack !== null) {\n        // Compare the current level's stack to the new stack.\n        while (commonSteps < stack.length && commonSteps < prevStack.length) {\n          const stackSource = stack[stack.length - commonSteps - 1].source;\n          const prevSource =\n            prevStack[prevStack.length - commonSteps - 1].source;\n          if (stackSource !== prevSource) {\n            break;\n          }\n          commonSteps++;\n        }\n        // Pop back the stack as many steps as were not common.\n        for (let j = prevStack.length - 1; j > commonSteps; j--) {\n          levelChildren = stackOfChildren.pop();\n        }\n      }\n      // The remaining part of the new stack are custom hooks. Push them\n      // to the tree.\n      for (let j = stack.length - commonSteps - 1; j >= 1; j--) {\n        const children: Array<HooksNode> = [];\n        const stackFrame = stack[j];\n        const levelChild: HooksNode = {\n          id: null,\n          isStateEditable: false,\n          name: parseCustomHookName(stack[j - 1].functionName),\n          value: undefined,\n          subHooks: children,\n        };\n\n        if (includeHooksSource) {\n          levelChild.hookSource = {\n            lineNumber: stackFrame.lineNumber,\n            columnNumber: stackFrame.columnNumber,\n            functionName: stackFrame.functionName,\n            fileName: stackFrame.fileName,\n          };\n        }\n\n        levelChildren.push(levelChild);\n        stackOfChildren.push(levelChildren);\n        levelChildren = children;\n      }\n      prevStack = stack;\n    }\n    const {primitive} = hook;\n\n    // For now, the \"id\" of stateful hooks is just the stateful hook index.\n    // Custom hooks have no ids, nor do non-stateful native hooks (e.g. Context, DebugValue).\n    const id =\n      primitive === 'Context' || primitive === 'DebugValue'\n        ? null\n        : nativeHookID++;\n\n    // For the time being, only State and Reducer hooks support runtime overrides.\n    const isStateEditable = primitive === 'Reducer' || primitive === 'State';\n    const levelChild: HooksNode = {\n      id,\n      isStateEditable,\n      name: primitive,\n      value: hook.value,\n      subHooks: [],\n    };\n\n    if (includeHooksSource) {\n      const hookSource: HookSource = {\n        lineNumber: null,\n        functionName: null,\n        fileName: null,\n        columnNumber: null,\n      };\n      if (stack && stack.length >= 1) {\n        const stackFrame = stack[0];\n        hookSource.lineNumber = stackFrame.lineNumber;\n        hookSource.functionName = stackFrame.functionName;\n        hookSource.fileName = stackFrame.fileName;\n        hookSource.columnNumber = stackFrame.columnNumber;\n      }\n\n      levelChild.hookSource = hookSource;\n    }\n\n    levelChildren.push(levelChild);\n  }\n\n  // Associate custom hook values (useDebugValue() hook entries) with the correct hooks.\n  processDebugValues(rootChildren, null);\n\n  return rootChildren;\n}\n\n// Custom hooks support user-configurable labels (via the special useDebugValue() hook).\n// That hook adds user-provided values to the hooks tree,\n// but these values aren't intended to appear alongside of the other hooks.\n// Instead they should be attributed to their parent custom hook.\n// This method walks the tree and assigns debug values to their custom hook owners.\nfunction processDebugValues(\n  hooksTree: HooksTree,\n  parentHooksNode: HooksNode | null,\n): void {\n  const debugValueHooksNodes: Array<HooksNode> = [];\n\n  for (let i = 0; i < hooksTree.length; i++) {\n    const hooksNode = hooksTree[i];\n    if (hooksNode.name === 'DebugValue' && hooksNode.subHooks.length === 0) {\n      hooksTree.splice(i, 1);\n      i--;\n      debugValueHooksNodes.push(hooksNode);\n    } else {\n      processDebugValues(hooksNode.subHooks, hooksNode);\n    }\n  }\n\n  // Bubble debug value labels to their custom hook owner.\n  // If there is no parent hook, just ignore them for now.\n  // (We may warn about this in the future.)\n  if (parentHooksNode !== null) {\n    if (debugValueHooksNodes.length === 1) {\n      parentHooksNode.value = debugValueHooksNodes[0].value;\n    } else if (debugValueHooksNodes.length > 1) {\n      parentHooksNode.value = debugValueHooksNodes.map(({value}) => value);\n    }\n  }\n}\n\nfunction handleRenderFunctionError(error: any): void {\n  // original error might be any type.\n  if (\n    error instanceof Error &&\n    error.name === 'ReactDebugToolsUnsupportedHookError'\n  ) {\n    throw error;\n  }\n  // If the error is not caused by an unsupported feature, it means\n  // that the error is caused by user's code in renderFunction.\n  // In this case, we should wrap the original error inside a custom error\n  // so that devtools can give a clear message about it.\n  // $FlowFixMe[extra-arg]: Flow doesn't know about 2nd argument of Error constructor\n  const wrapperError = new Error('Error rendering inspected component', {\n    cause: error,\n  });\n  // Note: This error name needs to stay in sync with react-devtools-shared\n  // TODO: refactor this if we ever combine the devtools and debug tools packages\n  wrapperError.name = 'ReactDebugToolsRenderError';\n  // this stage-4 proposal is not supported by all environments yet.\n  // $FlowFixMe[prop-missing] Flow doesn't have this type yet.\n  wrapperError.cause = error;\n  throw wrapperError;\n}\n\nexport function inspectHooks<Props>(\n  renderFunction: Props => React$Node,\n  props: Props,\n  currentDispatcher: ?CurrentDispatcherRef,\n  includeHooksSource: boolean = false,\n): HooksTree {\n  // DevTools will pass the current renderer's injected dispatcher.\n  // Other apps might compile debug hooks as part of their app though.\n  if (currentDispatcher == null) {\n    currentDispatcher = ReactSharedInternals.ReactCurrentDispatcher;\n  }\n\n  const previousDispatcher = currentDispatcher.current;\n  let readHookLog;\n  currentDispatcher.current = DispatcherProxy;\n  let ancestorStackError;\n  try {\n    ancestorStackError = new Error();\n    renderFunction(props);\n  } catch (error) {\n    handleRenderFunctionError(error);\n  } finally {\n    readHookLog = hookLog;\n    hookLog = [];\n    // $FlowFixMe[incompatible-use] found when upgrading Flow\n    currentDispatcher.current = previousDispatcher;\n  }\n  const rootStack = ErrorStackParser.parse(ancestorStackError);\n  return buildTree(rootStack, readHookLog, includeHooksSource);\n}\n\nfunction setupContexts(contextMap: Map<ReactContext<any>, any>, fiber: Fiber) {\n  let current: null | Fiber = fiber;\n  while (current) {\n    if (current.tag === ContextProvider) {\n      const providerType: ReactProviderType<any> = current.type;\n      const context: ReactContext<any> = providerType._context;\n      if (!contextMap.has(context)) {\n        // Store the current value that we're going to restore later.\n        contextMap.set(context, context._currentValue);\n        // Set the inner most provider value on the context.\n        context._currentValue = current.memoizedProps.value;\n      }\n    }\n    current = current.return;\n  }\n}\n\nfunction restoreContexts(contextMap: Map<ReactContext<any>, any>) {\n  contextMap.forEach((value, context) => (context._currentValue = value));\n}\n\nfunction inspectHooksOfForwardRef<Props, Ref>(\n  renderFunction: (Props, Ref) => React$Node,\n  props: Props,\n  ref: Ref,\n  currentDispatcher: CurrentDispatcherRef,\n  includeHooksSource: boolean,\n): HooksTree {\n  const previousDispatcher = currentDispatcher.current;\n  let readHookLog;\n  currentDispatcher.current = DispatcherProxy;\n  let ancestorStackError;\n  try {\n    ancestorStackError = new Error();\n    renderFunction(props, ref);\n  } catch (error) {\n    handleRenderFunctionError(error);\n  } finally {\n    readHookLog = hookLog;\n    hookLog = [];\n    currentDispatcher.current = previousDispatcher;\n  }\n  const rootStack = ErrorStackParser.parse(ancestorStackError);\n  return buildTree(rootStack, readHookLog, includeHooksSource);\n}\n\nfunction resolveDefaultProps(Component: any, baseProps: any) {\n  if (Component && Component.defaultProps) {\n    // Resolve default props. Taken from ReactElement\n    const props = assign({}, baseProps);\n    const defaultProps = Component.defaultProps;\n    for (const propName in defaultProps) {\n      if (props[propName] === undefined) {\n        props[propName] = defaultProps[propName];\n      }\n    }\n    return props;\n  }\n  return baseProps;\n}\n\nexport function inspectHooksOfFiber(\n  fiber: Fiber,\n  currentDispatcher: ?CurrentDispatcherRef,\n  includeHooksSource: boolean = false,\n): HooksTree {\n  // DevTools will pass the current renderer's injected dispatcher.\n  // Other apps might compile debug hooks as part of their app though.\n  if (currentDispatcher == null) {\n    currentDispatcher = ReactSharedInternals.ReactCurrentDispatcher;\n  }\n\n  if (\n    fiber.tag !== FunctionComponent &&\n    fiber.tag !== SimpleMemoComponent &&\n    fiber.tag !== ForwardRef\n  ) {\n    throw new Error(\n      'Unknown Fiber. Needs to be a function component to inspect hooks.',\n    );\n  }\n  // Warm up the cache so that it doesn't consume the currentHook.\n  getPrimitiveStackCache();\n  const type = fiber.type;\n  let props = fiber.memoizedProps;\n  if (type !== fiber.elementType) {\n    props = resolveDefaultProps(type, props);\n  }\n  // Set up the current hook so that we can step through and read the\n  // current state from them.\n  currentHook = (fiber.memoizedState: Hook);\n  const contextMap = new Map<ReactContext<$FlowFixMe>, $FlowFixMe>();\n  try {\n    setupContexts(contextMap, fiber);\n    if (fiber.tag === ForwardRef) {\n      return inspectHooksOfForwardRef(\n        type.render,\n        props,\n        fiber.ref,\n        currentDispatcher,\n        includeHooksSource,\n      );\n    }\n    return inspectHooks(type, props, currentDispatcher, includeHooksSource);\n  } finally {\n    currentHook = null;\n    restoreContexts(contextMap);\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {inspectHooks, inspectHooksOfFiber} from './ReactDebugHooks';\n\nexport {inspectHooks, inspectHooksOfFiber};\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nexport * from './src/ReactDebugTools';\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This list should be kept updated to reflect additions to 'shared/ReactSymbols'.\n// DevTools can't import symbols from 'shared/ReactSymbols' directly for two reasons:\n// 1. DevTools requires symbols which may have been deleted in more recent versions (e.g. concurrent mode)\n// 2. DevTools must support both Symbol and numeric forms of each symbol;\n//    Since e.g. standalone DevTools runs in a separate process, it can't rely on its own ES capabilities.\n\nexport const CONCURRENT_MODE_NUMBER = 0xeacf;\nexport const CONCURRENT_MODE_SYMBOL_STRING = 'Symbol(react.concurrent_mode)';\n\nexport const CONTEXT_NUMBER = 0xeace;\nexport const CONTEXT_SYMBOL_STRING = 'Symbol(react.context)';\n\nexport const SERVER_CONTEXT_SYMBOL_STRING = 'Symbol(react.server_context)';\n\nexport const DEPRECATED_ASYNC_MODE_SYMBOL_STRING = 'Symbol(react.async_mode)';\n\nexport const ELEMENT_NUMBER = 0xeac7;\nexport const ELEMENT_SYMBOL_STRING = 'Symbol(react.element)';\n\nexport const DEBUG_TRACING_MODE_NUMBER = 0xeae1;\nexport const DEBUG_TRACING_MODE_SYMBOL_STRING =\n  'Symbol(react.debug_trace_mode)';\n\nexport const FORWARD_REF_NUMBER = 0xead0;\nexport const FORWARD_REF_SYMBOL_STRING = 'Symbol(react.forward_ref)';\n\nexport const FRAGMENT_NUMBER = 0xeacb;\nexport const FRAGMENT_SYMBOL_STRING = 'Symbol(react.fragment)';\n\nexport const LAZY_NUMBER = 0xead4;\nexport const LAZY_SYMBOL_STRING = 'Symbol(react.lazy)';\n\nexport const MEMO_NUMBER = 0xead3;\nexport const MEMO_SYMBOL_STRING = 'Symbol(react.memo)';\n\nexport const PORTAL_NUMBER = 0xeaca;\nexport const PORTAL_SYMBOL_STRING = 'Symbol(react.portal)';\n\nexport const PROFILER_NUMBER = 0xead2;\nexport const PROFILER_SYMBOL_STRING = 'Symbol(react.profiler)';\n\nexport const PROVIDER_NUMBER = 0xeacd;\nexport const PROVIDER_SYMBOL_STRING = 'Symbol(react.provider)';\n\nexport const SCOPE_NUMBER = 0xead7;\nexport const SCOPE_SYMBOL_STRING = 'Symbol(react.scope)';\n\nexport const STRICT_MODE_NUMBER = 0xeacc;\nexport const STRICT_MODE_SYMBOL_STRING = 'Symbol(react.strict_mode)';\n\nexport const SUSPENSE_NUMBER = 0xead1;\nexport const SUSPENSE_SYMBOL_STRING = 'Symbol(react.suspense)';\n\nexport const SUSPENSE_LIST_NUMBER = 0xead8;\nexport const SUSPENSE_LIST_SYMBOL_STRING = 'Symbol(react.suspense_list)';\n\nexport const SERVER_CONTEXT_DEFAULT_VALUE_NOT_LOADED_SYMBOL_STRING =\n  'Symbol(react.server_context.defaultValue)';\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/************************************************************************\n * This file is forked between different DevTools implementations.\n * It should never be imported directly!\n * It should always be imported from \"react-devtools-feature-flags\".\n ************************************************************************/\n\nexport const consoleManagedByDevToolsDuringStrictMode = true;\nexport const enableLogger = false;\nexport const enableStyleXFeatures = false;\nexport const isInternalFacebookBuild = false;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n/**\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */\nfunction is(x: any, y: any) {\n  return (\n    (x === y && (x !== 0 || 1 / x === 1 / y)) || (x !== x && y !== y) // eslint-disable-line no-self-compare\n  );\n}\n\nconst objectIs: (x: any, y: any) => boolean =\n  // $FlowFixMe[method-unbinding]\n  typeof Object.is === 'function' ? Object.is : is;\n\nexport default objectIs;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// $FlowFixMe[method-unbinding]\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\nexport default hasOwnProperty;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {StyleXPlugin} from 'react-devtools-shared/src/frontend/types';\nimport isArray from 'react-devtools-shared/src/isArray';\n\nconst cachedStyleNameToValueMap: Map<string, string> = new Map();\n\nexport function getStyleXData(data: any): StyleXPlugin {\n  const sources = new Set<string>();\n  const resolvedStyles = {};\n\n  crawlData(data, sources, resolvedStyles);\n\n  return {\n    sources: Array.from(sources).sort(),\n    resolvedStyles,\n  };\n}\n\nexport function crawlData(\n  data: any,\n  sources: Set<string>,\n  resolvedStyles: Object,\n): void {\n  if (data == null) {\n    return;\n  }\n\n  if (isArray(data)) {\n    data.forEach(entry => {\n      if (entry == null) {\n        return;\n      }\n\n      if (isArray(entry)) {\n        crawlData(entry, sources, resolvedStyles);\n      } else {\n        crawlObjectProperties(entry, sources, resolvedStyles);\n      }\n    });\n  } else {\n    crawlObjectProperties(data, sources, resolvedStyles);\n  }\n\n  resolvedStyles = Object.fromEntries<string, any>(\n    Object.entries(resolvedStyles).sort(),\n  );\n}\n\nfunction crawlObjectProperties(\n  entry: Object,\n  sources: Set<string>,\n  resolvedStyles: Object,\n): void {\n  const keys = Object.keys(entry);\n  keys.forEach(key => {\n    const value = entry[key];\n    if (typeof value === 'string') {\n      if (key === value) {\n        // Special case; this key is the name of the style's source/file/module.\n        sources.add(key);\n      } else {\n        const propertyValue = getPropertyValueForStyleName(value);\n        if (propertyValue != null) {\n          resolvedStyles[key] = propertyValue;\n        }\n      }\n    } else {\n      const nestedStyle = {};\n      resolvedStyles[key] = nestedStyle;\n      crawlData([value], sources, nestedStyle);\n    }\n  });\n}\n\nfunction getPropertyValueForStyleName(styleName: string): string | null {\n  if (cachedStyleNameToValueMap.has(styleName)) {\n    return ((cachedStyleNameToValueMap.get(styleName): any): string);\n  }\n\n  for (\n    let styleSheetIndex = 0;\n    styleSheetIndex < document.styleSheets.length;\n    styleSheetIndex++\n  ) {\n    const styleSheet = ((document.styleSheets[\n      styleSheetIndex\n    ]: any): CSSStyleSheet);\n    let rules: CSSRuleList | null = null;\n    // this might throw if CORS rules are enforced https://www.w3.org/TR/cssom-1/#the-cssstylesheet-interface\n    try {\n      rules = styleSheet.cssRules;\n    } catch (_e) {\n      continue;\n    }\n\n    for (let ruleIndex = 0; ruleIndex < rules.length; ruleIndex++) {\n      if (!(rules[ruleIndex] instanceof CSSStyleRule)) {\n        continue;\n      }\n      const rule = ((rules[ruleIndex]: any): CSSStyleRule);\n      const {cssText, selectorText, style} = rule;\n\n      if (selectorText != null) {\n        if (selectorText.startsWith(`.${styleName}`)) {\n          const match = cssText.match(/{ *([a-z\\-]+):/);\n          if (match !== null) {\n            const property = match[1];\n            const value = style.getPropertyValue(property);\n\n            cachedStyleNameToValueMap.set(styleName, value);\n\n            return value;\n          } else {\n            return null;\n          }\n        }\n      }\n    }\n  }\n\n  return null;\n}\n","export const CHANGE_LOG_URL =\n  'https://github.com/facebook/react/blob/main/packages/react-devtools/CHANGELOG.md';\n\nexport const UNSUPPORTED_VERSION_URL =\n  'https://reactjs.org/blog/2019/08/15/new-react-devtools.html#how-do-i-get-the-old-version-back';\n\nexport const REACT_DEVTOOLS_WORKPLACE_URL =\n  'https://fburl.com/react-devtools-workplace-group';\n\nimport type {\n  Theme,\n  DisplayDensity,\n} from './devtools/views/Settings/SettingsContext';\n\nexport const THEME_STYLES: {[style: Theme | DisplayDensity]: any, ...} = {\n  light: {\n    '--color-attribute-name': '#ef6632',\n    '--color-attribute-name-not-editable': '#23272f',\n    '--color-attribute-name-inverted': 'rgba(255, 255, 255, 0.7)',\n    '--color-attribute-value': '#1a1aa6',\n    '--color-attribute-value-inverted': '#ffffff',\n    '--color-attribute-editable-value': '#1a1aa6',\n    '--color-background': '#ffffff',\n    '--color-background-hover': 'rgba(0, 136, 250, 0.1)',\n    '--color-background-inactive': '#e5e5e5',\n    '--color-background-invalid': '#fff0f0',\n    '--color-background-selected': '#0088fa',\n    '--color-button-background': '#ffffff',\n    '--color-button-background-focus': '#ededed',\n    '--color-button': '#5f6673',\n    '--color-button-disabled': '#cfd1d5',\n    '--color-button-active': '#0088fa',\n    '--color-button-focus': '#23272f',\n    '--color-button-hover': '#23272f',\n    '--color-border': '#eeeeee',\n    '--color-commit-did-not-render-fill': '#cfd1d5',\n    '--color-commit-did-not-render-fill-text': '#000000',\n    '--color-commit-did-not-render-pattern': '#cfd1d5',\n    '--color-commit-did-not-render-pattern-text': '#333333',\n    '--color-commit-gradient-0': '#37afa9',\n    '--color-commit-gradient-1': '#63b19e',\n    '--color-commit-gradient-2': '#80b393',\n    '--color-commit-gradient-3': '#97b488',\n    '--color-commit-gradient-4': '#abb67d',\n    '--color-commit-gradient-5': '#beb771',\n    '--color-commit-gradient-6': '#cfb965',\n    '--color-commit-gradient-7': '#dfba57',\n    '--color-commit-gradient-8': '#efbb49',\n    '--color-commit-gradient-9': '#febc38',\n    '--color-commit-gradient-text': '#000000',\n    '--color-component-name': '#6a51b2',\n    '--color-component-name-inverted': '#ffffff',\n    '--color-component-badge-background': 'rgba(0, 0, 0, 0.1)',\n    '--color-component-badge-background-inverted': 'rgba(255, 255, 255, 0.25)',\n    '--color-component-badge-count': '#777d88',\n    '--color-component-badge-count-inverted': 'rgba(255, 255, 255, 0.7)',\n    '--color-console-error-badge-text': '#ffffff',\n    '--color-console-error-background': '#fff0f0',\n    '--color-console-error-border': '#ffd6d6',\n    '--color-console-error-icon': '#eb3941',\n    '--color-console-error-text': '#fe2e31',\n    '--color-console-warning-badge-text': '#000000',\n    '--color-console-warning-background': '#fffbe5',\n    '--color-console-warning-border': '#fff5c1',\n    '--color-console-warning-icon': '#f4bd00',\n    '--color-console-warning-text': '#64460c',\n    '--color-context-background': 'rgba(0,0,0,.9)',\n    '--color-context-background-hover': 'rgba(255, 255, 255, 0.1)',\n    '--color-context-background-selected': '#178fb9',\n    '--color-context-border': '#3d424a',\n    '--color-context-text': '#ffffff',\n    '--color-context-text-selected': '#ffffff',\n    '--color-dim': '#777d88',\n    '--color-dimmer': '#cfd1d5',\n    '--color-dimmest': '#eff0f1',\n    '--color-error-background': 'hsl(0, 100%, 97%)',\n    '--color-error-border': 'hsl(0, 100%, 92%)',\n    '--color-error-text': '#ff0000',\n    '--color-expand-collapse-toggle': '#777d88',\n    '--color-link': '#0000ff',\n    '--color-modal-background': 'rgba(255, 255, 255, 0.75)',\n    '--color-bridge-version-npm-background': '#eff0f1',\n    '--color-bridge-version-npm-text': '#000000',\n    '--color-bridge-version-number': '#0088fa',\n    '--color-primitive-hook-badge-background': '#e5e5e5',\n    '--color-primitive-hook-badge-text': '#5f6673',\n    '--color-record-active': '#fc3a4b',\n    '--color-record-hover': '#3578e5',\n    '--color-record-inactive': '#0088fa',\n    '--color-resize-bar': '#eeeeee',\n    '--color-resize-bar-active': '#dcdcdc',\n    '--color-resize-bar-border': '#d1d1d1',\n    '--color-resize-bar-dot': '#333333',\n    '--color-timeline-internal-module': '#d1d1d1',\n    '--color-timeline-internal-module-hover': '#c9c9c9',\n    '--color-timeline-internal-module-text': '#444',\n    '--color-timeline-native-event': '#ccc',\n    '--color-timeline-native-event-hover': '#aaa',\n    '--color-timeline-network-primary': '#fcf3dc',\n    '--color-timeline-network-primary-hover': '#f0e7d1',\n    '--color-timeline-network-secondary': '#efc457',\n    '--color-timeline-network-secondary-hover': '#e3ba52',\n    '--color-timeline-priority-background': '#f6f6f6',\n    '--color-timeline-priority-border': '#eeeeee',\n    '--color-timeline-user-timing': '#c9cacd',\n    '--color-timeline-user-timing-hover': '#93959a',\n    '--color-timeline-react-idle': '#d3e5f6',\n    '--color-timeline-react-idle-hover': '#c3d9ef',\n    '--color-timeline-react-render': '#9fc3f3',\n    '--color-timeline-react-render-hover': '#83afe9',\n    '--color-timeline-react-render-text': '#11365e',\n    '--color-timeline-react-commit': '#c88ff0',\n    '--color-timeline-react-commit-hover': '#b281d6',\n    '--color-timeline-react-commit-text': '#3e2c4a',\n    '--color-timeline-react-layout-effects': '#b281d6',\n    '--color-timeline-react-layout-effects-hover': '#9d71bd',\n    '--color-timeline-react-layout-effects-text': '#3e2c4a',\n    '--color-timeline-react-passive-effects': '#b281d6',\n    '--color-timeline-react-passive-effects-hover': '#9d71bd',\n    '--color-timeline-react-passive-effects-text': '#3e2c4a',\n    '--color-timeline-react-schedule': '#9fc3f3',\n    '--color-timeline-react-schedule-hover': '#2683E2',\n    '--color-timeline-react-suspense-rejected': '#f1cc14',\n    '--color-timeline-react-suspense-rejected-hover': '#ffdf37',\n    '--color-timeline-react-suspense-resolved': '#a6e59f',\n    '--color-timeline-react-suspense-resolved-hover': '#89d281',\n    '--color-timeline-react-suspense-unresolved': '#c9cacd',\n    '--color-timeline-react-suspense-unresolved-hover': '#93959a',\n    '--color-timeline-thrown-error': '#ee1638',\n    '--color-timeline-thrown-error-hover': '#da1030',\n    '--color-timeline-text-color': '#000000',\n    '--color-timeline-text-dim-color': '#ccc',\n    '--color-timeline-react-work-border': '#eeeeee',\n    '--color-search-match': 'yellow',\n    '--color-search-match-current': '#f7923b',\n    '--color-selected-tree-highlight-active': 'rgba(0, 136, 250, 0.1)',\n    '--color-selected-tree-highlight-inactive': 'rgba(0, 0, 0, 0.05)',\n    '--color-scroll-caret': 'rgba(150, 150, 150, 0.5)',\n    '--color-tab-selected-border': '#0088fa',\n    '--color-text': '#000000',\n    '--color-text-invalid': '#ff0000',\n    '--color-text-selected': '#ffffff',\n    '--color-toggle-background-invalid': '#fc3a4b',\n    '--color-toggle-background-on': '#0088fa',\n    '--color-toggle-background-off': '#cfd1d5',\n    '--color-toggle-text': '#ffffff',\n    '--color-warning-background': '#fb3655',\n    '--color-warning-background-hover': '#f82042',\n    '--color-warning-text-color': '#ffffff',\n    '--color-warning-text-color-inverted': '#fd4d69',\n\n    // The styles below should be kept in sync with 'root.css'\n    // They are repeated there because they're used by e.g. tooltips or context menus\n    // which get rendered outside of the DOM subtree (where normal theme/styles are written).\n    '--color-scroll-thumb': '#c2c2c2',\n    '--color-scroll-track': '#fafafa',\n    '--color-tooltip-background': 'rgba(0, 0, 0, 0.9)',\n    '--color-tooltip-text': '#ffffff',\n  },\n  dark: {\n    '--color-attribute-name': '#9d87d2',\n    '--color-attribute-name-not-editable': '#ededed',\n    '--color-attribute-name-inverted': '#282828',\n    '--color-attribute-value': '#cedae0',\n    '--color-attribute-value-inverted': '#ffffff',\n    '--color-attribute-editable-value': 'yellow',\n    '--color-background': '#282c34',\n    '--color-background-hover': 'rgba(255, 255, 255, 0.1)',\n    '--color-background-inactive': '#3d424a',\n    '--color-background-invalid': '#5c0000',\n    '--color-background-selected': '#178fb9',\n    '--color-button-background': '#282c34',\n    '--color-button-background-focus': '#3d424a',\n    '--color-button': '#afb3b9',\n    '--color-button-active': '#61dafb',\n    '--color-button-disabled': '#4f5766',\n    '--color-button-focus': '#a2e9fc',\n    '--color-button-hover': '#ededed',\n    '--color-border': '#3d424a',\n    '--color-commit-did-not-render-fill': '#777d88',\n    '--color-commit-did-not-render-fill-text': '#000000',\n    '--color-commit-did-not-render-pattern': '#666c77',\n    '--color-commit-did-not-render-pattern-text': '#ffffff',\n    '--color-commit-gradient-0': '#37afa9',\n    '--color-commit-gradient-1': '#63b19e',\n    '--color-commit-gradient-2': '#80b393',\n    '--color-commit-gradient-3': '#97b488',\n    '--color-commit-gradient-4': '#abb67d',\n    '--color-commit-gradient-5': '#beb771',\n    '--color-commit-gradient-6': '#cfb965',\n    '--color-commit-gradient-7': '#dfba57',\n    '--color-commit-gradient-8': '#efbb49',\n    '--color-commit-gradient-9': '#febc38',\n    '--color-commit-gradient-text': '#000000',\n    '--color-component-name': '#61dafb',\n    '--color-component-name-inverted': '#282828',\n    '--color-component-badge-background': 'rgba(255, 255, 255, 0.25)',\n    '--color-component-badge-background-inverted': 'rgba(0, 0, 0, 0.25)',\n    '--color-component-badge-count': '#8f949d',\n    '--color-component-badge-count-inverted': 'rgba(255, 255, 255, 0.7)',\n    '--color-console-error-badge-text': '#000000',\n    '--color-console-error-background': '#290000',\n    '--color-console-error-border': '#5c0000',\n    '--color-console-error-icon': '#eb3941',\n    '--color-console-error-text': '#fc7f7f',\n    '--color-console-warning-badge-text': '#000000',\n    '--color-console-warning-background': '#332b00',\n    '--color-console-warning-border': '#665500',\n    '--color-console-warning-icon': '#f4bd00',\n    '--color-console-warning-text': '#f5f2ed',\n    '--color-context-background': 'rgba(255,255,255,.95)',\n    '--color-context-background-hover': 'rgba(0, 136, 250, 0.1)',\n    '--color-context-background-selected': '#0088fa',\n    '--color-context-border': '#eeeeee',\n    '--color-context-text': '#000000',\n    '--color-context-text-selected': '#ffffff',\n    '--color-dim': '#8f949d',\n    '--color-dimmer': '#777d88',\n    '--color-dimmest': '#4f5766',\n    '--color-error-background': '#200',\n    '--color-error-border': '#900',\n    '--color-error-text': '#f55',\n    '--color-expand-collapse-toggle': '#8f949d',\n    '--color-link': '#61dafb',\n    '--color-modal-background': 'rgba(0, 0, 0, 0.75)',\n    '--color-bridge-version-npm-background': 'rgba(0, 0, 0, 0.25)',\n    '--color-bridge-version-npm-text': '#ffffff',\n    '--color-bridge-version-number': 'yellow',\n    '--color-primitive-hook-badge-background': 'rgba(0, 0, 0, 0.25)',\n    '--color-primitive-hook-badge-text': 'rgba(255, 255, 255, 0.7)',\n    '--color-record-active': '#fc3a4b',\n    '--color-record-hover': '#a2e9fc',\n    '--color-record-inactive': '#61dafb',\n    '--color-resize-bar': '#282c34',\n    '--color-resize-bar-active': '#31363f',\n    '--color-resize-bar-border': '#3d424a',\n    '--color-resize-bar-dot': '#cfd1d5',\n    '--color-timeline-internal-module': '#303542',\n    '--color-timeline-internal-module-hover': '#363b4a',\n    '--color-timeline-internal-module-text': '#7f8899',\n    '--color-timeline-native-event': '#b2b2b2',\n    '--color-timeline-native-event-hover': '#949494',\n    '--color-timeline-network-primary': '#fcf3dc',\n    '--color-timeline-network-primary-hover': '#e3dbc5',\n    '--color-timeline-network-secondary': '#efc457',\n    '--color-timeline-network-secondary-hover': '#d6af4d',\n    '--color-timeline-priority-background': '#1d2129',\n    '--color-timeline-priority-border': '#282c34',\n    '--color-timeline-user-timing': '#c9cacd',\n    '--color-timeline-user-timing-hover': '#93959a',\n    '--color-timeline-react-idle': '#3d485b',\n    '--color-timeline-react-idle-hover': '#465269',\n    '--color-timeline-react-render': '#2683E2',\n    '--color-timeline-react-render-hover': '#1a76d4',\n    '--color-timeline-react-render-text': '#11365e',\n    '--color-timeline-react-commit': '#731fad',\n    '--color-timeline-react-commit-hover': '#611b94',\n    '--color-timeline-react-commit-text': '#e5c1ff',\n    '--color-timeline-react-layout-effects': '#611b94',\n    '--color-timeline-react-layout-effects-hover': '#51167a',\n    '--color-timeline-react-layout-effects-text': '#e5c1ff',\n    '--color-timeline-react-passive-effects': '#611b94',\n    '--color-timeline-react-passive-effects-hover': '#51167a',\n    '--color-timeline-react-passive-effects-text': '#e5c1ff',\n    '--color-timeline-react-schedule': '#2683E2',\n    '--color-timeline-react-schedule-hover': '#1a76d4',\n    '--color-timeline-react-suspense-rejected': '#f1cc14',\n    '--color-timeline-react-suspense-rejected-hover': '#e4c00f',\n    '--color-timeline-react-suspense-resolved': '#a6e59f',\n    '--color-timeline-react-suspense-resolved-hover': '#89d281',\n    '--color-timeline-react-suspense-unresolved': '#c9cacd',\n    '--color-timeline-react-suspense-unresolved-hover': '#93959a',\n    '--color-timeline-thrown-error': '#fb3655',\n    '--color-timeline-thrown-error-hover': '#f82042',\n    '--color-timeline-text-color': '#282c34',\n    '--color-timeline-text-dim-color': '#555b66',\n    '--color-timeline-react-work-border': '#3d424a',\n    '--color-search-match': 'yellow',\n    '--color-search-match-current': '#f7923b',\n    '--color-selected-tree-highlight-active': 'rgba(23, 143, 185, 0.15)',\n    '--color-selected-tree-highlight-inactive': 'rgba(255, 255, 255, 0.05)',\n    '--color-scroll-caret': '#4f5766',\n    '--color-shadow': 'rgba(0, 0, 0, 0.5)',\n    '--color-tab-selected-border': '#178fb9',\n    '--color-text': '#ffffff',\n    '--color-text-invalid': '#ff8080',\n    '--color-text-selected': '#ffffff',\n    '--color-toggle-background-invalid': '#fc3a4b',\n    '--color-toggle-background-on': '#178fb9',\n    '--color-toggle-background-off': '#777d88',\n    '--color-toggle-text': '#ffffff',\n    '--color-warning-background': '#ee1638',\n    '--color-warning-background-hover': '#da1030',\n    '--color-warning-text-color': '#ffffff',\n    '--color-warning-text-color-inverted': '#ee1638',\n\n    // The styles below should be kept in sync with 'root.css'\n    // They are repeated there because they're used by e.g. tooltips or context menus\n    // which get rendered outside of the DOM subtree (where normal theme/styles are written).\n    '--color-scroll-thumb': '#afb3b9',\n    '--color-scroll-track': '#313640',\n    '--color-tooltip-background': 'rgba(255, 255, 255, 0.95)',\n    '--color-tooltip-text': '#000000',\n  },\n  compact: {\n    '--font-size-monospace-small': '9px',\n    '--font-size-monospace-normal': '11px',\n    '--font-size-monospace-large': '15px',\n    '--font-size-sans-small': '10px',\n    '--font-size-sans-normal': '12px',\n    '--font-size-sans-large': '14px',\n    '--line-height-data': '18px',\n  },\n  comfortable: {\n    '--font-size-monospace-small': '10px',\n    '--font-size-monospace-normal': '13px',\n    '--font-size-monospace-large': '17px',\n    '--font-size-sans-small': '12px',\n    '--font-size-sans-normal': '14px',\n    '--font-size-sans-large': '16px',\n    '--line-height-data': '22px',\n  },\n};\n\n// HACK\n//\n// Sometimes the inline target is rendered before root styles are applied,\n// which would result in e.g. NaN itemSize being passed to react-window list.\nconst COMFORTABLE_LINE_HEIGHT: number = parseInt(\n  THEME_STYLES.comfortable['--line-height-data'],\n  10,\n);\nconst COMPACT_LINE_HEIGHT: number = parseInt(\n  THEME_STYLES.compact['--line-height-data'],\n  10,\n);\n\nexport {COMFORTABLE_LINE_HEIGHT, COMPACT_LINE_HEIGHT};\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport {\n  COMFORTABLE_LINE_HEIGHT,\n  COMPACT_LINE_HEIGHT,\n} from 'react-devtools-shared/src/devtools/constants.js';\n\nexport const REACT_TOTAL_NUM_LANES = 31;\n\n// Increment this number any time a backwards breaking change is made to the profiler metadata.\nexport const SCHEDULING_PROFILER_VERSION = 1;\n\nexport const SNAPSHOT_MAX_HEIGHT = 60;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This is a DevTools fork of shared/ConsolePatchingDev.\n// The shared console patching code is DEV-only.\n// We can't use it since DevTools only ships production builds.\n\n// Helpers to patch console.logs to avoid logging during side-effect free\n// replaying on render function. This currently only patches the object\n// lazily which won't cover if the log function was extracted eagerly.\n// We could also eagerly patch the method.\n\nlet disabledDepth = 0;\nlet prevLog;\nlet prevInfo;\nlet prevWarn;\nlet prevError;\nlet prevGroup;\nlet prevGroupCollapsed;\nlet prevGroupEnd;\n\nfunction disabledLog() {}\ndisabledLog.__reactDisabledLog = true;\n\nexport function disableLogs(): void {\n  if (disabledDepth === 0) {\n    /* eslint-disable react-internal/no-production-logging */\n    prevLog = console.log;\n    prevInfo = console.info;\n    prevWarn = console.warn;\n    prevError = console.error;\n    prevGroup = console.group;\n    prevGroupCollapsed = console.groupCollapsed;\n    prevGroupEnd = console.groupEnd;\n    // https://github.com/facebook/react/issues/19099\n    const props = {\n      configurable: true,\n      enumerable: true,\n      value: disabledLog,\n      writable: true,\n    };\n    // $FlowFixMe[cannot-write] Flow thinks console is immutable.\n    Object.defineProperties(console, {\n      info: props,\n      log: props,\n      warn: props,\n      error: props,\n      group: props,\n      groupCollapsed: props,\n      groupEnd: props,\n    });\n    /* eslint-enable react-internal/no-production-logging */\n  }\n  disabledDepth++;\n}\n\nexport function reenableLogs(): void {\n  disabledDepth--;\n  if (disabledDepth === 0) {\n    /* eslint-disable react-internal/no-production-logging */\n    const props = {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n    };\n    // $FlowFixMe[cannot-write] Flow thinks console is immutable.\n    Object.defineProperties(console, {\n      log: {...props, value: prevLog},\n      info: {...props, value: prevInfo},\n      warn: {...props, value: prevWarn},\n      error: {...props, value: prevError},\n      group: {...props, value: prevGroup},\n      groupCollapsed: {...props, value: prevGroupCollapsed},\n      groupEnd: {...props, value: prevGroupEnd},\n    });\n    /* eslint-enable react-internal/no-production-logging */\n  }\n  if (disabledDepth < 0) {\n    console.error(\n      'disabledDepth fell below zero. ' +\n        'This is a bug in React. Please file an issue.',\n    );\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This is a DevTools fork of ReactComponentStackFrame.\n// This fork enables DevTools to use the same \"native\" component stack format,\n// while still maintaining support for multiple renderer versions\n// (which use different values for ReactTypeOfWork).\n\nimport type {LazyComponent} from 'react/src/ReactLazy';\nimport type {CurrentDispatcherRef} from './types';\n\nimport {\n  FORWARD_REF_NUMBER,\n  FORWARD_REF_SYMBOL_STRING,\n  LAZY_NUMBER,\n  LAZY_SYMBOL_STRING,\n  MEMO_NUMBER,\n  MEMO_SYMBOL_STRING,\n  SUSPENSE_NUMBER,\n  SUSPENSE_SYMBOL_STRING,\n  SUSPENSE_LIST_NUMBER,\n  SUSPENSE_LIST_SYMBOL_STRING,\n} from './ReactSymbols';\n\n// The shared console patching code is DEV-only.\n// We can't use it since DevTools only ships production builds.\nimport {disableLogs, reenableLogs} from './DevToolsConsolePatching';\n\nlet prefix;\nexport function describeBuiltInComponentFrame(\n  name: string,\n  ownerFn: void | null | Function,\n): string {\n  if (prefix === undefined) {\n    // Extract the VM specific prefix used by each line.\n    try {\n      throw Error();\n    } catch (x) {\n      const match = x.stack.trim().match(/\\n( *(at )?)/);\n      prefix = (match && match[1]) || '';\n    }\n  }\n  // We use the prefix to ensure our stacks line up with native stack frames.\n  return '\\n' + prefix + name;\n}\n\nlet reentry = false;\nlet componentFrameCache;\nif (__DEV__) {\n  const PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n  componentFrameCache = new PossiblyWeakMap<$FlowFixMe, string>();\n}\n\nexport function describeNativeComponentFrame(\n  fn: Function,\n  construct: boolean,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  // If something asked for a stack inside a fake render, it should get ignored.\n  if (!fn || reentry) {\n    return '';\n  }\n\n  if (__DEV__) {\n    const frame = componentFrameCache.get(fn);\n    if (frame !== undefined) {\n      return frame;\n    }\n  }\n\n  let control;\n\n  const previousPrepareStackTrace = Error.prepareStackTrace;\n  // $FlowFixMe[incompatible-type] It does accept undefined.\n  Error.prepareStackTrace = undefined;\n\n  reentry = true;\n\n  // Override the dispatcher so effects scheduled by this shallow render are thrown away.\n  //\n  // Note that unlike the code this was forked from (in ReactComponentStackFrame)\n  // DevTools should override the dispatcher even when DevTools is compiled in production mode,\n  // because the app itself may be in development mode and log errors/warnings.\n  const previousDispatcher = currentDispatcherRef.current;\n  currentDispatcherRef.current = null;\n  disableLogs();\n\n  try {\n    // This should throw.\n    if (construct) {\n      // Something should be setting the props in the constructor.\n      const Fake = function () {\n        throw Error();\n      };\n      // $FlowFixMe[prop-missing]\n      Object.defineProperty(Fake.prototype, 'props', {\n        set: function () {\n          // We use a throwing setter instead of frozen or non-writable props\n          // because that won't throw in a non-strict mode function.\n          throw Error();\n        },\n      });\n      if (typeof Reflect === 'object' && Reflect.construct) {\n        // We construct a different control for this case to include any extra\n        // frames added by the construct call.\n        try {\n          Reflect.construct(Fake, []);\n        } catch (x) {\n          control = x;\n        }\n        Reflect.construct(fn, [], Fake);\n      } else {\n        try {\n          Fake.call();\n        } catch (x) {\n          control = x;\n        }\n        // $FlowFixMe[prop-missing] found when upgrading Flow\n        fn.call(Fake.prototype);\n      }\n    } else {\n      try {\n        throw Error();\n      } catch (x) {\n        control = x;\n      }\n      fn();\n    }\n  } catch (sample) {\n    // This is inlined manually because closure doesn't do it for us.\n    if (sample && control && typeof sample.stack === 'string') {\n      // This extracts the first frame from the sample that isn't also in the control.\n      // Skipping one frame that we assume is the frame that calls the two.\n      const sampleLines = sample.stack.split('\\n');\n      const controlLines = control.stack.split('\\n');\n      let s = sampleLines.length - 1;\n      let c = controlLines.length - 1;\n      while (s >= 1 && c >= 0 && sampleLines[s] !== controlLines[c]) {\n        // We expect at least one stack frame to be shared.\n        // Typically this will be the root most one. However, stack frames may be\n        // cut off due to maximum stack limits. In this case, one maybe cut off\n        // earlier than the other. We assume that the sample is longer or the same\n        // and there for cut off earlier. So we should find the root most frame in\n        // the sample somewhere in the control.\n        c--;\n      }\n      for (; s >= 1 && c >= 0; s--, c--) {\n        // Next we find the first one that isn't the same which should be the\n        // frame that called our sample function and the control.\n        if (sampleLines[s] !== controlLines[c]) {\n          // In V8, the first line is describing the message but other VMs don't.\n          // If we're about to return the first line, and the control is also on the same\n          // line, that's a pretty good indicator that our sample threw at same line as\n          // the control. I.e. before we entered the sample frame. So we ignore this result.\n          // This can happen if you passed a class to function component, or non-function.\n          if (s !== 1 || c !== 1) {\n            do {\n              s--;\n              c--;\n              // We may still have similar intermediate frames from the construct call.\n              // The next one that isn't the same should be our match though.\n              if (c < 0 || sampleLines[s] !== controlLines[c]) {\n                // V8 adds a \"new\" prefix for native classes. Let's remove it to make it prettier.\n                const frame = '\\n' + sampleLines[s].replace(' at new ', ' at ');\n                if (__DEV__) {\n                  if (typeof fn === 'function') {\n                    componentFrameCache.set(fn, frame);\n                  }\n                }\n                // Return the line we found.\n                return frame;\n              }\n            } while (s >= 1 && c >= 0);\n          }\n          break;\n        }\n      }\n    }\n  } finally {\n    reentry = false;\n\n    Error.prepareStackTrace = previousPrepareStackTrace;\n\n    currentDispatcherRef.current = previousDispatcher;\n    reenableLogs();\n  }\n  // Fallback to just using the name if we couldn't make it throw.\n  const name = fn ? fn.displayName || fn.name : '';\n  const syntheticFrame = name ? describeBuiltInComponentFrame(name) : '';\n  if (__DEV__) {\n    if (typeof fn === 'function') {\n      componentFrameCache.set(fn, syntheticFrame);\n    }\n  }\n  return syntheticFrame;\n}\n\nexport function describeClassComponentFrame(\n  ctor: Function,\n  ownerFn: void | null | Function,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  return describeNativeComponentFrame(ctor, true, currentDispatcherRef);\n}\n\nexport function describeFunctionComponentFrame(\n  fn: Function,\n  ownerFn: void | null | Function,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  return describeNativeComponentFrame(fn, false, currentDispatcherRef);\n}\n\nfunction shouldConstruct(Component: Function) {\n  const prototype = Component.prototype;\n  return !!(prototype && prototype.isReactComponent);\n}\n\nexport function describeUnknownElementTypeFrameInDEV(\n  type: any,\n  ownerFn: void | null | Function,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  if (!__DEV__) {\n    return '';\n  }\n  if (type == null) {\n    return '';\n  }\n  if (typeof type === 'function') {\n    return describeNativeComponentFrame(\n      type,\n      shouldConstruct(type),\n      currentDispatcherRef,\n    );\n  }\n  if (typeof type === 'string') {\n    return describeBuiltInComponentFrame(type, ownerFn);\n  }\n  switch (type) {\n    case SUSPENSE_NUMBER:\n    case SUSPENSE_SYMBOL_STRING:\n      return describeBuiltInComponentFrame('Suspense', ownerFn);\n    case SUSPENSE_LIST_NUMBER:\n    case SUSPENSE_LIST_SYMBOL_STRING:\n      return describeBuiltInComponentFrame('SuspenseList', ownerFn);\n  }\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case FORWARD_REF_NUMBER:\n      case FORWARD_REF_SYMBOL_STRING:\n        return describeFunctionComponentFrame(\n          type.render,\n          ownerFn,\n          currentDispatcherRef,\n        );\n      case MEMO_NUMBER:\n      case MEMO_SYMBOL_STRING:\n        // Memo may contain any component type so we recursively resolve it.\n        return describeUnknownElementTypeFrameInDEV(\n          type.type,\n          ownerFn,\n          currentDispatcherRef,\n        );\n      case LAZY_NUMBER:\n      case LAZY_SYMBOL_STRING: {\n        const lazyComponent: LazyComponent<any, any> = (type: any);\n        const payload = lazyComponent._payload;\n        const init = lazyComponent._init;\n        try {\n          // Lazy may contain any component type so we recursively resolve it.\n          return describeUnknownElementTypeFrameInDEV(\n            init(payload),\n            ownerFn,\n            currentDispatcherRef,\n          );\n        } catch (x) {}\n      }\n    }\n  }\n  return '';\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\n// This is a DevTools fork of ReactFiberComponentStack.\n// This fork enables DevTools to use the same \"native\" component stack format,\n// while still maintaining support for multiple renderer versions\n// (which use different values for ReactTypeOfWork).\n\nimport type {Fiber} from 'react-reconciler/src/ReactInternalTypes';\nimport type {CurrentDispatcherRef, WorkTagMap} from './types';\n\nimport {\n  describeBuiltInComponentFrame,\n  describeFunctionComponentFrame,\n  describeClassComponentFrame,\n} from './DevToolsComponentStackFrame';\n\nexport function describeFiber(\n  workTagMap: WorkTagMap,\n  workInProgress: Fiber,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  const {\n    HostComponent,\n    LazyComponent,\n    SuspenseComponent,\n    SuspenseListComponent,\n    FunctionComponent,\n    IndeterminateComponent,\n    SimpleMemoComponent,\n    ForwardRef,\n    ClassComponent,\n  } = workTagMap;\n\n  const owner: null | Function = __DEV__\n    ? workInProgress._debugOwner\n      ? workInProgress._debugOwner.type\n      : null\n    : null;\n  switch (workInProgress.tag) {\n    case HostComponent:\n      return describeBuiltInComponentFrame(workInProgress.type, owner);\n    case LazyComponent:\n      return describeBuiltInComponentFrame('Lazy', owner);\n    case SuspenseComponent:\n      return describeBuiltInComponentFrame('Suspense', owner);\n    case SuspenseListComponent:\n      return describeBuiltInComponentFrame('SuspenseList', owner);\n    case FunctionComponent:\n    case IndeterminateComponent:\n    case SimpleMemoComponent:\n      return describeFunctionComponentFrame(\n        workInProgress.type,\n        owner,\n        currentDispatcherRef,\n      );\n    case ForwardRef:\n      return describeFunctionComponentFrame(\n        workInProgress.type.render,\n        owner,\n        currentDispatcherRef,\n      );\n    case ClassComponent:\n      return describeClassComponentFrame(\n        workInProgress.type,\n        owner,\n        currentDispatcherRef,\n      );\n    default:\n      return '';\n  }\n}\n\nexport function getStackByFiberInDevAndProd(\n  workTagMap: WorkTagMap,\n  workInProgress: Fiber,\n  currentDispatcherRef: CurrentDispatcherRef,\n): string {\n  try {\n    let info = '';\n    let node: Fiber = workInProgress;\n    do {\n      info += describeFiber(workTagMap, node, currentDispatcherRef);\n      // $FlowFixMe[incompatible-type] we bail out when we get a null\n      node = node.return;\n    } while (node);\n    return info;\n  } catch (x) {\n    return '\\nError generating stack: ' + x.message + '\\n' + x.stack;\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {\n  Lane,\n  Lanes,\n  DevToolsProfilingHooks,\n  WorkTagMap,\n  CurrentDispatcherRef,\n} from 'react-devtools-shared/src/backend/types';\nimport type {Fiber} from 'react-reconciler/src/ReactInternalTypes';\nimport type {Wakeable} from 'shared/ReactTypes';\nimport type {\n  BatchUID,\n  InternalModuleSourceToRanges,\n  LaneToLabelMap,\n  ReactComponentMeasure,\n  ReactLane,\n  ReactMeasure,\n  ReactMeasureType,\n  ReactScheduleStateUpdateEvent,\n  SchedulingEvent,\n  SuspenseEvent,\n  TimelineData,\n} from 'react-devtools-timeline/src/types';\n\nimport isArray from 'shared/isArray';\nimport {\n  REACT_TOTAL_NUM_LANES,\n  SCHEDULING_PROFILER_VERSION,\n} from 'react-devtools-timeline/src/constants';\nimport {describeFiber} from './DevToolsFiberComponentStack';\n\n// Add padding to the start/stop time of the profile.\n// This makes the UI nicer to use.\nconst TIME_OFFSET = 10;\n\nlet performanceTarget: Performance | null = null;\n\n// If performance exists and supports the subset of the User Timing API that we require.\nlet supportsUserTiming =\n  typeof performance !== 'undefined' &&\n  // $FlowFixMe[method-unbinding]\n  typeof performance.mark === 'function' &&\n  // $FlowFixMe[method-unbinding]\n  typeof performance.clearMarks === 'function';\n\nlet supportsUserTimingV3 = false;\nif (supportsUserTiming) {\n  const CHECK_V3_MARK = '__v3';\n  const markOptions: {\n    detail?: mixed,\n    startTime?: number,\n  } = {};\n  Object.defineProperty(markOptions, 'startTime', {\n    get: function () {\n      supportsUserTimingV3 = true;\n      return 0;\n    },\n    set: function () {},\n  });\n\n  try {\n    performance.mark(CHECK_V3_MARK, markOptions);\n  } catch (error) {\n    // Ignore\n  } finally {\n    performance.clearMarks(CHECK_V3_MARK);\n  }\n}\n\nif (supportsUserTimingV3) {\n  performanceTarget = performance;\n}\n\n// Some environments (e.g. React Native / Hermes) don't support the performance API yet.\nconst getCurrentTime =\n  // $FlowFixMe[method-unbinding]\n  typeof performance === 'object' && typeof performance.now === 'function'\n    ? () => performance.now()\n    : () => Date.now();\n\n// Mocking the Performance Object (and User Timing APIs) for testing is fragile.\n// This API allows tests to directly override the User Timing APIs.\nexport function setPerformanceMock_ONLY_FOR_TESTING(\n  performanceMock: Performance | null,\n) {\n  performanceTarget = performanceMock;\n  supportsUserTiming = performanceMock !== null;\n  supportsUserTimingV3 = performanceMock !== null;\n}\n\nexport type GetTimelineData = () => TimelineData | null;\nexport type ToggleProfilingStatus = (value: boolean) => void;\n\ntype Response = {\n  getTimelineData: GetTimelineData,\n  profilingHooks: DevToolsProfilingHooks,\n  toggleProfilingStatus: ToggleProfilingStatus,\n};\n\nexport function createProfilingHooks({\n  getDisplayNameForFiber,\n  getIsProfiling,\n  getLaneLabelMap,\n  workTagMap,\n  currentDispatcherRef,\n  reactVersion,\n}: {\n  getDisplayNameForFiber: (fiber: Fiber) => string | null,\n  getIsProfiling: () => boolean,\n  getLaneLabelMap?: () => Map<Lane, string> | null,\n  currentDispatcherRef?: CurrentDispatcherRef,\n  workTagMap: WorkTagMap,\n  reactVersion: string,\n}): Response {\n  let currentBatchUID: BatchUID = 0;\n  let currentReactComponentMeasure: ReactComponentMeasure | null = null;\n  let currentReactMeasuresStack: Array<ReactMeasure> = [];\n  let currentTimelineData: TimelineData | null = null;\n  let currentFiberStacks: Map<SchedulingEvent, Array<Fiber>> = new Map();\n  let isProfiling: boolean = false;\n  let nextRenderShouldStartNewBatch: boolean = false;\n\n  function getRelativeTime() {\n    const currentTime = getCurrentTime();\n\n    if (currentTimelineData) {\n      if (currentTimelineData.startTime === 0) {\n        currentTimelineData.startTime = currentTime - TIME_OFFSET;\n      }\n\n      return currentTime - currentTimelineData.startTime;\n    }\n\n    return 0;\n  }\n\n  function getInternalModuleRanges() {\n    /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n    if (\n      typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== 'undefined' &&\n      typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.getInternalModuleRanges ===\n        'function'\n    ) {\n      // Ask the DevTools hook for module ranges that may have been reported by the current renderer(s).\n      // Don't do this eagerly like the laneToLabelMap,\n      // because some modules might not yet have registered their boundaries when the renderer is injected.\n      const ranges = __REACT_DEVTOOLS_GLOBAL_HOOK__.getInternalModuleRanges();\n\n      // This check would not be required,\n      // except that it's possible for things to override __REACT_DEVTOOLS_GLOBAL_HOOK__.\n      if (isArray(ranges)) {\n        return ranges;\n      }\n    }\n\n    return null;\n  }\n\n  function getTimelineData(): TimelineData | null {\n    return currentTimelineData;\n  }\n\n  function laneToLanesArray(lanes: Lane) {\n    const lanesArray = [];\n\n    let lane = 1;\n    for (let index = 0; index < REACT_TOTAL_NUM_LANES; index++) {\n      if (lane & lanes) {\n        lanesArray.push(lane);\n      }\n      lane *= 2;\n    }\n\n    return lanesArray;\n  }\n\n  const laneToLabelMap: LaneToLabelMap | null =\n    typeof getLaneLabelMap === 'function' ? getLaneLabelMap() : null;\n\n  function markMetadata() {\n    markAndClear(`--react-version-${reactVersion}`);\n    markAndClear(`--profiler-version-${SCHEDULING_PROFILER_VERSION}`);\n\n    const ranges = getInternalModuleRanges();\n    if (ranges) {\n      for (let i = 0; i < ranges.length; i++) {\n        const range = ranges[i];\n        if (isArray(range) && range.length === 2) {\n          const [startStackFrame, stopStackFrame] = ranges[i];\n\n          markAndClear(`--react-internal-module-start-${startStackFrame}`);\n          markAndClear(`--react-internal-module-stop-${stopStackFrame}`);\n        }\n      }\n    }\n\n    if (laneToLabelMap != null) {\n      const labels = Array.from(laneToLabelMap.values()).join(',');\n      markAndClear(`--react-lane-labels-${labels}`);\n    }\n  }\n\n  function markAndClear(markName: string) {\n    // This method won't be called unless these functions are defined, so we can skip the extra typeof check.\n    ((performanceTarget: any): Performance).mark(markName);\n    ((performanceTarget: any): Performance).clearMarks(markName);\n  }\n\n  function recordReactMeasureStarted(\n    type: ReactMeasureType,\n    lanes: Lanes,\n  ): void {\n    // Decide what depth thi work should be rendered at, based on what's on the top of the stack.\n    // It's okay to render over top of \"idle\" work but everything else should be on its own row.\n    let depth = 0;\n    if (currentReactMeasuresStack.length > 0) {\n      const top =\n        currentReactMeasuresStack[currentReactMeasuresStack.length - 1];\n      depth = top.type === 'render-idle' ? top.depth : top.depth + 1;\n    }\n\n    const lanesArray = laneToLanesArray(lanes);\n\n    const reactMeasure: ReactMeasure = {\n      type,\n      batchUID: currentBatchUID,\n      depth,\n      lanes: lanesArray,\n      timestamp: getRelativeTime(),\n      duration: 0,\n    };\n\n    currentReactMeasuresStack.push(reactMeasure);\n\n    if (currentTimelineData) {\n      const {batchUIDToMeasuresMap, laneToReactMeasureMap} =\n        currentTimelineData;\n\n      let reactMeasures = batchUIDToMeasuresMap.get(currentBatchUID);\n      if (reactMeasures != null) {\n        reactMeasures.push(reactMeasure);\n      } else {\n        batchUIDToMeasuresMap.set(currentBatchUID, [reactMeasure]);\n      }\n\n      lanesArray.forEach(lane => {\n        reactMeasures = laneToReactMeasureMap.get(lane);\n        if (reactMeasures) {\n          reactMeasures.push(reactMeasure);\n        }\n      });\n    }\n  }\n\n  function recordReactMeasureCompleted(type: ReactMeasureType): void {\n    const currentTime = getRelativeTime();\n\n    if (currentReactMeasuresStack.length === 0) {\n      console.error(\n        'Unexpected type \"%s\" completed at %sms while currentReactMeasuresStack is empty.',\n        type,\n        currentTime,\n      );\n      // Ignore work \"completion\" user timing mark that doesn't complete anything\n      return;\n    }\n\n    const top = currentReactMeasuresStack.pop();\n    if (top.type !== type) {\n      console.error(\n        'Unexpected type \"%s\" completed at %sms before \"%s\" completed.',\n        type,\n        currentTime,\n        top.type,\n      );\n    }\n\n    // $FlowFixMe[cannot-write] This property should not be writable outside of this function.\n    top.duration = currentTime - top.timestamp;\n\n    if (currentTimelineData) {\n      currentTimelineData.duration = getRelativeTime() + TIME_OFFSET;\n    }\n  }\n\n  function markCommitStarted(lanes: Lanes): void {\n    if (isProfiling) {\n      recordReactMeasureStarted('commit', lanes);\n\n      // TODO (timeline) Re-think this approach to \"batching\"; I don't think it works for Suspense or pre-rendering.\n      // This issue applies to the User Timing data also.\n      nextRenderShouldStartNewBatch = true;\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--commit-start-${lanes}`);\n\n      // Some metadata only needs to be logged once per session,\n      // but if profiling information is being recorded via the Performance tab,\n      // DevTools has no way of knowing when the recording starts.\n      // Because of that, we log thie type of data periodically (once per commit).\n      markMetadata();\n    }\n  }\n\n  function markCommitStopped(): void {\n    if (isProfiling) {\n      recordReactMeasureCompleted('commit');\n      recordReactMeasureCompleted('render-idle');\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--commit-stop');\n    }\n  }\n\n  function markComponentRenderStarted(fiber: Fiber): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (isProfiling) {\n          currentReactComponentMeasure = {\n            componentName,\n            duration: 0,\n            timestamp: getRelativeTime(),\n            type: 'render',\n            warning: null,\n          };\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(`--component-render-start-${componentName}`);\n      }\n    }\n  }\n\n  function markComponentRenderStopped(): void {\n    if (isProfiling) {\n      if (currentReactComponentMeasure) {\n        if (currentTimelineData) {\n          currentTimelineData.componentMeasures.push(\n            currentReactComponentMeasure,\n          );\n        }\n\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentReactComponentMeasure.duration =\n          // $FlowFixMe[incompatible-use] found when upgrading Flow\n          getRelativeTime() - currentReactComponentMeasure.timestamp;\n        currentReactComponentMeasure = null;\n      }\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--component-render-stop');\n    }\n  }\n\n  function markComponentLayoutEffectMountStarted(fiber: Fiber): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (isProfiling) {\n          currentReactComponentMeasure = {\n            componentName,\n            duration: 0,\n            timestamp: getRelativeTime(),\n            type: 'layout-effect-mount',\n            warning: null,\n          };\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(`--component-layout-effect-mount-start-${componentName}`);\n      }\n    }\n  }\n\n  function markComponentLayoutEffectMountStopped(): void {\n    if (isProfiling) {\n      if (currentReactComponentMeasure) {\n        if (currentTimelineData) {\n          currentTimelineData.componentMeasures.push(\n            currentReactComponentMeasure,\n          );\n        }\n\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentReactComponentMeasure.duration =\n          // $FlowFixMe[incompatible-use] found when upgrading Flow\n          getRelativeTime() - currentReactComponentMeasure.timestamp;\n        currentReactComponentMeasure = null;\n      }\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--component-layout-effect-mount-stop');\n    }\n  }\n\n  function markComponentLayoutEffectUnmountStarted(fiber: Fiber): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (isProfiling) {\n          currentReactComponentMeasure = {\n            componentName,\n            duration: 0,\n            timestamp: getRelativeTime(),\n            type: 'layout-effect-unmount',\n            warning: null,\n          };\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(\n          `--component-layout-effect-unmount-start-${componentName}`,\n        );\n      }\n    }\n  }\n\n  function markComponentLayoutEffectUnmountStopped(): void {\n    if (isProfiling) {\n      if (currentReactComponentMeasure) {\n        if (currentTimelineData) {\n          currentTimelineData.componentMeasures.push(\n            currentReactComponentMeasure,\n          );\n        }\n\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentReactComponentMeasure.duration =\n          // $FlowFixMe[incompatible-use] found when upgrading Flow\n          getRelativeTime() - currentReactComponentMeasure.timestamp;\n        currentReactComponentMeasure = null;\n      }\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--component-layout-effect-unmount-stop');\n    }\n  }\n\n  function markComponentPassiveEffectMountStarted(fiber: Fiber): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (isProfiling) {\n          currentReactComponentMeasure = {\n            componentName,\n            duration: 0,\n            timestamp: getRelativeTime(),\n            type: 'passive-effect-mount',\n            warning: null,\n          };\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(`--component-passive-effect-mount-start-${componentName}`);\n      }\n    }\n  }\n\n  function markComponentPassiveEffectMountStopped(): void {\n    if (isProfiling) {\n      if (currentReactComponentMeasure) {\n        if (currentTimelineData) {\n          currentTimelineData.componentMeasures.push(\n            currentReactComponentMeasure,\n          );\n        }\n\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentReactComponentMeasure.duration =\n          // $FlowFixMe[incompatible-use] found when upgrading Flow\n          getRelativeTime() - currentReactComponentMeasure.timestamp;\n        currentReactComponentMeasure = null;\n      }\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--component-passive-effect-mount-stop');\n    }\n  }\n\n  function markComponentPassiveEffectUnmountStarted(fiber: Fiber): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (isProfiling) {\n          currentReactComponentMeasure = {\n            componentName,\n            duration: 0,\n            timestamp: getRelativeTime(),\n            type: 'passive-effect-unmount',\n            warning: null,\n          };\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(\n          `--component-passive-effect-unmount-start-${componentName}`,\n        );\n      }\n    }\n  }\n\n  function markComponentPassiveEffectUnmountStopped(): void {\n    if (isProfiling) {\n      if (currentReactComponentMeasure) {\n        if (currentTimelineData) {\n          currentTimelineData.componentMeasures.push(\n            currentReactComponentMeasure,\n          );\n        }\n\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentReactComponentMeasure.duration =\n          // $FlowFixMe[incompatible-use] found when upgrading Flow\n          getRelativeTime() - currentReactComponentMeasure.timestamp;\n        currentReactComponentMeasure = null;\n      }\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--component-passive-effect-unmount-stop');\n    }\n  }\n\n  function markComponentErrored(\n    fiber: Fiber,\n    thrownValue: mixed,\n    lanes: Lanes,\n  ): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n      const phase = fiber.alternate === null ? 'mount' : 'update';\n\n      let message = '';\n      if (\n        thrownValue !== null &&\n        typeof thrownValue === 'object' &&\n        typeof thrownValue.message === 'string'\n      ) {\n        message = thrownValue.message;\n      } else if (typeof thrownValue === 'string') {\n        message = thrownValue;\n      }\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (currentTimelineData) {\n          currentTimelineData.thrownErrors.push({\n            componentName,\n            message,\n            phase,\n            timestamp: getRelativeTime(),\n            type: 'thrown-error',\n          });\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(`--error-${componentName}-${phase}-${message}`);\n      }\n    }\n  }\n\n  const PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n\n  // $FlowFixMe[incompatible-type]: Flow cannot handle polymorphic WeakMaps\n  const wakeableIDs: WeakMap<Wakeable, number> = new PossiblyWeakMap();\n  let wakeableID: number = 0;\n  function getWakeableID(wakeable: Wakeable): number {\n    if (!wakeableIDs.has(wakeable)) {\n      wakeableIDs.set(wakeable, wakeableID++);\n    }\n    return ((wakeableIDs.get(wakeable): any): number);\n  }\n\n  function markComponentSuspended(\n    fiber: Fiber,\n    wakeable: Wakeable,\n    lanes: Lanes,\n  ): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const eventType = wakeableIDs.has(wakeable) ? 'resuspend' : 'suspend';\n      const id = getWakeableID(wakeable);\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n      const phase = fiber.alternate === null ? 'mount' : 'update';\n\n      // Following the non-standard fn.displayName convention,\n      // frameworks like Relay may also annotate Promises with a displayName,\n      // describing what operation/data the thrown Promise is related to.\n      // When this is available we should pass it along to the Timeline.\n      const displayName = (wakeable: any).displayName || '';\n\n      let suspenseEvent: SuspenseEvent | null = null;\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        suspenseEvent = {\n          componentName,\n          depth: 0,\n          duration: 0,\n          id: `${id}`,\n          phase,\n          promiseName: displayName,\n          resolution: 'unresolved',\n          timestamp: getRelativeTime(),\n          type: 'suspense',\n          warning: null,\n        };\n\n        if (currentTimelineData) {\n          currentTimelineData.suspenseEvents.push(suspenseEvent);\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(\n          `--suspense-${eventType}-${id}-${componentName}-${phase}-${lanes}-${displayName}`,\n        );\n      }\n\n      wakeable.then(\n        () => {\n          if (suspenseEvent) {\n            suspenseEvent.duration =\n              getRelativeTime() - suspenseEvent.timestamp;\n            suspenseEvent.resolution = 'resolved';\n          }\n\n          if (supportsUserTimingV3) {\n            markAndClear(`--suspense-resolved-${id}-${componentName}`);\n          }\n        },\n        () => {\n          if (suspenseEvent) {\n            suspenseEvent.duration =\n              getRelativeTime() - suspenseEvent.timestamp;\n            suspenseEvent.resolution = 'rejected';\n          }\n\n          if (supportsUserTimingV3) {\n            markAndClear(`--suspense-rejected-${id}-${componentName}`);\n          }\n        },\n      );\n    }\n  }\n\n  function markLayoutEffectsStarted(lanes: Lanes): void {\n    if (isProfiling) {\n      recordReactMeasureStarted('layout-effects', lanes);\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--layout-effects-start-${lanes}`);\n    }\n  }\n\n  function markLayoutEffectsStopped(): void {\n    if (isProfiling) {\n      recordReactMeasureCompleted('layout-effects');\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--layout-effects-stop');\n    }\n  }\n\n  function markPassiveEffectsStarted(lanes: Lanes): void {\n    if (isProfiling) {\n      recordReactMeasureStarted('passive-effects', lanes);\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--passive-effects-start-${lanes}`);\n    }\n  }\n\n  function markPassiveEffectsStopped(): void {\n    if (isProfiling) {\n      recordReactMeasureCompleted('passive-effects');\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--passive-effects-stop');\n    }\n  }\n\n  function markRenderStarted(lanes: Lanes): void {\n    if (isProfiling) {\n      if (nextRenderShouldStartNewBatch) {\n        nextRenderShouldStartNewBatch = false;\n        currentBatchUID++;\n      }\n\n      // If this is a new batch of work, wrap an \"idle\" measure around it.\n      // Log it before the \"render\" measure to preserve the stack ordering.\n      if (\n        currentReactMeasuresStack.length === 0 ||\n        currentReactMeasuresStack[currentReactMeasuresStack.length - 1].type !==\n          'render-idle'\n      ) {\n        recordReactMeasureStarted('render-idle', lanes);\n      }\n\n      recordReactMeasureStarted('render', lanes);\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--render-start-${lanes}`);\n    }\n  }\n\n  function markRenderYielded(): void {\n    if (isProfiling) {\n      recordReactMeasureCompleted('render');\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--render-yield');\n    }\n  }\n\n  function markRenderStopped(): void {\n    if (isProfiling) {\n      recordReactMeasureCompleted('render');\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear('--render-stop');\n    }\n  }\n\n  function markRenderScheduled(lane: Lane): void {\n    if (isProfiling) {\n      if (currentTimelineData) {\n        currentTimelineData.schedulingEvents.push({\n          lanes: laneToLanesArray(lane),\n          timestamp: getRelativeTime(),\n          type: 'schedule-render',\n          warning: null,\n        });\n      }\n    }\n\n    if (supportsUserTimingV3) {\n      markAndClear(`--schedule-render-${lane}`);\n    }\n  }\n\n  function markForceUpdateScheduled(fiber: Fiber, lane: Lane): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (currentTimelineData) {\n          currentTimelineData.schedulingEvents.push({\n            componentName,\n            lanes: laneToLanesArray(lane),\n            timestamp: getRelativeTime(),\n            type: 'schedule-force-update',\n            warning: null,\n          });\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(`--schedule-forced-update-${lane}-${componentName}`);\n      }\n    }\n  }\n\n  function getParentFibers(fiber: Fiber): Array<Fiber> {\n    const parents = [];\n    let parent: null | Fiber = fiber;\n    while (parent !== null) {\n      parents.push(parent);\n      parent = parent.return;\n    }\n    return parents;\n  }\n\n  function markStateUpdateScheduled(fiber: Fiber, lane: Lane): void {\n    if (isProfiling || supportsUserTimingV3) {\n      const componentName = getDisplayNameForFiber(fiber) || 'Unknown';\n\n      if (isProfiling) {\n        // TODO (timeline) Record and cache component stack\n        if (currentTimelineData) {\n          const event: ReactScheduleStateUpdateEvent = {\n            componentName,\n            // Store the parent fibers so we can post process\n            // them after we finish profiling\n            lanes: laneToLanesArray(lane),\n            timestamp: getRelativeTime(),\n            type: 'schedule-state-update',\n            warning: null,\n          };\n          currentFiberStacks.set(event, getParentFibers(fiber));\n          // $FlowFixMe[incompatible-use] found when upgrading Flow\n          currentTimelineData.schedulingEvents.push(event);\n        }\n      }\n\n      if (supportsUserTimingV3) {\n        markAndClear(`--schedule-state-update-${lane}-${componentName}`);\n      }\n    }\n  }\n\n  function toggleProfilingStatus(value: boolean) {\n    if (isProfiling !== value) {\n      isProfiling = value;\n\n      if (isProfiling) {\n        const internalModuleSourceToRanges: InternalModuleSourceToRanges =\n          new Map();\n\n        if (supportsUserTimingV3) {\n          const ranges = getInternalModuleRanges();\n          if (ranges) {\n            for (let i = 0; i < ranges.length; i++) {\n              const range = ranges[i];\n              if (isArray(range) && range.length === 2) {\n                const [startStackFrame, stopStackFrame] = ranges[i];\n\n                markAndClear(\n                  `--react-internal-module-start-${startStackFrame}`,\n                );\n                markAndClear(`--react-internal-module-stop-${stopStackFrame}`);\n              }\n            }\n          }\n        }\n\n        const laneToReactMeasureMap = new Map<ReactLane, ReactMeasure[]>();\n        let lane = 1;\n        for (let index = 0; index < REACT_TOTAL_NUM_LANES; index++) {\n          laneToReactMeasureMap.set(lane, []);\n          lane *= 2;\n        }\n\n        currentBatchUID = 0;\n        currentReactComponentMeasure = null;\n        currentReactMeasuresStack = [];\n        currentFiberStacks = new Map();\n        currentTimelineData = {\n          // Session wide metadata; only collected once.\n          internalModuleSourceToRanges,\n          laneToLabelMap: laneToLabelMap || new Map(),\n          reactVersion,\n\n          // Data logged by React during profiling session.\n          componentMeasures: [],\n          schedulingEvents: [],\n          suspenseEvents: [],\n          thrownErrors: [],\n\n          // Data inferred based on what React logs.\n          batchUIDToMeasuresMap: new Map(),\n          duration: 0,\n          laneToReactMeasureMap,\n          startTime: 0,\n\n          // Data only available in Chrome profiles.\n          flamechart: [],\n          nativeEvents: [],\n          networkMeasures: [],\n          otherUserTimingMarks: [],\n          snapshots: [],\n          snapshotHeight: 0,\n        };\n        nextRenderShouldStartNewBatch = true;\n      } else {\n        // Postprocess Profile data\n        if (currentTimelineData !== null) {\n          currentTimelineData.schedulingEvents.forEach(event => {\n            if (event.type === 'schedule-state-update') {\n              // TODO(luna): We can optimize this by creating a map of\n              // fiber to component stack instead of generating the stack\n              // for every fiber every time\n              const fiberStack = currentFiberStacks.get(event);\n              if (fiberStack && currentDispatcherRef != null) {\n                event.componentStack = fiberStack.reduce((trace, fiber) => {\n                  return (\n                    trace +\n                    describeFiber(workTagMap, fiber, currentDispatcherRef)\n                  );\n                }, '');\n              }\n            }\n          });\n        }\n\n        // Clear the current fiber stacks so we don't hold onto the fibers\n        // in memory after profiling finishes\n        currentFiberStacks.clear();\n      }\n    }\n  }\n\n  return {\n    getTimelineData,\n    profilingHooks: {\n      markCommitStarted,\n      markCommitStopped,\n      markComponentRenderStarted,\n      markComponentRenderStopped,\n      markComponentPassiveEffectMountStarted,\n      markComponentPassiveEffectMountStopped,\n      markComponentPassiveEffectUnmountStarted,\n      markComponentPassiveEffectUnmountStopped,\n      markComponentLayoutEffectMountStarted,\n      markComponentLayoutEffectMountStopped,\n      markComponentLayoutEffectUnmountStarted,\n      markComponentLayoutEffectUnmountStopped,\n      markComponentErrored,\n      markComponentSuspended,\n      markLayoutEffectsStarted,\n      markLayoutEffectsStopped,\n      markPassiveEffectsStarted,\n      markPassiveEffectsStopped,\n      markRenderStarted,\n      markRenderYielded,\n      markRenderStopped,\n      markRenderScheduled,\n      markForceUpdateScheduled,\n      markStateUpdateScheduled,\n    },\n    toggleProfilingStatus,\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {\n  ComponentFilterDisplayName,\n  ComponentFilterElementType,\n  ComponentFilterHOC,\n  ComponentFilterLocation,\n  ElementTypeClass,\n  ElementTypeContext,\n  ElementTypeFunction,\n  ElementTypeForwardRef,\n  ElementTypeHostComponent,\n  ElementTypeMemo,\n  ElementTypeOtherOrUnknown,\n  ElementTypeProfiler,\n  ElementTypeRoot,\n  ElementTypeSuspense,\n  ElementTypeSuspenseList,\n  ElementTypeTracingMarker,\n  StrictMode,\n} from 'react-devtools-shared/src/frontend/types';\nimport {\n  deletePathInObject,\n  getDisplayName,\n  getWrappedDisplayName,\n  getDefaultComponentFilters,\n  getInObject,\n  getUID,\n  renamePathInObject,\n  setInObject,\n  utfEncodeString,\n} from 'react-devtools-shared/src/utils';\nimport {sessionStorageGetItem} from 'react-devtools-shared/src/storage';\nimport {\n  gt,\n  gte,\n  serializeToString,\n} from 'react-devtools-shared/src/backend/utils';\nimport {\n  cleanForBridge,\n  copyWithDelete,\n  copyWithRename,\n  copyWithSet,\n  getEffectDurations,\n} from './utils';\nimport {\n  __DEBUG__,\n  PROFILING_FLAG_BASIC_SUPPORT,\n  PROFILING_FLAG_TIMELINE_SUPPORT,\n  SESSION_STORAGE_RELOAD_AND_PROFILE_KEY,\n  SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY,\n  TREE_OPERATION_ADD,\n  TREE_OPERATION_REMOVE,\n  TREE_OPERATION_REMOVE_ROOT,\n  TREE_OPERATION_REORDER_CHILDREN,\n  TREE_OPERATION_SET_SUBTREE_MODE,\n  TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS,\n  TREE_OPERATION_UPDATE_TREE_BASE_DURATION,\n} from '../constants';\nimport {inspectHooksOfFiber} from 'react-debug-tools';\nimport {\n  patchConsoleUsingWindowValues,\n  registerRenderer as registerRendererWithConsole,\n  patchForStrictMode as patchConsoleForStrictMode,\n  unpatchForStrictMode as unpatchConsoleForStrictMode,\n} from './console';\nimport {\n  CONCURRENT_MODE_NUMBER,\n  CONCURRENT_MODE_SYMBOL_STRING,\n  DEPRECATED_ASYNC_MODE_SYMBOL_STRING,\n  PROVIDER_NUMBER,\n  PROVIDER_SYMBOL_STRING,\n  CONTEXT_NUMBER,\n  CONTEXT_SYMBOL_STRING,\n  STRICT_MODE_NUMBER,\n  STRICT_MODE_SYMBOL_STRING,\n  PROFILER_NUMBER,\n  PROFILER_SYMBOL_STRING,\n  SCOPE_NUMBER,\n  SCOPE_SYMBOL_STRING,\n  FORWARD_REF_NUMBER,\n  FORWARD_REF_SYMBOL_STRING,\n  MEMO_NUMBER,\n  MEMO_SYMBOL_STRING,\n  SERVER_CONTEXT_SYMBOL_STRING,\n} from './ReactSymbols';\nimport {format} from './utils';\nimport {enableStyleXFeatures} from 'react-devtools-feature-flags';\nimport is from 'shared/objectIs';\nimport hasOwnProperty from 'shared/hasOwnProperty';\nimport {getStyleXData} from './StyleX/utils';\nimport {createProfilingHooks} from './profilingHooks';\n\nimport type {GetTimelineData, ToggleProfilingStatus} from './profilingHooks';\nimport type {Fiber} from 'react-reconciler/src/ReactInternalTypes';\nimport type {\n  ChangeDescription,\n  CommitDataBackend,\n  DevToolsHook,\n  InspectedElement,\n  InspectedElementPayload,\n  InstanceAndStyle,\n  NativeType,\n  PathFrame,\n  PathMatch,\n  ProfilingDataBackend,\n  ProfilingDataForRootBackend,\n  ReactRenderer,\n  RendererInterface,\n  SerializedElement,\n  WorkTagMap,\n} from './types';\nimport type {\n  ComponentFilter,\n  ElementType,\n  Plugins,\n} from 'react-devtools-shared/src/frontend/types';\n\ntype getDisplayNameForFiberType = (fiber: Fiber) => string | null;\ntype getTypeSymbolType = (type: any) => symbol | number;\n\ntype ReactPriorityLevelsType = {\n  ImmediatePriority: number,\n  UserBlockingPriority: number,\n  NormalPriority: number,\n  LowPriority: number,\n  IdlePriority: number,\n  NoPriority: number,\n};\n\nfunction getFiberFlags(fiber: Fiber): number {\n  // The name of this field changed from \"effectTag\" to \"flags\"\n  return fiber.flags !== undefined ? fiber.flags : (fiber: any).effectTag;\n}\n\n// Some environments (e.g. React Native / Hermes) don't support the performance API yet.\nconst getCurrentTime =\n  // $FlowFixMe[method-unbinding]\n  typeof performance === 'object' && typeof performance.now === 'function'\n    ? () => performance.now()\n    : () => Date.now();\n\nexport function getInternalReactConstants(version: string): {\n  getDisplayNameForFiber: getDisplayNameForFiberType,\n  getTypeSymbol: getTypeSymbolType,\n  ReactPriorityLevels: ReactPriorityLevelsType,\n  ReactTypeOfWork: WorkTagMap,\n  StrictModeBits: number,\n} {\n  // **********************************************************\n  // The section below is copied from files in React repo.\n  // Keep it in sync, and add version guards if it changes.\n  //\n  // Technically these priority levels are invalid for versions before 16.9,\n  // but 16.9 is the first version to report priority level to DevTools,\n  // so we can avoid checking for earlier versions and support pre-16.9 canary releases in the process.\n  let ReactPriorityLevels: ReactPriorityLevelsType = {\n    ImmediatePriority: 99,\n    UserBlockingPriority: 98,\n    NormalPriority: 97,\n    LowPriority: 96,\n    IdlePriority: 95,\n    NoPriority: 90,\n  };\n\n  if (gt(version, '17.0.2')) {\n    ReactPriorityLevels = {\n      ImmediatePriority: 1,\n      UserBlockingPriority: 2,\n      NormalPriority: 3,\n      LowPriority: 4,\n      IdlePriority: 5,\n      NoPriority: 0,\n    };\n  }\n\n  let StrictModeBits = 0;\n  if (gte(version, '18.0.0-alpha')) {\n    // 18+\n    StrictModeBits = 0b011000;\n  } else if (gte(version, '16.9.0')) {\n    // 16.9 - 17\n    StrictModeBits = 0b1;\n  } else if (gte(version, '16.3.0')) {\n    // 16.3 - 16.8\n    StrictModeBits = 0b10;\n  }\n\n  let ReactTypeOfWork: WorkTagMap = ((null: any): WorkTagMap);\n\n  // **********************************************************\n  // The section below is copied from files in React repo.\n  // Keep it in sync, and add version guards if it changes.\n  //\n  // TODO Update the gt() check below to be gte() whichever the next version number is.\n  // Currently the version in Git is 17.0.2 (but that version has not been/may not end up being released).\n  if (gt(version, '17.0.1')) {\n    ReactTypeOfWork = {\n      CacheComponent: 24, // Experimental\n      ClassComponent: 1,\n      ContextConsumer: 9,\n      ContextProvider: 10,\n      CoroutineComponent: -1, // Removed\n      CoroutineHandlerPhase: -1, // Removed\n      DehydratedSuspenseComponent: 18, // Behind a flag\n      ForwardRef: 11,\n      Fragment: 7,\n      FunctionComponent: 0,\n      HostComponent: 5,\n      HostPortal: 4,\n      HostRoot: 3,\n      HostHoistable: 26, // In reality, 18.2+. But doesn't hurt to include it here\n      HostSingleton: 27, // Same as above\n      HostText: 6,\n      IncompleteClassComponent: 17,\n      IndeterminateComponent: 2,\n      LazyComponent: 16,\n      LegacyHiddenComponent: 23,\n      MemoComponent: 14,\n      Mode: 8,\n      OffscreenComponent: 22, // Experimental\n      Profiler: 12,\n      ScopeComponent: 21, // Experimental\n      SimpleMemoComponent: 15,\n      SuspenseComponent: 13,\n      SuspenseListComponent: 19, // Experimental\n      TracingMarkerComponent: 25, // Experimental - This is technically in 18 but we don't\n      // want to fork again so we're adding it here instead\n      YieldComponent: -1, // Removed\n    };\n  } else if (gte(version, '17.0.0-alpha')) {\n    ReactTypeOfWork = {\n      CacheComponent: -1, // Doesn't exist yet\n      ClassComponent: 1,\n      ContextConsumer: 9,\n      ContextProvider: 10,\n      CoroutineComponent: -1, // Removed\n      CoroutineHandlerPhase: -1, // Removed\n      DehydratedSuspenseComponent: 18, // Behind a flag\n      ForwardRef: 11,\n      Fragment: 7,\n      FunctionComponent: 0,\n      HostComponent: 5,\n      HostPortal: 4,\n      HostRoot: 3,\n      HostHoistable: -1, // Doesn't exist yet\n      HostSingleton: -1, // Doesn't exist yet\n      HostText: 6,\n      IncompleteClassComponent: 17,\n      IndeterminateComponent: 2,\n      LazyComponent: 16,\n      LegacyHiddenComponent: 24,\n      MemoComponent: 14,\n      Mode: 8,\n      OffscreenComponent: 23, // Experimental\n      Profiler: 12,\n      ScopeComponent: 21, // Experimental\n      SimpleMemoComponent: 15,\n      SuspenseComponent: 13,\n      SuspenseListComponent: 19, // Experimental\n      TracingMarkerComponent: -1, // Doesn't exist yet\n      YieldComponent: -1, // Removed\n    };\n  } else if (gte(version, '16.6.0-beta.0')) {\n    ReactTypeOfWork = {\n      CacheComponent: -1, // Doesn't exist yet\n      ClassComponent: 1,\n      ContextConsumer: 9,\n      ContextProvider: 10,\n      CoroutineComponent: -1, // Removed\n      CoroutineHandlerPhase: -1, // Removed\n      DehydratedSuspenseComponent: 18, // Behind a flag\n      ForwardRef: 11,\n      Fragment: 7,\n      FunctionComponent: 0,\n      HostComponent: 5,\n      HostPortal: 4,\n      HostRoot: 3,\n      HostHoistable: -1, // Doesn't exist yet\n      HostSingleton: -1, // Doesn't exist yet\n      HostText: 6,\n      IncompleteClassComponent: 17,\n      IndeterminateComponent: 2,\n      LazyComponent: 16,\n      LegacyHiddenComponent: -1,\n      MemoComponent: 14,\n      Mode: 8,\n      OffscreenComponent: -1, // Experimental\n      Profiler: 12,\n      ScopeComponent: -1, // Experimental\n      SimpleMemoComponent: 15,\n      SuspenseComponent: 13,\n      SuspenseListComponent: 19, // Experimental\n      TracingMarkerComponent: -1, // Doesn't exist yet\n      YieldComponent: -1, // Removed\n    };\n  } else if (gte(version, '16.4.3-alpha')) {\n    ReactTypeOfWork = {\n      CacheComponent: -1, // Doesn't exist yet\n      ClassComponent: 2,\n      ContextConsumer: 11,\n      ContextProvider: 12,\n      CoroutineComponent: -1, // Removed\n      CoroutineHandlerPhase: -1, // Removed\n      DehydratedSuspenseComponent: -1, // Doesn't exist yet\n      ForwardRef: 13,\n      Fragment: 9,\n      FunctionComponent: 0,\n      HostComponent: 7,\n      HostPortal: 6,\n      HostRoot: 5,\n      HostHoistable: -1, // Doesn't exist yet\n      HostSingleton: -1, // Doesn't exist yet\n      HostText: 8,\n      IncompleteClassComponent: -1, // Doesn't exist yet\n      IndeterminateComponent: 4,\n      LazyComponent: -1, // Doesn't exist yet\n      LegacyHiddenComponent: -1,\n      MemoComponent: -1, // Doesn't exist yet\n      Mode: 10,\n      OffscreenComponent: -1, // Experimental\n      Profiler: 15,\n      ScopeComponent: -1, // Experimental\n      SimpleMemoComponent: -1, // Doesn't exist yet\n      SuspenseComponent: 16,\n      SuspenseListComponent: -1, // Doesn't exist yet\n      TracingMarkerComponent: -1, // Doesn't exist yet\n      YieldComponent: -1, // Removed\n    };\n  } else {\n    ReactTypeOfWork = {\n      CacheComponent: -1, // Doesn't exist yet\n      ClassComponent: 2,\n      ContextConsumer: 12,\n      ContextProvider: 13,\n      CoroutineComponent: 7,\n      CoroutineHandlerPhase: 8,\n      DehydratedSuspenseComponent: -1, // Doesn't exist yet\n      ForwardRef: 14,\n      Fragment: 10,\n      FunctionComponent: 1,\n      HostComponent: 5,\n      HostPortal: 4,\n      HostRoot: 3,\n      HostHoistable: -1, // Doesn't exist yet\n      HostSingleton: -1, // Doesn't exist yet\n      HostText: 6,\n      IncompleteClassComponent: -1, // Doesn't exist yet\n      IndeterminateComponent: 0,\n      LazyComponent: -1, // Doesn't exist yet\n      LegacyHiddenComponent: -1,\n      MemoComponent: -1, // Doesn't exist yet\n      Mode: 11,\n      OffscreenComponent: -1, // Experimental\n      Profiler: 15,\n      ScopeComponent: -1, // Experimental\n      SimpleMemoComponent: -1, // Doesn't exist yet\n      SuspenseComponent: 16,\n      SuspenseListComponent: -1, // Doesn't exist yet\n      TracingMarkerComponent: -1, // Doesn't exist yet\n      YieldComponent: 9,\n    };\n  }\n  // **********************************************************\n  // End of copied code.\n  // **********************************************************\n\n  function getTypeSymbol(type: any): symbol | number {\n    const symbolOrNumber =\n      typeof type === 'object' && type !== null ? type.$$typeof : type;\n\n    return typeof symbolOrNumber === 'symbol'\n      ? // $FlowFixMe[incompatible-return] `toString()` doesn't match the type signature?\n        symbolOrNumber.toString()\n      : symbolOrNumber;\n  }\n\n  const {\n    CacheComponent,\n    ClassComponent,\n    IncompleteClassComponent,\n    FunctionComponent,\n    IndeterminateComponent,\n    ForwardRef,\n    HostRoot,\n    HostHoistable,\n    HostSingleton,\n    HostComponent,\n    HostPortal,\n    HostText,\n    Fragment,\n    LazyComponent,\n    LegacyHiddenComponent,\n    MemoComponent,\n    OffscreenComponent,\n    Profiler,\n    ScopeComponent,\n    SimpleMemoComponent,\n    SuspenseComponent,\n    SuspenseListComponent,\n    TracingMarkerComponent,\n  } = ReactTypeOfWork;\n\n  function resolveFiberType(type: any): $FlowFixMe {\n    const typeSymbol = getTypeSymbol(type);\n    switch (typeSymbol) {\n      case MEMO_NUMBER:\n      case MEMO_SYMBOL_STRING:\n        // recursively resolving memo type in case of memo(forwardRef(Component))\n        return resolveFiberType(type.type);\n      case FORWARD_REF_NUMBER:\n      case FORWARD_REF_SYMBOL_STRING:\n        return type.render;\n      default:\n        return type;\n    }\n  }\n\n  // NOTICE Keep in sync with shouldFilterFiber() and other get*ForFiber methods\n  function getDisplayNameForFiber(fiber: Fiber): string | null {\n    const {elementType, type, tag} = fiber;\n\n    let resolvedType = type;\n    if (typeof type === 'object' && type !== null) {\n      resolvedType = resolveFiberType(type);\n    }\n\n    let resolvedContext: any = null;\n\n    switch (tag) {\n      case CacheComponent:\n        return 'Cache';\n      case ClassComponent:\n      case IncompleteClassComponent:\n        return getDisplayName(resolvedType);\n      case FunctionComponent:\n      case IndeterminateComponent:\n        return getDisplayName(resolvedType);\n      case ForwardRef:\n        return getWrappedDisplayName(\n          elementType,\n          resolvedType,\n          'ForwardRef',\n          'Anonymous',\n        );\n      case HostRoot:\n        const fiberRoot = fiber.stateNode;\n        if (fiberRoot != null && fiberRoot._debugRootType !== null) {\n          return fiberRoot._debugRootType;\n        }\n        return null;\n      case HostComponent:\n      case HostSingleton:\n      case HostHoistable:\n        return type;\n      case HostPortal:\n      case HostText:\n        return null;\n      case Fragment:\n        return 'Fragment';\n      case LazyComponent:\n        // This display name will not be user visible.\n        // Once a Lazy component loads its inner component, React replaces the tag and type.\n        // This display name will only show up in console logs when DevTools DEBUG mode is on.\n        return 'Lazy';\n      case MemoComponent:\n      case SimpleMemoComponent:\n        // Display name in React does not use `Memo` as a wrapper but fallback name.\n        return getWrappedDisplayName(\n          elementType,\n          resolvedType,\n          'Memo',\n          'Anonymous',\n        );\n      case SuspenseComponent:\n        return 'Suspense';\n      case LegacyHiddenComponent:\n        return 'LegacyHidden';\n      case OffscreenComponent:\n        return 'Offscreen';\n      case ScopeComponent:\n        return 'Scope';\n      case SuspenseListComponent:\n        return 'SuspenseList';\n      case Profiler:\n        return 'Profiler';\n      case TracingMarkerComponent:\n        return 'TracingMarker';\n      default:\n        const typeSymbol = getTypeSymbol(type);\n\n        switch (typeSymbol) {\n          case CONCURRENT_MODE_NUMBER:\n          case CONCURRENT_MODE_SYMBOL_STRING:\n          case DEPRECATED_ASYNC_MODE_SYMBOL_STRING:\n            return null;\n          case PROVIDER_NUMBER:\n          case PROVIDER_SYMBOL_STRING:\n            // 16.3.0 exposed the context object as \"context\"\n            // PR #12501 changed it to \"_context\" for 16.3.1+\n            // NOTE Keep in sync with inspectElementRaw()\n            resolvedContext = fiber.type._context || fiber.type.context;\n            return `${resolvedContext.displayName || 'Context'}.Provider`;\n          case CONTEXT_NUMBER:\n          case CONTEXT_SYMBOL_STRING:\n          case SERVER_CONTEXT_SYMBOL_STRING:\n            // 16.3-16.5 read from \"type\" because the Consumer is the actual context object.\n            // 16.6+ should read from \"type._context\" because Consumer can be different (in DEV).\n            // NOTE Keep in sync with inspectElementRaw()\n            resolvedContext = fiber.type._context || fiber.type;\n\n            // NOTE: TraceUpdatesBackendManager depends on the name ending in '.Consumer'\n            // If you change the name, figure out a more resilient way to detect it.\n            return `${resolvedContext.displayName || 'Context'}.Consumer`;\n          case STRICT_MODE_NUMBER:\n          case STRICT_MODE_SYMBOL_STRING:\n            return null;\n          case PROFILER_NUMBER:\n          case PROFILER_SYMBOL_STRING:\n            return `Profiler(${fiber.memoizedProps.id})`;\n          case SCOPE_NUMBER:\n          case SCOPE_SYMBOL_STRING:\n            return 'Scope';\n          default:\n            // Unknown element type.\n            // This may mean a new element type that has not yet been added to DevTools.\n            return null;\n        }\n    }\n  }\n\n  return {\n    getDisplayNameForFiber,\n    getTypeSymbol,\n    ReactPriorityLevels,\n    ReactTypeOfWork,\n    StrictModeBits,\n  };\n}\n\n// Map of one or more Fibers in a pair to their unique id number.\n// We track both Fibers to support Fast Refresh,\n// which may forcefully replace one of the pair as part of hot reloading.\n// In that case it's still important to be able to locate the previous ID during subsequent renders.\nconst fiberToIDMap: Map<Fiber, number> = new Map();\n\n// Map of id to one (arbitrary) Fiber in a pair.\n// This Map is used to e.g. get the display name for a Fiber or schedule an update,\n// operations that should be the same whether the current and work-in-progress Fiber is used.\nconst idToArbitraryFiberMap: Map<number, Fiber> = new Map();\n\nexport function attach(\n  hook: DevToolsHook,\n  rendererID: number,\n  renderer: ReactRenderer,\n  global: Object,\n): RendererInterface {\n  // Newer versions of the reconciler package also specific reconciler version.\n  // If that version number is present, use it.\n  // Third party renderer versions may not match the reconciler version,\n  // and the latter is what's important in terms of tags and symbols.\n  const version = renderer.reconcilerVersion || renderer.version;\n\n  const {\n    getDisplayNameForFiber,\n    getTypeSymbol,\n    ReactPriorityLevels,\n    ReactTypeOfWork,\n    StrictModeBits,\n  } = getInternalReactConstants(version);\n  const {\n    CacheComponent,\n    ClassComponent,\n    ContextConsumer,\n    DehydratedSuspenseComponent,\n    ForwardRef,\n    Fragment,\n    FunctionComponent,\n    HostRoot,\n    HostHoistable,\n    HostSingleton,\n    HostPortal,\n    HostComponent,\n    HostText,\n    IncompleteClassComponent,\n    IndeterminateComponent,\n    LegacyHiddenComponent,\n    MemoComponent,\n    OffscreenComponent,\n    SimpleMemoComponent,\n    SuspenseComponent,\n    SuspenseListComponent,\n    TracingMarkerComponent,\n  } = ReactTypeOfWork;\n  const {\n    ImmediatePriority,\n    UserBlockingPriority,\n    NormalPriority,\n    LowPriority,\n    IdlePriority,\n    NoPriority,\n  } = ReactPriorityLevels;\n\n  const {\n    getLaneLabelMap,\n    injectProfilingHooks,\n    overrideHookState,\n    overrideHookStateDeletePath,\n    overrideHookStateRenamePath,\n    overrideProps,\n    overridePropsDeletePath,\n    overridePropsRenamePath,\n    scheduleRefresh,\n    setErrorHandler,\n    setSuspenseHandler,\n    scheduleUpdate,\n  } = renderer;\n  const supportsTogglingError =\n    typeof setErrorHandler === 'function' &&\n    typeof scheduleUpdate === 'function';\n  const supportsTogglingSuspense =\n    typeof setSuspenseHandler === 'function' &&\n    typeof scheduleUpdate === 'function';\n\n  if (typeof scheduleRefresh === 'function') {\n    // When Fast Refresh updates a component, the frontend may need to purge cached information.\n    // For example, ASTs cached for the component (for named hooks) may no longer be valid.\n    // Send a signal to the frontend to purge this cached information.\n    // The \"fastRefreshScheduled\" dispatched is global (not Fiber or even Renderer specific).\n    // This is less effecient since it means the front-end will need to purge the entire cache,\n    // but this is probably an okay trade off in order to reduce coupling between the DevTools and Fast Refresh.\n    renderer.scheduleRefresh = (...args) => {\n      try {\n        hook.emit('fastRefreshScheduled');\n      } finally {\n        return scheduleRefresh(...args);\n      }\n    };\n  }\n\n  let getTimelineData: null | GetTimelineData = null;\n  let toggleProfilingStatus: null | ToggleProfilingStatus = null;\n  if (typeof injectProfilingHooks === 'function') {\n    const response = createProfilingHooks({\n      getDisplayNameForFiber,\n      getIsProfiling: () => isProfiling,\n      getLaneLabelMap,\n      currentDispatcherRef: renderer.currentDispatcherRef,\n      workTagMap: ReactTypeOfWork,\n      reactVersion: version,\n    });\n\n    // Pass the Profiling hooks to the reconciler for it to call during render.\n    injectProfilingHooks(response.profilingHooks);\n\n    // Hang onto this toggle so we can notify the external methods of profiling status changes.\n    getTimelineData = response.getTimelineData;\n    toggleProfilingStatus = response.toggleProfilingStatus;\n  }\n\n  // Tracks Fibers with recently changed number of error/warning messages.\n  // These collections store the Fiber rather than the ID,\n  // in order to avoid generating an ID for Fibers that never get mounted\n  // (due to e.g. Suspense or error boundaries).\n  // onErrorOrWarning() adds Fibers and recordPendingErrorsAndWarnings() later clears them.\n  const fibersWithChangedErrorOrWarningCounts: Set<Fiber> = new Set();\n  const pendingFiberToErrorsMap: Map<Fiber, Map<string, number>> = new Map();\n  const pendingFiberToWarningsMap: Map<Fiber, Map<string, number>> = new Map();\n\n  // Mapping of fiber IDs to error/warning messages and counts.\n  const fiberIDToErrorsMap: Map<number, Map<string, number>> = new Map();\n  const fiberIDToWarningsMap: Map<number, Map<string, number>> = new Map();\n\n  function clearErrorsAndWarnings() {\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const id of fiberIDToErrorsMap.keys()) {\n      const fiber = idToArbitraryFiberMap.get(id);\n      if (fiber != null) {\n        fibersWithChangedErrorOrWarningCounts.add(fiber);\n        updateMostRecentlyInspectedElementIfNecessary(id);\n      }\n    }\n\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const id of fiberIDToWarningsMap.keys()) {\n      const fiber = idToArbitraryFiberMap.get(id);\n      if (fiber != null) {\n        fibersWithChangedErrorOrWarningCounts.add(fiber);\n        updateMostRecentlyInspectedElementIfNecessary(id);\n      }\n    }\n\n    fiberIDToErrorsMap.clear();\n    fiberIDToWarningsMap.clear();\n\n    flushPendingEvents();\n  }\n\n  function clearMessageCountHelper(\n    fiberID: number,\n    pendingFiberToMessageCountMap: Map<Fiber, Map<string, number>>,\n    fiberIDToMessageCountMap: Map<number, Map<string, number>>,\n  ) {\n    const fiber = idToArbitraryFiberMap.get(fiberID);\n    if (fiber != null) {\n      // Throw out any pending changes.\n      pendingFiberToErrorsMap.delete(fiber);\n\n      if (fiberIDToMessageCountMap.has(fiberID)) {\n        fiberIDToMessageCountMap.delete(fiberID);\n\n        // If previous flushed counts have changed, schedule an update too.\n        fibersWithChangedErrorOrWarningCounts.add(fiber);\n        flushPendingEvents();\n\n        updateMostRecentlyInspectedElementIfNecessary(fiberID);\n      } else {\n        fibersWithChangedErrorOrWarningCounts.delete(fiber);\n      }\n    }\n  }\n\n  function clearErrorsForFiberID(fiberID: number) {\n    clearMessageCountHelper(\n      fiberID,\n      pendingFiberToErrorsMap,\n      fiberIDToErrorsMap,\n    );\n  }\n\n  function clearWarningsForFiberID(fiberID: number) {\n    clearMessageCountHelper(\n      fiberID,\n      pendingFiberToWarningsMap,\n      fiberIDToWarningsMap,\n    );\n  }\n\n  function updateMostRecentlyInspectedElementIfNecessary(\n    fiberID: number,\n  ): void {\n    if (\n      mostRecentlyInspectedElement !== null &&\n      mostRecentlyInspectedElement.id === fiberID\n    ) {\n      hasElementUpdatedSinceLastInspected = true;\n    }\n  }\n\n  // Called when an error or warning is logged during render, commit, or passive (including unmount functions).\n  function onErrorOrWarning(\n    fiber: Fiber,\n    type: 'error' | 'warn',\n    args: $ReadOnlyArray<any>,\n  ): void {\n    if (type === 'error') {\n      const maybeID = getFiberIDUnsafe(fiber);\n      // if this is an error simulated by us to trigger error boundary, ignore\n      if (maybeID != null && forceErrorForFiberIDs.get(maybeID) === true) {\n        return;\n      }\n    }\n    const message = format(...args);\n    if (__DEBUG__) {\n      debug('onErrorOrWarning', fiber, null, `${type}: \"${message}\"`);\n    }\n\n    // Mark this Fiber as needed its warning/error count updated during the next flush.\n    fibersWithChangedErrorOrWarningCounts.add(fiber);\n\n    // Track the warning/error for later.\n    const fiberMap =\n      type === 'error' ? pendingFiberToErrorsMap : pendingFiberToWarningsMap;\n    const messageMap = fiberMap.get(fiber);\n    if (messageMap != null) {\n      const count = messageMap.get(message) || 0;\n      messageMap.set(message, count + 1);\n    } else {\n      fiberMap.set(fiber, new Map([[message, 1]]));\n    }\n\n    // Passive effects may trigger errors or warnings too;\n    // In this case, we should wait until the rest of the passive effects have run,\n    // but we shouldn't wait until the next commit because that might be a long time.\n    // This would also cause \"tearing\" between an inspected Component and the tree view.\n    // Then again we don't want to flush too soon because this could be an error during async rendering.\n    // Use a debounce technique to ensure that we'll eventually flush.\n    flushPendingErrorsAndWarningsAfterDelay();\n  }\n\n  // Patching the console enables DevTools to do a few useful things:\n  // * Append component stacks to warnings and error messages\n  // * Disable logging during re-renders to inspect hooks (see inspectHooksOfFiber)\n  registerRendererWithConsole(renderer, onErrorOrWarning);\n\n  // The renderer interface can't read these preferences directly,\n  // because it is stored in localStorage within the context of the extension.\n  // It relies on the extension to pass the preference through via the global.\n  patchConsoleUsingWindowValues();\n\n  const debug = (\n    name: string,\n    fiber: Fiber,\n    parentFiber: ?Fiber,\n    extraString: string = '',\n  ): void => {\n    if (__DEBUG__) {\n      const displayName =\n        fiber.tag + ':' + (getDisplayNameForFiber(fiber) || 'null');\n\n      const maybeID = getFiberIDUnsafe(fiber) || '<no id>';\n      const parentDisplayName = parentFiber\n        ? parentFiber.tag +\n          ':' +\n          (getDisplayNameForFiber(parentFiber) || 'null')\n        : '';\n      const maybeParentID = parentFiber\n        ? getFiberIDUnsafe(parentFiber) || '<no-id>'\n        : '';\n\n      console.groupCollapsed(\n        `[renderer] %c${name} %c${displayName} (${maybeID}) %c${\n          parentFiber ? `${parentDisplayName} (${maybeParentID})` : ''\n        } %c${extraString}`,\n        'color: red; font-weight: bold;',\n        'color: blue;',\n        'color: purple;',\n        'color: black;',\n      );\n      console.log(new Error().stack.split('\\n').slice(1).join('\\n'));\n      console.groupEnd();\n    }\n  };\n\n  // Configurable Components tree filters.\n  const hideElementsWithDisplayNames: Set<RegExp> = new Set();\n  const hideElementsWithPaths: Set<RegExp> = new Set();\n  const hideElementsWithTypes: Set<ElementType> = new Set();\n\n  // Highlight updates\n  let traceUpdatesEnabled: boolean = false;\n  const traceUpdatesForNodes: Set<NativeType> = new Set();\n\n  function applyComponentFilters(componentFilters: Array<ComponentFilter>) {\n    hideElementsWithTypes.clear();\n    hideElementsWithDisplayNames.clear();\n    hideElementsWithPaths.clear();\n\n    componentFilters.forEach(componentFilter => {\n      if (!componentFilter.isEnabled) {\n        return;\n      }\n\n      switch (componentFilter.type) {\n        case ComponentFilterDisplayName:\n          if (componentFilter.isValid && componentFilter.value !== '') {\n            hideElementsWithDisplayNames.add(\n              new RegExp(componentFilter.value, 'i'),\n            );\n          }\n          break;\n        case ComponentFilterElementType:\n          hideElementsWithTypes.add(componentFilter.value);\n          break;\n        case ComponentFilterLocation:\n          if (componentFilter.isValid && componentFilter.value !== '') {\n            hideElementsWithPaths.add(new RegExp(componentFilter.value, 'i'));\n          }\n          break;\n        case ComponentFilterHOC:\n          hideElementsWithDisplayNames.add(new RegExp('\\\\('));\n          break;\n        default:\n          console.warn(\n            `Invalid component filter type \"${componentFilter.type}\"`,\n          );\n          break;\n      }\n    });\n  }\n\n  // The renderer interface can't read saved component filters directly,\n  // because they are stored in localStorage within the context of the extension.\n  // Instead it relies on the extension to pass filters through.\n  if (window.__REACT_DEVTOOLS_COMPONENT_FILTERS__ != null) {\n    applyComponentFilters(window.__REACT_DEVTOOLS_COMPONENT_FILTERS__);\n  } else {\n    // Unfortunately this feature is not expected to work for React Native for now.\n    // It would be annoying for us to spam YellowBox warnings with unactionable stuff,\n    // so for now just skip this message...\n    //console.warn(' DevTools: Could not locate saved component filters');\n\n    // Fallback to assuming the default filters in this case.\n    applyComponentFilters(getDefaultComponentFilters());\n  }\n\n  // If necessary, we can revisit optimizing this operation.\n  // For example, we could add a new recursive unmount tree operation.\n  // The unmount operations are already significantly smaller than mount operations though.\n  // This is something to keep in mind for later.\n  function updateComponentFilters(componentFilters: Array<ComponentFilter>) {\n    if (isProfiling) {\n      // Re-mounting a tree while profiling is in progress might break a lot of assumptions.\n      // If necessary, we could support this- but it doesn't seem like a necessary use case.\n      throw Error('Cannot modify filter preferences while profiling');\n    }\n\n    // Recursively unmount all roots.\n    hook.getFiberRoots(rendererID).forEach(root => {\n      currentRootID = getOrGenerateFiberID(root.current);\n      // The TREE_OPERATION_REMOVE_ROOT operation serves two purposes:\n      // 1. It avoids sending unnecessary bridge traffic to clear a root.\n      // 2. It preserves Fiber IDs when remounting (below) which in turn ID to error/warning mapping.\n      pushOperation(TREE_OPERATION_REMOVE_ROOT);\n      flushPendingEvents(root);\n      currentRootID = -1;\n    });\n\n    applyComponentFilters(componentFilters);\n\n    // Reset pseudo counters so that new path selections will be persisted.\n    rootDisplayNameCounter.clear();\n\n    // Recursively re-mount all roots with new filter criteria applied.\n    hook.getFiberRoots(rendererID).forEach(root => {\n      currentRootID = getOrGenerateFiberID(root.current);\n      setRootPseudoKey(currentRootID, root.current);\n      mountFiberRecursively(root.current, null, false, false);\n      flushPendingEvents(root);\n      currentRootID = -1;\n    });\n\n    // Also re-evaluate all error and warning counts given the new filters.\n    reevaluateErrorsAndWarnings();\n    flushPendingEvents();\n  }\n\n  // NOTICE Keep in sync with get*ForFiber methods\n  function shouldFilterFiber(fiber: Fiber): boolean {\n    const {_debugSource, tag, type, key} = fiber;\n\n    switch (tag) {\n      case DehydratedSuspenseComponent:\n        // TODO: ideally we would show dehydrated Suspense immediately.\n        // However, it has some special behavior (like disconnecting\n        // an alternate and turning into real Suspense) which breaks DevTools.\n        // For now, ignore it, and only show it once it gets hydrated.\n        // https://github.com/bvaughn/react-devtools-experimental/issues/197\n        return true;\n      case HostPortal:\n      case HostText:\n      case LegacyHiddenComponent:\n      case OffscreenComponent:\n        return true;\n      case HostRoot:\n        // It is never valid to filter the root element.\n        return false;\n      case Fragment:\n        return key === null;\n      default:\n        const typeSymbol = getTypeSymbol(type);\n\n        switch (typeSymbol) {\n          case CONCURRENT_MODE_NUMBER:\n          case CONCURRENT_MODE_SYMBOL_STRING:\n          case DEPRECATED_ASYNC_MODE_SYMBOL_STRING:\n          case STRICT_MODE_NUMBER:\n          case STRICT_MODE_SYMBOL_STRING:\n            return true;\n          default:\n            break;\n        }\n    }\n\n    const elementType = getElementTypeForFiber(fiber);\n    if (hideElementsWithTypes.has(elementType)) {\n      return true;\n    }\n\n    if (hideElementsWithDisplayNames.size > 0) {\n      const displayName = getDisplayNameForFiber(fiber);\n      if (displayName != null) {\n        // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n        for (const displayNameRegExp of hideElementsWithDisplayNames) {\n          if (displayNameRegExp.test(displayName)) {\n            return true;\n          }\n        }\n      }\n    }\n\n    if (_debugSource != null && hideElementsWithPaths.size > 0) {\n      const {fileName} = _debugSource;\n      // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n      for (const pathRegExp of hideElementsWithPaths) {\n        if (pathRegExp.test(fileName)) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  // NOTICE Keep in sync with shouldFilterFiber() and other get*ForFiber methods\n  function getElementTypeForFiber(fiber: Fiber): ElementType {\n    const {type, tag} = fiber;\n\n    switch (tag) {\n      case ClassComponent:\n      case IncompleteClassComponent:\n        return ElementTypeClass;\n      case FunctionComponent:\n      case IndeterminateComponent:\n        return ElementTypeFunction;\n      case ForwardRef:\n        return ElementTypeForwardRef;\n      case HostRoot:\n        return ElementTypeRoot;\n      case HostComponent:\n      case HostHoistable:\n      case HostSingleton:\n        return ElementTypeHostComponent;\n      case HostPortal:\n      case HostText:\n      case Fragment:\n        return ElementTypeOtherOrUnknown;\n      case MemoComponent:\n      case SimpleMemoComponent:\n        return ElementTypeMemo;\n      case SuspenseComponent:\n        return ElementTypeSuspense;\n      case SuspenseListComponent:\n        return ElementTypeSuspenseList;\n      case TracingMarkerComponent:\n        return ElementTypeTracingMarker;\n      default:\n        const typeSymbol = getTypeSymbol(type);\n\n        switch (typeSymbol) {\n          case CONCURRENT_MODE_NUMBER:\n          case CONCURRENT_MODE_SYMBOL_STRING:\n          case DEPRECATED_ASYNC_MODE_SYMBOL_STRING:\n            return ElementTypeOtherOrUnknown;\n          case PROVIDER_NUMBER:\n          case PROVIDER_SYMBOL_STRING:\n            return ElementTypeContext;\n          case CONTEXT_NUMBER:\n          case CONTEXT_SYMBOL_STRING:\n            return ElementTypeContext;\n          case STRICT_MODE_NUMBER:\n          case STRICT_MODE_SYMBOL_STRING:\n            return ElementTypeOtherOrUnknown;\n          case PROFILER_NUMBER:\n          case PROFILER_SYMBOL_STRING:\n            return ElementTypeProfiler;\n          default:\n            return ElementTypeOtherOrUnknown;\n        }\n    }\n  }\n\n  // When profiling is supported, we store the latest tree base durations for each Fiber.\n  // This is so that we can quickly capture a snapshot of those values if profiling starts.\n  // If we didn't store these values, we'd have to crawl the tree when profiling started,\n  // and use a slow path to find each of the current Fibers.\n  const idToTreeBaseDurationMap: Map<number, number> = new Map();\n\n  // When profiling is supported, we store the latest tree base durations for each Fiber.\n  // This map enables us to filter these times by root when sending them to the frontend.\n  const idToRootMap: Map<number, number> = new Map();\n\n  // When a mount or update is in progress, this value tracks the root that is being operated on.\n  let currentRootID: number = -1;\n\n  // Returns the unique ID for a Fiber or generates and caches a new one if the Fiber hasn't been seen before.\n  // Once this method has been called for a Fiber, untrackFiberID() should always be called later to avoid leaking.\n  function getOrGenerateFiberID(fiber: Fiber): number {\n    let id = null;\n    if (fiberToIDMap.has(fiber)) {\n      id = fiberToIDMap.get(fiber);\n    } else {\n      const {alternate} = fiber;\n      if (alternate !== null && fiberToIDMap.has(alternate)) {\n        id = fiberToIDMap.get(alternate);\n      }\n    }\n\n    let didGenerateID = false;\n    if (id === null) {\n      didGenerateID = true;\n      id = getUID();\n    }\n\n    // This refinement is for Flow purposes only.\n    const refinedID = ((id: any): number);\n\n    // Make sure we're tracking this Fiber\n    // e.g. if it just mounted or an error was logged during initial render.\n    if (!fiberToIDMap.has(fiber)) {\n      fiberToIDMap.set(fiber, refinedID);\n      idToArbitraryFiberMap.set(refinedID, fiber);\n    }\n\n    // Also make sure we're tracking its alternate,\n    // e.g. in case this is the first update after mount.\n    const {alternate} = fiber;\n    if (alternate !== null) {\n      if (!fiberToIDMap.has(alternate)) {\n        fiberToIDMap.set(alternate, refinedID);\n      }\n    }\n\n    if (__DEBUG__) {\n      if (didGenerateID) {\n        debug(\n          'getOrGenerateFiberID()',\n          fiber,\n          fiber.return,\n          'Generated a new UID',\n        );\n      }\n    }\n\n    return refinedID;\n  }\n\n  // Returns an ID if one has already been generated for the Fiber or throws.\n  function getFiberIDThrows(fiber: Fiber): number {\n    const maybeID = getFiberIDUnsafe(fiber);\n    if (maybeID !== null) {\n      return maybeID;\n    }\n    throw Error(\n      `Could not find ID for Fiber \"${getDisplayNameForFiber(fiber) || ''}\"`,\n    );\n  }\n\n  // Returns an ID if one has already been generated for the Fiber or null if one has not been generated.\n  // Use this method while e.g. logging to avoid over-retaining Fibers.\n  function getFiberIDUnsafe(fiber: Fiber): number | null {\n    if (fiberToIDMap.has(fiber)) {\n      return ((fiberToIDMap.get(fiber): any): number);\n    } else {\n      const {alternate} = fiber;\n      if (alternate !== null && fiberToIDMap.has(alternate)) {\n        return ((fiberToIDMap.get(alternate): any): number);\n      }\n    }\n    return null;\n  }\n\n  // Removes a Fiber (and its alternate) from the Maps used to track their id.\n  // This method should always be called when a Fiber is unmounting.\n  function untrackFiberID(fiber: Fiber) {\n    if (__DEBUG__) {\n      debug('untrackFiberID()', fiber, fiber.return, 'schedule after delay');\n    }\n\n    // Untrack Fibers after a slight delay in order to support a Fast Refresh edge case:\n    // 1. Component type is updated and Fast Refresh schedules an update+remount.\n    // 2. flushPendingErrorsAndWarningsAfterDelay() runs, sees the old Fiber is no longer mounted\n    //    (it's been disconnected by Fast Refresh), and calls untrackFiberID() to clear it from the Map.\n    // 3. React flushes pending passive effects before it runs the next render,\n    //    which logs an error or warning, which causes a new ID to be generated for this Fiber.\n    // 4. DevTools now tries to unmount the old Component with the new ID.\n    //\n    // The underlying problem here is the premature clearing of the Fiber ID,\n    // but DevTools has no way to detect that a given Fiber has been scheduled for Fast Refresh.\n    // (The \"_debugNeedsRemount\" flag won't necessarily be set.)\n    //\n    // The best we can do is to delay untracking by a small amount,\n    // and give React time to process the Fast Refresh delay.\n\n    untrackFibersSet.add(fiber);\n\n    // React may detach alternate pointers during unmount;\n    // Since our untracking code is async, we should explicily track the pending alternate here as well.\n    const alternate = fiber.alternate;\n    if (alternate !== null) {\n      untrackFibersSet.add(alternate);\n    }\n\n    if (untrackFibersTimeoutID === null) {\n      untrackFibersTimeoutID = setTimeout(untrackFibers, 1000);\n    }\n  }\n\n  const untrackFibersSet: Set<Fiber> = new Set();\n  let untrackFibersTimeoutID: TimeoutID | null = null;\n\n  function untrackFibers() {\n    if (untrackFibersTimeoutID !== null) {\n      clearTimeout(untrackFibersTimeoutID);\n      untrackFibersTimeoutID = null;\n    }\n\n    untrackFibersSet.forEach(fiber => {\n      const fiberID = getFiberIDUnsafe(fiber);\n      if (fiberID !== null) {\n        idToArbitraryFiberMap.delete(fiberID);\n\n        // Also clear any errors/warnings associated with this fiber.\n        clearErrorsForFiberID(fiberID);\n        clearWarningsForFiberID(fiberID);\n      }\n\n      fiberToIDMap.delete(fiber);\n\n      const {alternate} = fiber;\n      if (alternate !== null) {\n        fiberToIDMap.delete(alternate);\n      }\n\n      if (forceErrorForFiberIDs.has(fiberID)) {\n        forceErrorForFiberIDs.delete(fiberID);\n        if (forceErrorForFiberIDs.size === 0 && setErrorHandler != null) {\n          setErrorHandler(shouldErrorFiberAlwaysNull);\n        }\n      }\n    });\n    untrackFibersSet.clear();\n  }\n\n  function getChangeDescription(\n    prevFiber: Fiber | null,\n    nextFiber: Fiber,\n  ): ChangeDescription | null {\n    switch (getElementTypeForFiber(nextFiber)) {\n      case ElementTypeClass:\n      case ElementTypeFunction:\n      case ElementTypeMemo:\n      case ElementTypeForwardRef:\n        if (prevFiber === null) {\n          return {\n            context: null,\n            didHooksChange: false,\n            isFirstMount: true,\n            props: null,\n            state: null,\n          };\n        } else {\n          const data: ChangeDescription = {\n            context: getContextChangedKeys(nextFiber),\n            didHooksChange: false,\n            isFirstMount: false,\n            props: getChangedKeys(\n              prevFiber.memoizedProps,\n              nextFiber.memoizedProps,\n            ),\n            state: getChangedKeys(\n              prevFiber.memoizedState,\n              nextFiber.memoizedState,\n            ),\n          };\n\n          // Only traverse the hooks list once, depending on what info we're returning.\n          const indices = getChangedHooksIndices(\n            prevFiber.memoizedState,\n            nextFiber.memoizedState,\n          );\n          data.hooks = indices;\n          data.didHooksChange = indices !== null && indices.length > 0;\n\n          return data;\n        }\n      default:\n        return null;\n    }\n  }\n\n  function updateContextsForFiber(fiber: Fiber) {\n    switch (getElementTypeForFiber(fiber)) {\n      case ElementTypeClass:\n      case ElementTypeForwardRef:\n      case ElementTypeFunction:\n      case ElementTypeMemo:\n        if (idToContextsMap !== null) {\n          const id = getFiberIDThrows(fiber);\n          const contexts = getContextsForFiber(fiber);\n          if (contexts !== null) {\n            // $FlowFixMe[incompatible-use] found when upgrading Flow\n            idToContextsMap.set(id, contexts);\n          }\n        }\n        break;\n      default:\n        break;\n    }\n  }\n\n  // Differentiates between a null context value and no context.\n  const NO_CONTEXT = {};\n\n  function getContextsForFiber(fiber: Fiber): [Object, any] | null {\n    let legacyContext = NO_CONTEXT;\n    let modernContext = NO_CONTEXT;\n\n    switch (getElementTypeForFiber(fiber)) {\n      case ElementTypeClass:\n        const instance = fiber.stateNode;\n        if (instance != null) {\n          if (\n            instance.constructor &&\n            instance.constructor.contextType != null\n          ) {\n            modernContext = instance.context;\n          } else {\n            legacyContext = instance.context;\n            if (legacyContext && Object.keys(legacyContext).length === 0) {\n              legacyContext = NO_CONTEXT;\n            }\n          }\n        }\n        return [legacyContext, modernContext];\n      case ElementTypeForwardRef:\n      case ElementTypeFunction:\n      case ElementTypeMemo:\n        const dependencies = fiber.dependencies;\n        if (dependencies && dependencies.firstContext) {\n          modernContext = dependencies.firstContext;\n        }\n\n        return [legacyContext, modernContext];\n      default:\n        return null;\n    }\n  }\n\n  // Record all contexts at the time profiling is started.\n  // Fibers only store the current context value,\n  // so we need to track them separately in order to determine changed keys.\n  function crawlToInitializeContextsMap(fiber: Fiber) {\n    const id = getFiberIDUnsafe(fiber);\n\n    // Not all Fibers in the subtree have mounted yet.\n    // For example, Offscreen (hidden) or Suspense (suspended) subtrees won't yet be tracked.\n    // We can safely skip these subtrees.\n    if (id !== null) {\n      updateContextsForFiber(fiber);\n\n      let current = fiber.child;\n      while (current !== null) {\n        crawlToInitializeContextsMap(current);\n        current = current.sibling;\n      }\n    }\n  }\n\n  function getContextChangedKeys(fiber: Fiber): null | boolean | Array<string> {\n    if (idToContextsMap !== null) {\n      const id = getFiberIDThrows(fiber);\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      const prevContexts = idToContextsMap.has(id)\n        ? // $FlowFixMe[incompatible-use] found when upgrading Flow\n          idToContextsMap.get(id)\n        : null;\n      const nextContexts = getContextsForFiber(fiber);\n\n      if (prevContexts == null || nextContexts == null) {\n        return null;\n      }\n\n      const [prevLegacyContext, prevModernContext] = prevContexts;\n      const [nextLegacyContext, nextModernContext] = nextContexts;\n\n      switch (getElementTypeForFiber(fiber)) {\n        case ElementTypeClass:\n          if (prevContexts && nextContexts) {\n            if (nextLegacyContext !== NO_CONTEXT) {\n              return getChangedKeys(prevLegacyContext, nextLegacyContext);\n            } else if (nextModernContext !== NO_CONTEXT) {\n              return prevModernContext !== nextModernContext;\n            }\n          }\n          break;\n        case ElementTypeForwardRef:\n        case ElementTypeFunction:\n        case ElementTypeMemo:\n          if (nextModernContext !== NO_CONTEXT) {\n            let prevContext = prevModernContext;\n            let nextContext = nextModernContext;\n\n            while (prevContext && nextContext) {\n              // Note this only works for versions of React that support this key (e.v. 18+)\n              // For older versions, there's no good way to read the current context value after render has completed.\n              // This is because React maintains a stack of context values during render,\n              // but by the time DevTools is called, render has finished and the stack is empty.\n              if (!is(prevContext.memoizedValue, nextContext.memoizedValue)) {\n                return true;\n              }\n\n              prevContext = prevContext.next;\n              nextContext = nextContext.next;\n            }\n\n            return false;\n          }\n          break;\n        default:\n          break;\n      }\n    }\n    return null;\n  }\n\n  function isHookThatCanScheduleUpdate(hookObject: any) {\n    const queue = hookObject.queue;\n    if (!queue) {\n      return false;\n    }\n\n    const boundHasOwnProperty = hasOwnProperty.bind(queue);\n\n    // Detect the shape of useState() / useReducer() / useTransition()\n    // using the attributes that are unique to these hooks\n    // but also stable (e.g. not tied to current Lanes implementation)\n    // We don't check for dispatch property, because useTransition doesn't have it\n    if (boundHasOwnProperty('pending')) {\n      return true;\n    }\n\n    // Detect useSyncExternalStore()\n    return (\n      boundHasOwnProperty('value') &&\n      boundHasOwnProperty('getSnapshot') &&\n      typeof queue.getSnapshot === 'function'\n    );\n  }\n\n  function didStatefulHookChange(prev: any, next: any): boolean {\n    const prevMemoizedState = prev.memoizedState;\n    const nextMemoizedState = next.memoizedState;\n\n    if (isHookThatCanScheduleUpdate(prev)) {\n      return prevMemoizedState !== nextMemoizedState;\n    }\n\n    return false;\n  }\n\n  function getChangedHooksIndices(prev: any, next: any): null | Array<number> {\n    if (prev == null || next == null) {\n      return null;\n    }\n\n    const indices = [];\n    let index = 0;\n    if (\n      next.hasOwnProperty('baseState') &&\n      next.hasOwnProperty('memoizedState') &&\n      next.hasOwnProperty('next') &&\n      next.hasOwnProperty('queue')\n    ) {\n      while (next !== null) {\n        if (didStatefulHookChange(prev, next)) {\n          indices.push(index);\n        }\n        next = next.next;\n        prev = prev.next;\n        index++;\n      }\n    }\n\n    return indices;\n  }\n\n  function getChangedKeys(prev: any, next: any): null | Array<string> {\n    if (prev == null || next == null) {\n      return null;\n    }\n\n    // We can't report anything meaningful for hooks changes.\n    if (\n      next.hasOwnProperty('baseState') &&\n      next.hasOwnProperty('memoizedState') &&\n      next.hasOwnProperty('next') &&\n      next.hasOwnProperty('queue')\n    ) {\n      return null;\n    }\n\n    const keys = new Set([...Object.keys(prev), ...Object.keys(next)]);\n    const changedKeys = [];\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const key of keys) {\n      if (prev[key] !== next[key]) {\n        changedKeys.push(key);\n      }\n    }\n\n    return changedKeys;\n  }\n\n  // eslint-disable-next-line no-unused-vars\n  function didFiberRender(prevFiber: Fiber, nextFiber: Fiber): boolean {\n    switch (nextFiber.tag) {\n      case ClassComponent:\n      case FunctionComponent:\n      case ContextConsumer:\n      case MemoComponent:\n      case SimpleMemoComponent:\n      case ForwardRef:\n        // For types that execute user code, we check PerformedWork effect.\n        // We don't reflect bailouts (either referential or sCU) in DevTools.\n        // TODO: This flag is a leaked implementation detail. Once we start\n        // releasing DevTools in lockstep with React, we should import a\n        // function from the reconciler instead.\n        const PerformedWork = 0b000000000000000000000000001;\n        return (getFiberFlags(nextFiber) & PerformedWork) === PerformedWork;\n      // Note: ContextConsumer only gets PerformedWork effect in 16.3.3+\n      // so it won't get highlighted with React 16.3.0 to 16.3.2.\n      default:\n        // For host components and other types, we compare inputs\n        // to determine whether something is an update.\n        return (\n          prevFiber.memoizedProps !== nextFiber.memoizedProps ||\n          prevFiber.memoizedState !== nextFiber.memoizedState ||\n          prevFiber.ref !== nextFiber.ref\n        );\n    }\n  }\n\n  type OperationsArray = Array<number>;\n\n  type StringTableEntry = {\n    encodedString: Array<number>,\n    id: number,\n  };\n\n  const pendingOperations: OperationsArray = [];\n  const pendingRealUnmountedIDs: Array<number> = [];\n  const pendingSimulatedUnmountedIDs: Array<number> = [];\n  let pendingOperationsQueue: Array<OperationsArray> | null = [];\n  const pendingStringTable: Map<string, StringTableEntry> = new Map();\n  let pendingStringTableLength: number = 0;\n  let pendingUnmountedRootID: number | null = null;\n\n  function pushOperation(op: number): void {\n    if (__DEV__) {\n      if (!Number.isInteger(op)) {\n        console.error(\n          'pushOperation() was called but the value is not an integer.',\n          op,\n        );\n      }\n    }\n    pendingOperations.push(op);\n  }\n\n  function shouldBailoutWithPendingOperations() {\n    if (isProfiling) {\n      if (\n        currentCommitProfilingMetadata != null &&\n        currentCommitProfilingMetadata.durations.length > 0\n      ) {\n        return false;\n      }\n    }\n\n    return (\n      pendingOperations.length === 0 &&\n      pendingRealUnmountedIDs.length === 0 &&\n      pendingSimulatedUnmountedIDs.length === 0 &&\n      pendingUnmountedRootID === null\n    );\n  }\n\n  function flushOrQueueOperations(operations: OperationsArray): void {\n    if (shouldBailoutWithPendingOperations()) {\n      return;\n    }\n\n    if (pendingOperationsQueue !== null) {\n      pendingOperationsQueue.push(operations);\n    } else {\n      hook.emit('operations', operations);\n    }\n  }\n\n  let flushPendingErrorsAndWarningsAfterDelayTimeoutID: null | TimeoutID = null;\n\n  function clearPendingErrorsAndWarningsAfterDelay() {\n    if (flushPendingErrorsAndWarningsAfterDelayTimeoutID !== null) {\n      clearTimeout(flushPendingErrorsAndWarningsAfterDelayTimeoutID);\n      flushPendingErrorsAndWarningsAfterDelayTimeoutID = null;\n    }\n  }\n\n  function flushPendingErrorsAndWarningsAfterDelay() {\n    clearPendingErrorsAndWarningsAfterDelay();\n\n    flushPendingErrorsAndWarningsAfterDelayTimeoutID = setTimeout(() => {\n      flushPendingErrorsAndWarningsAfterDelayTimeoutID = null;\n\n      if (pendingOperations.length > 0) {\n        // On the off chance that something else has pushed pending operations,\n        // we should bail on warnings; it's probably not safe to push midway.\n        return;\n      }\n\n      recordPendingErrorsAndWarnings();\n\n      if (shouldBailoutWithPendingOperations()) {\n        // No warnings or errors to flush; we can bail out early here too.\n        return;\n      }\n\n      // We can create a smaller operations array than flushPendingEvents()\n      // because we only need to flush warning and error counts.\n      // Only a few pieces of fixed information are required up front.\n      const operations: OperationsArray = new Array(\n        3 + pendingOperations.length,\n      );\n      operations[0] = rendererID;\n      operations[1] = currentRootID;\n      operations[2] = 0; // String table size\n      for (let j = 0; j < pendingOperations.length; j++) {\n        operations[3 + j] = pendingOperations[j];\n      }\n\n      flushOrQueueOperations(operations);\n\n      pendingOperations.length = 0;\n    }, 1000);\n  }\n\n  function reevaluateErrorsAndWarnings() {\n    fibersWithChangedErrorOrWarningCounts.clear();\n    fiberIDToErrorsMap.forEach((countMap, fiberID) => {\n      const fiber = idToArbitraryFiberMap.get(fiberID);\n      if (fiber != null) {\n        fibersWithChangedErrorOrWarningCounts.add(fiber);\n      }\n    });\n    fiberIDToWarningsMap.forEach((countMap, fiberID) => {\n      const fiber = idToArbitraryFiberMap.get(fiberID);\n      if (fiber != null) {\n        fibersWithChangedErrorOrWarningCounts.add(fiber);\n      }\n    });\n    recordPendingErrorsAndWarnings();\n  }\n\n  function mergeMapsAndGetCountHelper(\n    fiber: Fiber,\n    fiberID: number,\n    pendingFiberToMessageCountMap: Map<Fiber, Map<string, number>>,\n    fiberIDToMessageCountMap: Map<number, Map<string, number>>,\n  ): number {\n    let newCount = 0;\n\n    let messageCountMap = fiberIDToMessageCountMap.get(fiberID);\n\n    const pendingMessageCountMap = pendingFiberToMessageCountMap.get(fiber);\n    if (pendingMessageCountMap != null) {\n      if (messageCountMap == null) {\n        messageCountMap = pendingMessageCountMap;\n\n        fiberIDToMessageCountMap.set(fiberID, pendingMessageCountMap);\n      } else {\n        // This Flow refinement should not be necessary and yet...\n        const refinedMessageCountMap = ((messageCountMap: any): Map<\n          string,\n          number,\n        >);\n\n        pendingMessageCountMap.forEach((pendingCount, message) => {\n          const previousCount = refinedMessageCountMap.get(message) || 0;\n          refinedMessageCountMap.set(message, previousCount + pendingCount);\n        });\n      }\n    }\n\n    if (!shouldFilterFiber(fiber)) {\n      if (messageCountMap != null) {\n        messageCountMap.forEach(count => {\n          newCount += count;\n        });\n      }\n    }\n\n    pendingFiberToMessageCountMap.delete(fiber);\n\n    return newCount;\n  }\n\n  function recordPendingErrorsAndWarnings() {\n    clearPendingErrorsAndWarningsAfterDelay();\n\n    fibersWithChangedErrorOrWarningCounts.forEach(fiber => {\n      const fiberID = getFiberIDUnsafe(fiber);\n      if (fiberID === null) {\n        // Don't send updates for Fibers that didn't mount due to e.g. Suspense or an error boundary.\n      } else {\n        const errorCount = mergeMapsAndGetCountHelper(\n          fiber,\n          fiberID,\n          pendingFiberToErrorsMap,\n          fiberIDToErrorsMap,\n        );\n        const warningCount = mergeMapsAndGetCountHelper(\n          fiber,\n          fiberID,\n          pendingFiberToWarningsMap,\n          fiberIDToWarningsMap,\n        );\n\n        pushOperation(TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS);\n        pushOperation(fiberID);\n        pushOperation(errorCount);\n        pushOperation(warningCount);\n      }\n\n      // Always clean up so that we don't leak.\n      pendingFiberToErrorsMap.delete(fiber);\n      pendingFiberToWarningsMap.delete(fiber);\n    });\n    fibersWithChangedErrorOrWarningCounts.clear();\n  }\n\n  function flushPendingEvents(root: Object): void {\n    // Add any pending errors and warnings to the operations array.\n    // We do this just before flushing, so we can ignore errors for no-longer-mounted Fibers.\n    recordPendingErrorsAndWarnings();\n\n    if (shouldBailoutWithPendingOperations()) {\n      // If we aren't profiling, we can just bail out here.\n      // No use sending an empty update over the bridge.\n      //\n      // The Profiler stores metadata for each commit and reconstructs the app tree per commit using:\n      // (1) an initial tree snapshot and\n      // (2) the operations array for each commit\n      // Because of this, it's important that the operations and metadata arrays align,\n      // So it's important not to omit even empty operations while profiling is active.\n      return;\n    }\n\n    const numUnmountIDs =\n      pendingRealUnmountedIDs.length +\n      pendingSimulatedUnmountedIDs.length +\n      (pendingUnmountedRootID === null ? 0 : 1);\n\n    const operations = new Array<number>(\n      // Identify which renderer this update is coming from.\n      2 + // [rendererID, rootFiberID]\n        // How big is the string table?\n        1 + // [stringTableLength]\n        // Then goes the actual string table.\n        pendingStringTableLength +\n        // All unmounts are batched in a single message.\n        // [TREE_OPERATION_REMOVE, removedIDLength, ...ids]\n        (numUnmountIDs > 0 ? 2 + numUnmountIDs : 0) +\n        // Regular operations\n        pendingOperations.length,\n    );\n\n    // Identify which renderer this update is coming from.\n    // This enables roots to be mapped to renderers,\n    // Which in turn enables fiber props, states, and hooks to be inspected.\n    let i = 0;\n    operations[i++] = rendererID;\n    operations[i++] = currentRootID;\n\n    // Now fill in the string table.\n    // [stringTableLength, str1Length, ...str1, str2Length, ...str2, ...]\n    operations[i++] = pendingStringTableLength;\n    pendingStringTable.forEach((entry, stringKey) => {\n      const encodedString = entry.encodedString;\n\n      // Don't use the string length.\n      // It won't work for multibyte characters (like emoji).\n      const length = encodedString.length;\n\n      operations[i++] = length;\n      for (let j = 0; j < length; j++) {\n        operations[i + j] = encodedString[j];\n      }\n\n      i += length;\n    });\n\n    if (numUnmountIDs > 0) {\n      // All unmounts except roots are batched in a single message.\n      operations[i++] = TREE_OPERATION_REMOVE;\n      // The first number is how many unmounted IDs we're gonna send.\n      operations[i++] = numUnmountIDs;\n      // Fill in the real unmounts in the reverse order.\n      // They were inserted parents-first by React, but we want children-first.\n      // So we traverse our array backwards.\n      for (let j = pendingRealUnmountedIDs.length - 1; j >= 0; j--) {\n        operations[i++] = pendingRealUnmountedIDs[j];\n      }\n      // Fill in the simulated unmounts (hidden Suspense subtrees) in their order.\n      // (We want children to go before parents.)\n      // They go *after* the real unmounts because we know for sure they won't be\n      // children of already pushed \"real\" IDs. If they were, we wouldn't be able\n      // to discover them during the traversal, as they would have been deleted.\n      for (let j = 0; j < pendingSimulatedUnmountedIDs.length; j++) {\n        operations[i + j] = pendingSimulatedUnmountedIDs[j];\n      }\n      i += pendingSimulatedUnmountedIDs.length;\n      // The root ID should always be unmounted last.\n      if (pendingUnmountedRootID !== null) {\n        operations[i] = pendingUnmountedRootID;\n        i++;\n      }\n    }\n    // Fill in the rest of the operations.\n    for (let j = 0; j < pendingOperations.length; j++) {\n      operations[i + j] = pendingOperations[j];\n    }\n    i += pendingOperations.length;\n\n    // Let the frontend know about tree operations.\n    flushOrQueueOperations(operations);\n\n    // Reset all of the pending state now that we've told the frontend about it.\n    pendingOperations.length = 0;\n    pendingRealUnmountedIDs.length = 0;\n    pendingSimulatedUnmountedIDs.length = 0;\n    pendingUnmountedRootID = null;\n    pendingStringTable.clear();\n    pendingStringTableLength = 0;\n  }\n\n  function getStringID(string: string | null): number {\n    if (string === null) {\n      return 0;\n    }\n    const existingEntry = pendingStringTable.get(string);\n    if (existingEntry !== undefined) {\n      return existingEntry.id;\n    }\n\n    const id = pendingStringTable.size + 1;\n    const encodedString = utfEncodeString(string);\n\n    pendingStringTable.set(string, {\n      encodedString,\n      id,\n    });\n\n    // The string table total length needs to account both for the string length,\n    // and for the array item that contains the length itself.\n    //\n    // Don't use string length for this table.\n    // It won't work for multibyte characters (like emoji).\n    pendingStringTableLength += encodedString.length + 1;\n\n    return id;\n  }\n\n  function recordMount(fiber: Fiber, parentFiber: Fiber | null) {\n    const isRoot = fiber.tag === HostRoot;\n    const id = getOrGenerateFiberID(fiber);\n\n    if (__DEBUG__) {\n      debug('recordMount()', fiber, parentFiber);\n    }\n\n    const hasOwnerMetadata = fiber.hasOwnProperty('_debugOwner');\n    const isProfilingSupported = fiber.hasOwnProperty('treeBaseDuration');\n\n    // Adding a new field here would require a bridge protocol version bump (a backwads breaking change).\n    // Instead let's re-purpose a pre-existing field to carry more information.\n    let profilingFlags = 0;\n    if (isProfilingSupported) {\n      profilingFlags = PROFILING_FLAG_BASIC_SUPPORT;\n      if (typeof injectProfilingHooks === 'function') {\n        profilingFlags |= PROFILING_FLAG_TIMELINE_SUPPORT;\n      }\n    }\n\n    if (isRoot) {\n      pushOperation(TREE_OPERATION_ADD);\n      pushOperation(id);\n      pushOperation(ElementTypeRoot);\n      pushOperation((fiber.mode & StrictModeBits) !== 0 ? 1 : 0);\n      pushOperation(profilingFlags);\n      pushOperation(StrictModeBits !== 0 ? 1 : 0);\n      pushOperation(hasOwnerMetadata ? 1 : 0);\n\n      if (isProfiling) {\n        if (displayNamesByRootID !== null) {\n          displayNamesByRootID.set(id, getDisplayNameForRoot(fiber));\n        }\n      }\n    } else {\n      const {key} = fiber;\n      const displayName = getDisplayNameForFiber(fiber);\n      const elementType = getElementTypeForFiber(fiber);\n      const {_debugOwner} = fiber;\n\n      // Ideally we should call getFiberIDThrows() for _debugOwner,\n      // since owners are almost always higher in the tree (and so have already been processed),\n      // but in some (rare) instances reported in open source, a descendant mounts before an owner.\n      // Since this is a DEV only field it's probably okay to also just lazily generate and ID here if needed.\n      // See https://github.com/facebook/react/issues/21445\n      const ownerID =\n        _debugOwner != null ? getOrGenerateFiberID(_debugOwner) : 0;\n      const parentID = parentFiber ? getFiberIDThrows(parentFiber) : 0;\n\n      const displayNameStringID = getStringID(displayName);\n\n      // This check is a guard to handle a React element that has been modified\n      // in such a way as to bypass the default stringification of the \"key\" property.\n      const keyString = key === null ? null : String(key);\n      const keyStringID = getStringID(keyString);\n\n      pushOperation(TREE_OPERATION_ADD);\n      pushOperation(id);\n      pushOperation(elementType);\n      pushOperation(parentID);\n      pushOperation(ownerID);\n      pushOperation(displayNameStringID);\n      pushOperation(keyStringID);\n\n      // If this subtree has a new mode, let the frontend know.\n      if (\n        (fiber.mode & StrictModeBits) !== 0 &&\n        (((parentFiber: any): Fiber).mode & StrictModeBits) === 0\n      ) {\n        pushOperation(TREE_OPERATION_SET_SUBTREE_MODE);\n        pushOperation(id);\n        pushOperation(StrictMode);\n      }\n    }\n\n    if (isProfilingSupported) {\n      idToRootMap.set(id, currentRootID);\n\n      recordProfilingDurations(fiber);\n    }\n  }\n\n  function recordUnmount(fiber: Fiber, isSimulated: boolean) {\n    if (__DEBUG__) {\n      debug(\n        'recordUnmount()',\n        fiber,\n        null,\n        isSimulated ? 'unmount is simulated' : '',\n      );\n    }\n\n    if (trackedPathMatchFiber !== null) {\n      // We're in the process of trying to restore previous selection.\n      // If this fiber matched but is being unmounted, there's no use trying.\n      // Reset the state so we don't keep holding onto it.\n      if (\n        fiber === trackedPathMatchFiber ||\n        fiber === trackedPathMatchFiber.alternate\n      ) {\n        setTrackedPath(null);\n      }\n    }\n\n    const unsafeID = getFiberIDUnsafe(fiber);\n    if (unsafeID === null) {\n      // If we've never seen this Fiber, it might be inside of a legacy render Suspense fragment (so the store is not even aware of it).\n      // In that case we can just ignore it or it will cause errors later on.\n      // One example of this is a Lazy component that never resolves before being unmounted.\n      //\n      // This also might indicate a Fast Refresh force-remount scenario.\n      //\n      // TODO: This is fragile and can obscure actual bugs.\n      return;\n    }\n\n    // Flow refinement.\n    const id = ((unsafeID: any): number);\n    const isRoot = fiber.tag === HostRoot;\n    if (isRoot) {\n      // Roots must be removed only after all children (pending and simulated) have been removed.\n      // So we track it separately.\n      pendingUnmountedRootID = id;\n    } else if (!shouldFilterFiber(fiber)) {\n      // To maintain child-first ordering,\n      // we'll push it into one of these queues,\n      // and later arrange them in the correct order.\n      if (isSimulated) {\n        pendingSimulatedUnmountedIDs.push(id);\n      } else {\n        pendingRealUnmountedIDs.push(id);\n      }\n    }\n\n    if (!fiber._debugNeedsRemount) {\n      untrackFiberID(fiber);\n\n      const isProfilingSupported = fiber.hasOwnProperty('treeBaseDuration');\n      if (isProfilingSupported) {\n        idToRootMap.delete(id);\n        idToTreeBaseDurationMap.delete(id);\n      }\n    }\n  }\n\n  function mountFiberRecursively(\n    firstChild: Fiber,\n    parentFiber: Fiber | null,\n    traverseSiblings: boolean,\n    traceNearestHostComponentUpdate: boolean,\n  ) {\n    // Iterate over siblings rather than recursing.\n    // This reduces the chance of stack overflow for wide trees (e.g. lists with many items).\n    let fiber: Fiber | null = firstChild;\n    while (fiber !== null) {\n      // Generate an ID even for filtered Fibers, in case it's needed later (e.g. for Profiling).\n      getOrGenerateFiberID(fiber);\n\n      if (__DEBUG__) {\n        debug('mountFiberRecursively()', fiber, parentFiber);\n      }\n\n      // If we have the tree selection from previous reload, try to match this Fiber.\n      // Also remember whether to do the same for siblings.\n      const mightSiblingsBeOnTrackedPath =\n        updateTrackedPathStateBeforeMount(fiber);\n\n      const shouldIncludeInTree = !shouldFilterFiber(fiber);\n      if (shouldIncludeInTree) {\n        recordMount(fiber, parentFiber);\n      }\n\n      if (traceUpdatesEnabled) {\n        if (traceNearestHostComponentUpdate) {\n          const elementType = getElementTypeForFiber(fiber);\n          // If an ancestor updated, we should mark the nearest host nodes for highlighting.\n          if (elementType === ElementTypeHostComponent) {\n            traceUpdatesForNodes.add(fiber.stateNode);\n            traceNearestHostComponentUpdate = false;\n          }\n        }\n\n        // We intentionally do not re-enable the traceNearestHostComponentUpdate flag in this branch,\n        // because we don't want to highlight every host node inside of a newly mounted subtree.\n      }\n\n      const isSuspense = fiber.tag === ReactTypeOfWork.SuspenseComponent;\n      if (isSuspense) {\n        const isTimedOut = fiber.memoizedState !== null;\n        if (isTimedOut) {\n          // Special case: if Suspense mounts in a timed-out state,\n          // get the fallback child from the inner fragment and mount\n          // it as if it was our own child. Updates handle this too.\n          const primaryChildFragment = fiber.child;\n          const fallbackChildFragment = primaryChildFragment\n            ? primaryChildFragment.sibling\n            : null;\n          const fallbackChild = fallbackChildFragment\n            ? fallbackChildFragment.child\n            : null;\n          if (fallbackChild !== null) {\n            mountFiberRecursively(\n              fallbackChild,\n              shouldIncludeInTree ? fiber : parentFiber,\n              true,\n              traceNearestHostComponentUpdate,\n            );\n          }\n        } else {\n          let primaryChild: Fiber | null = null;\n          const areSuspenseChildrenConditionallyWrapped =\n            OffscreenComponent === -1;\n          if (areSuspenseChildrenConditionallyWrapped) {\n            primaryChild = fiber.child;\n          } else if (fiber.child !== null) {\n            primaryChild = fiber.child.child;\n          }\n          if (primaryChild !== null) {\n            mountFiberRecursively(\n              primaryChild,\n              shouldIncludeInTree ? fiber : parentFiber,\n              true,\n              traceNearestHostComponentUpdate,\n            );\n          }\n        }\n      } else {\n        if (fiber.child !== null) {\n          mountFiberRecursively(\n            fiber.child,\n            shouldIncludeInTree ? fiber : parentFiber,\n            true,\n            traceNearestHostComponentUpdate,\n          );\n        }\n      }\n\n      // We're exiting this Fiber now, and entering its siblings.\n      // If we have selection to restore, we might need to re-activate tracking.\n      updateTrackedPathStateAfterMount(mightSiblingsBeOnTrackedPath);\n\n      fiber = traverseSiblings ? fiber.sibling : null;\n    }\n  }\n\n  // We use this to simulate unmounting for Suspense trees\n  // when we switch from primary to fallback.\n  function unmountFiberChildrenRecursively(fiber: Fiber) {\n    if (__DEBUG__) {\n      debug('unmountFiberChildrenRecursively()', fiber);\n    }\n\n    // We might meet a nested Suspense on our way.\n    const isTimedOutSuspense =\n      fiber.tag === ReactTypeOfWork.SuspenseComponent &&\n      fiber.memoizedState !== null;\n\n    let child = fiber.child;\n    if (isTimedOutSuspense) {\n      // If it's showing fallback tree, let's traverse it instead.\n      const primaryChildFragment = fiber.child;\n      const fallbackChildFragment = primaryChildFragment\n        ? primaryChildFragment.sibling\n        : null;\n      // Skip over to the real Fiber child.\n      child = fallbackChildFragment ? fallbackChildFragment.child : null;\n    }\n\n    while (child !== null) {\n      // Record simulated unmounts children-first.\n      // We skip nodes without return because those are real unmounts.\n      if (child.return !== null) {\n        unmountFiberChildrenRecursively(child);\n        recordUnmount(child, true);\n      }\n      child = child.sibling;\n    }\n  }\n\n  function recordProfilingDurations(fiber: Fiber) {\n    const id = getFiberIDThrows(fiber);\n    const {actualDuration, treeBaseDuration} = fiber;\n\n    idToTreeBaseDurationMap.set(id, treeBaseDuration || 0);\n\n    if (isProfiling) {\n      const {alternate} = fiber;\n\n      // It's important to update treeBaseDuration even if the current Fiber did not render,\n      // because it's possible that one of its descendants did.\n      if (\n        alternate == null ||\n        treeBaseDuration !== alternate.treeBaseDuration\n      ) {\n        // Tree base duration updates are included in the operations typed array.\n        // So we have to convert them from milliseconds to microseconds so we can send them as ints.\n        const convertedTreeBaseDuration = Math.floor(\n          (treeBaseDuration || 0) * 1000,\n        );\n        pushOperation(TREE_OPERATION_UPDATE_TREE_BASE_DURATION);\n        pushOperation(id);\n        pushOperation(convertedTreeBaseDuration);\n      }\n\n      if (alternate == null || didFiberRender(alternate, fiber)) {\n        if (actualDuration != null) {\n          // The actual duration reported by React includes time spent working on children.\n          // This is useful information, but it's also useful to be able to exclude child durations.\n          // The frontend can't compute this, since the immediate children may have been filtered out.\n          // So we need to do this on the backend.\n          // Note that this calculated self duration is not the same thing as the base duration.\n          // The two are calculated differently (tree duration does not accumulate).\n          let selfDuration = actualDuration;\n          let child = fiber.child;\n          while (child !== null) {\n            selfDuration -= child.actualDuration || 0;\n            child = child.sibling;\n          }\n\n          // If profiling is active, store durations for elements that were rendered during the commit.\n          // Note that we should do this for any fiber we performed work on, regardless of its actualDuration value.\n          // In some cases actualDuration might be 0 for fibers we worked on (particularly if we're using Date.now)\n          // In other cases (e.g. Memo) actualDuration might be greater than 0 even if we \"bailed out\".\n          const metadata =\n            ((currentCommitProfilingMetadata: any): CommitProfilingData);\n          metadata.durations.push(id, actualDuration, selfDuration);\n          metadata.maxActualDuration = Math.max(\n            metadata.maxActualDuration,\n            actualDuration,\n          );\n\n          if (recordChangeDescriptions) {\n            const changeDescription = getChangeDescription(alternate, fiber);\n            if (changeDescription !== null) {\n              if (metadata.changeDescriptions !== null) {\n                metadata.changeDescriptions.set(id, changeDescription);\n              }\n            }\n\n            updateContextsForFiber(fiber);\n          }\n        }\n      }\n    }\n  }\n\n  function recordResetChildren(fiber: Fiber, childSet: Fiber) {\n    if (__DEBUG__) {\n      debug('recordResetChildren()', childSet, fiber);\n    }\n    // The frontend only really cares about the displayName, key, and children.\n    // The first two don't really change, so we are only concerned with the order of children here.\n    // This is trickier than a simple comparison though, since certain types of fibers are filtered.\n    const nextChildren: Array<number> = [];\n\n    // This is a naive implementation that shallowly recourses children.\n    // We might want to revisit this if it proves to be too inefficient.\n    let child: null | Fiber = childSet;\n    while (child !== null) {\n      findReorderedChildrenRecursively(child, nextChildren);\n      child = child.sibling;\n    }\n\n    const numChildren = nextChildren.length;\n    if (numChildren < 2) {\n      // No need to reorder.\n      return;\n    }\n    pushOperation(TREE_OPERATION_REORDER_CHILDREN);\n    pushOperation(getFiberIDThrows(fiber));\n    pushOperation(numChildren);\n    for (let i = 0; i < nextChildren.length; i++) {\n      pushOperation(nextChildren[i]);\n    }\n  }\n\n  function findReorderedChildrenRecursively(\n    fiber: Fiber,\n    nextChildren: Array<number>,\n  ) {\n    if (!shouldFilterFiber(fiber)) {\n      nextChildren.push(getFiberIDThrows(fiber));\n    } else {\n      let child = fiber.child;\n      const isTimedOutSuspense =\n        fiber.tag === SuspenseComponent && fiber.memoizedState !== null;\n      if (isTimedOutSuspense) {\n        // Special case: if Suspense mounts in a timed-out state,\n        // get the fallback child from the inner fragment,\n        // and skip over the primary child.\n        const primaryChildFragment = fiber.child;\n        const fallbackChildFragment = primaryChildFragment\n          ? primaryChildFragment.sibling\n          : null;\n        const fallbackChild = fallbackChildFragment\n          ? fallbackChildFragment.child\n          : null;\n        if (fallbackChild !== null) {\n          child = fallbackChild;\n        }\n      }\n      while (child !== null) {\n        findReorderedChildrenRecursively(child, nextChildren);\n        child = child.sibling;\n      }\n    }\n  }\n\n  // Returns whether closest unfiltered fiber parent needs to reset its child list.\n  function updateFiberRecursively(\n    nextFiber: Fiber,\n    prevFiber: Fiber,\n    parentFiber: Fiber | null,\n    traceNearestHostComponentUpdate: boolean,\n  ): boolean {\n    const id = getOrGenerateFiberID(nextFiber);\n\n    if (__DEBUG__) {\n      debug('updateFiberRecursively()', nextFiber, parentFiber);\n    }\n\n    if (traceUpdatesEnabled) {\n      const elementType = getElementTypeForFiber(nextFiber);\n      if (traceNearestHostComponentUpdate) {\n        // If an ancestor updated, we should mark the nearest host nodes for highlighting.\n        if (elementType === ElementTypeHostComponent) {\n          traceUpdatesForNodes.add(nextFiber.stateNode);\n          traceNearestHostComponentUpdate = false;\n        }\n      } else {\n        if (\n          elementType === ElementTypeFunction ||\n          elementType === ElementTypeClass ||\n          elementType === ElementTypeContext ||\n          elementType === ElementTypeMemo ||\n          elementType === ElementTypeForwardRef\n        ) {\n          // Otherwise if this is a traced ancestor, flag for the nearest host descendant(s).\n          traceNearestHostComponentUpdate = didFiberRender(\n            prevFiber,\n            nextFiber,\n          );\n        }\n      }\n    }\n\n    if (\n      mostRecentlyInspectedElement !== null &&\n      mostRecentlyInspectedElement.id === id &&\n      didFiberRender(prevFiber, nextFiber)\n    ) {\n      // If this Fiber has updated, clear cached inspected data.\n      // If it is inspected again, it may need to be re-run to obtain updated hooks values.\n      hasElementUpdatedSinceLastInspected = true;\n    }\n\n    const shouldIncludeInTree = !shouldFilterFiber(nextFiber);\n    const isSuspense = nextFiber.tag === SuspenseComponent;\n    let shouldResetChildren = false;\n    // The behavior of timed-out Suspense trees is unique.\n    // Rather than unmount the timed out content (and possibly lose important state),\n    // React re-parents this content within a hidden Fragment while the fallback is showing.\n    // This behavior doesn't need to be observable in the DevTools though.\n    // It might even result in a bad user experience for e.g. node selection in the Elements panel.\n    // The easiest fix is to strip out the intermediate Fragment fibers,\n    // so the Elements panel and Profiler don't need to special case them.\n    // Suspense components only have a non-null memoizedState if they're timed-out.\n    const prevDidTimeout = isSuspense && prevFiber.memoizedState !== null;\n    const nextDidTimeOut = isSuspense && nextFiber.memoizedState !== null;\n    // The logic below is inspired by the code paths in updateSuspenseComponent()\n    // inside ReactFiberBeginWork in the React source code.\n    if (prevDidTimeout && nextDidTimeOut) {\n      // Fallback -> Fallback:\n      // 1. Reconcile fallback set.\n      const nextFiberChild = nextFiber.child;\n      const nextFallbackChildSet = nextFiberChild\n        ? nextFiberChild.sibling\n        : null;\n      // Note: We can't use nextFiber.child.sibling.alternate\n      // because the set is special and alternate may not exist.\n      const prevFiberChild = prevFiber.child;\n      const prevFallbackChildSet = prevFiberChild\n        ? prevFiberChild.sibling\n        : null;\n\n      if (prevFallbackChildSet == null && nextFallbackChildSet != null) {\n        mountFiberRecursively(\n          nextFallbackChildSet,\n          shouldIncludeInTree ? nextFiber : parentFiber,\n          true,\n          traceNearestHostComponentUpdate,\n        );\n\n        shouldResetChildren = true;\n      }\n\n      if (\n        nextFallbackChildSet != null &&\n        prevFallbackChildSet != null &&\n        updateFiberRecursively(\n          nextFallbackChildSet,\n          prevFallbackChildSet,\n          nextFiber,\n          traceNearestHostComponentUpdate,\n        )\n      ) {\n        shouldResetChildren = true;\n      }\n    } else if (prevDidTimeout && !nextDidTimeOut) {\n      // Fallback -> Primary:\n      // 1. Unmount fallback set\n      // Note: don't emulate fallback unmount because React actually did it.\n      // 2. Mount primary set\n      const nextPrimaryChildSet = nextFiber.child;\n      if (nextPrimaryChildSet !== null) {\n        mountFiberRecursively(\n          nextPrimaryChildSet,\n          shouldIncludeInTree ? nextFiber : parentFiber,\n          true,\n          traceNearestHostComponentUpdate,\n        );\n      }\n      shouldResetChildren = true;\n    } else if (!prevDidTimeout && nextDidTimeOut) {\n      // Primary -> Fallback:\n      // 1. Hide primary set\n      // This is not a real unmount, so it won't get reported by React.\n      // We need to manually walk the previous tree and record unmounts.\n      unmountFiberChildrenRecursively(prevFiber);\n      // 2. Mount fallback set\n      const nextFiberChild = nextFiber.child;\n      const nextFallbackChildSet = nextFiberChild\n        ? nextFiberChild.sibling\n        : null;\n      if (nextFallbackChildSet != null) {\n        mountFiberRecursively(\n          nextFallbackChildSet,\n          shouldIncludeInTree ? nextFiber : parentFiber,\n          true,\n          traceNearestHostComponentUpdate,\n        );\n        shouldResetChildren = true;\n      }\n    } else {\n      // Common case: Primary -> Primary.\n      // This is the same code path as for non-Suspense fibers.\n      if (nextFiber.child !== prevFiber.child) {\n        // If the first child is different, we need to traverse them.\n        // Each next child will be either a new child (mount) or an alternate (update).\n        let nextChild = nextFiber.child;\n        let prevChildAtSameIndex = prevFiber.child;\n        while (nextChild) {\n          // We already know children will be referentially different because\n          // they are either new mounts or alternates of previous children.\n          // Schedule updates and mounts depending on whether alternates exist.\n          // We don't track deletions here because they are reported separately.\n          if (nextChild.alternate) {\n            const prevChild = nextChild.alternate;\n            if (\n              updateFiberRecursively(\n                nextChild,\n                prevChild,\n                shouldIncludeInTree ? nextFiber : parentFiber,\n                traceNearestHostComponentUpdate,\n              )\n            ) {\n              // If a nested tree child order changed but it can't handle its own\n              // child order invalidation (e.g. because it's filtered out like host nodes),\n              // propagate the need to reset child order upwards to this Fiber.\n              shouldResetChildren = true;\n            }\n            // However we also keep track if the order of the children matches\n            // the previous order. They are always different referentially, but\n            // if the instances line up conceptually we'll want to know that.\n            if (prevChild !== prevChildAtSameIndex) {\n              shouldResetChildren = true;\n            }\n          } else {\n            mountFiberRecursively(\n              nextChild,\n              shouldIncludeInTree ? nextFiber : parentFiber,\n              false,\n              traceNearestHostComponentUpdate,\n            );\n            shouldResetChildren = true;\n          }\n          // Try the next child.\n          nextChild = nextChild.sibling;\n          // Advance the pointer in the previous list so that we can\n          // keep comparing if they line up.\n          if (!shouldResetChildren && prevChildAtSameIndex !== null) {\n            prevChildAtSameIndex = prevChildAtSameIndex.sibling;\n          }\n        }\n        // If we have no more children, but used to, they don't line up.\n        if (prevChildAtSameIndex !== null) {\n          shouldResetChildren = true;\n        }\n      } else {\n        if (traceUpdatesEnabled) {\n          // If we're tracing updates and we've bailed out before reaching a host node,\n          // we should fall back to recursively marking the nearest host descendants for highlight.\n          if (traceNearestHostComponentUpdate) {\n            const hostFibers = findAllCurrentHostFibers(\n              getFiberIDThrows(nextFiber),\n            );\n            hostFibers.forEach(hostFiber => {\n              traceUpdatesForNodes.add(hostFiber.stateNode);\n            });\n          }\n        }\n      }\n    }\n\n    if (shouldIncludeInTree) {\n      const isProfilingSupported = nextFiber.hasOwnProperty('treeBaseDuration');\n      if (isProfilingSupported) {\n        recordProfilingDurations(nextFiber);\n      }\n    }\n    if (shouldResetChildren) {\n      // We need to crawl the subtree for closest non-filtered Fibers\n      // so that we can display them in a flat children set.\n      if (shouldIncludeInTree) {\n        // Normally, search for children from the rendered child.\n        let nextChildSet = nextFiber.child;\n        if (nextDidTimeOut) {\n          // Special case: timed-out Suspense renders the fallback set.\n          const nextFiberChild = nextFiber.child;\n          nextChildSet = nextFiberChild ? nextFiberChild.sibling : null;\n        }\n        if (nextChildSet != null) {\n          recordResetChildren(nextFiber, nextChildSet);\n        }\n        // We've handled the child order change for this Fiber.\n        // Since it's included, there's no need to invalidate parent child order.\n        return false;\n      } else {\n        // Let the closest unfiltered parent Fiber reset its child order instead.\n        return true;\n      }\n    } else {\n      return false;\n    }\n  }\n\n  function cleanup() {\n    // We don't patch any methods so there is no cleanup.\n  }\n\n  function rootSupportsProfiling(root: any) {\n    if (root.memoizedInteractions != null) {\n      // v16 builds include this field for the scheduler/tracing API.\n      return true;\n    } else if (\n      root.current != null &&\n      root.current.hasOwnProperty('treeBaseDuration')\n    ) {\n      // The scheduler/tracing API was removed in v17 though\n      // so we need to check a non-root Fiber.\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  function flushInitialOperations() {\n    const localPendingOperationsQueue = pendingOperationsQueue;\n\n    pendingOperationsQueue = null;\n\n    if (\n      localPendingOperationsQueue !== null &&\n      localPendingOperationsQueue.length > 0\n    ) {\n      // We may have already queued up some operations before the frontend connected\n      // If so, let the frontend know about them.\n      localPendingOperationsQueue.forEach(operations => {\n        hook.emit('operations', operations);\n      });\n    } else {\n      // Before the traversals, remember to start tracking\n      // our path in case we have selection to restore.\n      if (trackedPath !== null) {\n        mightBeOnTrackedPath = true;\n      }\n      // If we have not been profiling, then we can just walk the tree and build up its current state as-is.\n      hook.getFiberRoots(rendererID).forEach(root => {\n        currentRootID = getOrGenerateFiberID(root.current);\n        setRootPseudoKey(currentRootID, root.current);\n\n        // Handle multi-renderer edge-case where only some v16 renderers support profiling.\n        if (isProfiling && rootSupportsProfiling(root)) {\n          // If profiling is active, store commit time and duration.\n          // The frontend may request this information after profiling has stopped.\n          currentCommitProfilingMetadata = {\n            changeDescriptions: recordChangeDescriptions ? new Map() : null,\n            durations: [],\n            commitTime: getCurrentTime() - profilingStartTime,\n            maxActualDuration: 0,\n            priorityLevel: null,\n            updaters: getUpdatersList(root),\n            effectDuration: null,\n            passiveEffectDuration: null,\n          };\n        }\n\n        mountFiberRecursively(root.current, null, false, false);\n        flushPendingEvents(root);\n        currentRootID = -1;\n      });\n    }\n  }\n\n  function getUpdatersList(root: any): Array<SerializedElement> | null {\n    return root.memoizedUpdaters != null\n      ? Array.from(root.memoizedUpdaters)\n          .filter(fiber => getFiberIDUnsafe(fiber) !== null)\n          .map(fiberToSerializedElement)\n      : null;\n  }\n\n  function handleCommitFiberUnmount(fiber: any) {\n    // If the untrackFiberSet already has the unmounted Fiber, this means we've already\n    // recordedUnmount, so we don't need to do it again. If we don't do this, we might\n    // end up double-deleting Fibers in some cases (like Legacy Suspense).\n    if (!untrackFibersSet.has(fiber)) {\n      // This is not recursive.\n      // We can't traverse fibers after unmounting so instead\n      // we rely on React telling us about each unmount.\n      recordUnmount(fiber, false);\n    }\n  }\n\n  function handlePostCommitFiberRoot(root: any) {\n    if (isProfiling && rootSupportsProfiling(root)) {\n      if (currentCommitProfilingMetadata !== null) {\n        const {effectDuration, passiveEffectDuration} =\n          getEffectDurations(root);\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentCommitProfilingMetadata.effectDuration = effectDuration;\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        currentCommitProfilingMetadata.passiveEffectDuration =\n          passiveEffectDuration;\n      }\n    }\n  }\n\n  function handleCommitFiberRoot(root: any, priorityLevel: void | number) {\n    const current = root.current;\n    const alternate = current.alternate;\n\n    // Flush any pending Fibers that we are untracking before processing the new commit.\n    // If we don't do this, we might end up double-deleting Fibers in some cases (like Legacy Suspense).\n    untrackFibers();\n\n    currentRootID = getOrGenerateFiberID(current);\n\n    // Before the traversals, remember to start tracking\n    // our path in case we have selection to restore.\n    if (trackedPath !== null) {\n      mightBeOnTrackedPath = true;\n    }\n\n    if (traceUpdatesEnabled) {\n      traceUpdatesForNodes.clear();\n    }\n\n    // Handle multi-renderer edge-case where only some v16 renderers support profiling.\n    const isProfilingSupported = rootSupportsProfiling(root);\n\n    if (isProfiling && isProfilingSupported) {\n      // If profiling is active, store commit time and duration.\n      // The frontend may request this information after profiling has stopped.\n      currentCommitProfilingMetadata = {\n        changeDescriptions: recordChangeDescriptions ? new Map() : null,\n        durations: [],\n        commitTime: getCurrentTime() - profilingStartTime,\n        maxActualDuration: 0,\n        priorityLevel:\n          priorityLevel == null ? null : formatPriorityLevel(priorityLevel),\n\n        updaters: getUpdatersList(root),\n\n        // Initialize to null; if new enough React version is running,\n        // these values will be read during separate handlePostCommitFiberRoot() call.\n        effectDuration: null,\n        passiveEffectDuration: null,\n      };\n    }\n\n    if (alternate) {\n      // TODO: relying on this seems a bit fishy.\n      const wasMounted =\n        alternate.memoizedState != null &&\n        alternate.memoizedState.element != null &&\n        // A dehydrated root is not considered mounted\n        alternate.memoizedState.isDehydrated !== true;\n      const isMounted =\n        current.memoizedState != null &&\n        current.memoizedState.element != null &&\n        // A dehydrated root is not considered mounted\n        current.memoizedState.isDehydrated !== true;\n      if (!wasMounted && isMounted) {\n        // Mount a new root.\n        setRootPseudoKey(currentRootID, current);\n        mountFiberRecursively(current, null, false, false);\n      } else if (wasMounted && isMounted) {\n        // Update an existing root.\n        updateFiberRecursively(current, alternate, null, false);\n      } else if (wasMounted && !isMounted) {\n        // Unmount an existing root.\n        removeRootPseudoKey(currentRootID);\n        recordUnmount(current, false);\n      }\n    } else {\n      // Mount a new root.\n      setRootPseudoKey(currentRootID, current);\n      mountFiberRecursively(current, null, false, false);\n    }\n\n    if (isProfiling && isProfilingSupported) {\n      if (!shouldBailoutWithPendingOperations()) {\n        const commitProfilingMetadata =\n          ((rootToCommitProfilingMetadataMap: any): CommitProfilingMetadataMap).get(\n            currentRootID,\n          );\n\n        if (commitProfilingMetadata != null) {\n          commitProfilingMetadata.push(\n            ((currentCommitProfilingMetadata: any): CommitProfilingData),\n          );\n        } else {\n          ((rootToCommitProfilingMetadataMap: any): CommitProfilingMetadataMap).set(\n            currentRootID,\n            [((currentCommitProfilingMetadata: any): CommitProfilingData)],\n          );\n        }\n      }\n    }\n\n    // We're done here.\n    flushPendingEvents(root);\n\n    if (traceUpdatesEnabled) {\n      hook.emit('traceUpdates', traceUpdatesForNodes);\n    }\n\n    currentRootID = -1;\n  }\n\n  function findAllCurrentHostFibers(id: number): $ReadOnlyArray<Fiber> {\n    const fibers = [];\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (!fiber) {\n      return fibers;\n    }\n\n    // Next we'll drill down this component to find all HostComponent/Text.\n    let node: Fiber = fiber;\n    while (true) {\n      if (node.tag === HostComponent || node.tag === HostText) {\n        fibers.push(node);\n      } else if (node.child) {\n        node.child.return = node;\n        node = node.child;\n        continue;\n      }\n      if (node === fiber) {\n        return fibers;\n      }\n      while (!node.sibling) {\n        if (!node.return || node.return === fiber) {\n          return fibers;\n        }\n        node = node.return;\n      }\n      node.sibling.return = node.return;\n      node = node.sibling;\n    }\n    // Flow needs the return here, but ESLint complains about it.\n    // eslint-disable-next-line no-unreachable\n    return fibers;\n  }\n\n  function findNativeNodesForFiberID(id: number) {\n    try {\n      const fiber = findCurrentFiberUsingSlowPathById(id);\n      if (fiber === null) {\n        return null;\n      }\n\n      const hostFibers = findAllCurrentHostFibers(id);\n      return hostFibers.map(hostFiber => hostFiber.stateNode).filter(Boolean);\n    } catch (err) {\n      // The fiber might have unmounted by now.\n      return null;\n    }\n  }\n\n  function getDisplayNameForFiberID(id: number): null | string {\n    const fiber = idToArbitraryFiberMap.get(id);\n    return fiber != null ? getDisplayNameForFiber(fiber) : null;\n  }\n\n  function getFiberForNative(hostInstance: NativeType) {\n    return renderer.findFiberByHostInstance(hostInstance);\n  }\n\n  function getFiberIDForNative(\n    hostInstance: NativeType,\n    findNearestUnfilteredAncestor: boolean = false,\n  ) {\n    let fiber = renderer.findFiberByHostInstance(hostInstance);\n    if (fiber != null) {\n      if (findNearestUnfilteredAncestor) {\n        while (fiber !== null && shouldFilterFiber(fiber)) {\n          fiber = fiber.return;\n        }\n      }\n      return getFiberIDThrows(((fiber: any): Fiber));\n    }\n    return null;\n  }\n\n  // This function is copied from React and should be kept in sync:\n  // https://github.com/facebook/react/blob/main/packages/react-reconciler/src/ReactFiberTreeReflection.js\n  function assertIsMounted(fiber: Fiber) {\n    if (getNearestMountedFiber(fiber) !== fiber) {\n      throw new Error('Unable to find node on an unmounted component.');\n    }\n  }\n\n  // This function is copied from React and should be kept in sync:\n  // https://github.com/facebook/react/blob/main/packages/react-reconciler/src/ReactFiberTreeReflection.js\n  function getNearestMountedFiber(fiber: Fiber): null | Fiber {\n    let node = fiber;\n    let nearestMounted: null | Fiber = fiber;\n    if (!fiber.alternate) {\n      // If there is no alternate, this might be a new tree that isn't inserted\n      // yet. If it is, then it will have a pending insertion effect on it.\n      let nextNode: Fiber = node;\n      do {\n        node = nextNode;\n        // TODO: This function, and these flags, are a leaked implementation\n        // detail. Once we start releasing DevTools in lockstep with React, we\n        // should import a function from the reconciler instead.\n        const Placement = 0b000000000000000000000000010;\n        const Hydrating = 0b000000000000001000000000000;\n        if ((node.flags & (Placement | Hydrating)) !== 0) {\n          // This is an insertion or in-progress hydration. The nearest possible\n          // mounted fiber is the parent but we need to continue to figure out\n          // if that one is still mounted.\n          nearestMounted = node.return;\n        }\n        // $FlowFixMe[incompatible-type] we bail out when we get a null\n        nextNode = node.return;\n      } while (nextNode);\n    } else {\n      while (node.return) {\n        node = node.return;\n      }\n    }\n    if (node.tag === HostRoot) {\n      // TODO: Check if this was a nested HostRoot when used with\n      // renderContainerIntoSubtree.\n      return nearestMounted;\n    }\n    // If we didn't hit the root, that means that we're in an disconnected tree\n    // that has been unmounted.\n    return null;\n  }\n\n  // This function is copied from React and should be kept in sync:\n  // https://github.com/facebook/react/blob/main/packages/react-reconciler/src/ReactFiberTreeReflection.js\n  // It would be nice if we updated React to inject this function directly (vs just indirectly via findDOMNode).\n  // BEGIN copied code\n  function findCurrentFiberUsingSlowPathById(id: number): Fiber | null {\n    const fiber = idToArbitraryFiberMap.get(id);\n    if (fiber == null) {\n      console.warn(`Could not find Fiber with id \"${id}\"`);\n      return null;\n    }\n\n    const alternate = fiber.alternate;\n    if (!alternate) {\n      // If there is no alternate, then we only need to check if it is mounted.\n      const nearestMounted = getNearestMountedFiber(fiber);\n\n      if (nearestMounted === null) {\n        throw new Error('Unable to find node on an unmounted component.');\n      }\n\n      if (nearestMounted !== fiber) {\n        return null;\n      }\n      return fiber;\n    }\n    // If we have two possible branches, we'll walk backwards up to the root\n    // to see what path the root points to. On the way we may hit one of the\n    // special cases and we'll deal with them.\n    let a: Fiber = fiber;\n    let b: Fiber = alternate;\n    while (true) {\n      const parentA = a.return;\n      if (parentA === null) {\n        // We're at the root.\n        break;\n      }\n      const parentB = parentA.alternate;\n      if (parentB === null) {\n        // There is no alternate. This is an unusual case. Currently, it only\n        // happens when a Suspense component is hidden. An extra fragment fiber\n        // is inserted in between the Suspense fiber and its children. Skip\n        // over this extra fragment fiber and proceed to the next parent.\n        const nextParent = parentA.return;\n        if (nextParent !== null) {\n          a = b = nextParent;\n          continue;\n        }\n        // If there's no parent, we're at the root.\n        break;\n      }\n\n      // If both copies of the parent fiber point to the same child, we can\n      // assume that the child is current. This happens when we bailout on low\n      // priority: the bailed out fiber's child reuses the current child.\n      if (parentA.child === parentB.child) {\n        let child = parentA.child;\n        while (child) {\n          if (child === a) {\n            // We've determined that A is the current branch.\n            assertIsMounted(parentA);\n            return fiber;\n          }\n          if (child === b) {\n            // We've determined that B is the current branch.\n            assertIsMounted(parentA);\n            return alternate;\n          }\n          child = child.sibling;\n        }\n\n        // We should never have an alternate for any mounting node. So the only\n        // way this could possibly happen is if this was unmounted, if at all.\n        throw new Error('Unable to find node on an unmounted component.');\n      }\n\n      if (a.return !== b.return) {\n        // The return pointer of A and the return pointer of B point to different\n        // fibers. We assume that return pointers never criss-cross, so A must\n        // belong to the child set of A.return, and B must belong to the child\n        // set of B.return.\n        a = parentA;\n        b = parentB;\n      } else {\n        // The return pointers point to the same fiber. We'll have to use the\n        // default, slow path: scan the child sets of each parent alternate to see\n        // which child belongs to which set.\n        //\n        // Search parent A's child set\n        let didFindChild = false;\n        let child = parentA.child;\n        while (child) {\n          if (child === a) {\n            didFindChild = true;\n            a = parentA;\n            b = parentB;\n            break;\n          }\n          if (child === b) {\n            didFindChild = true;\n            b = parentA;\n            a = parentB;\n            break;\n          }\n          child = child.sibling;\n        }\n        if (!didFindChild) {\n          // Search parent B's child set\n          child = parentB.child;\n          while (child) {\n            if (child === a) {\n              didFindChild = true;\n              a = parentB;\n              b = parentA;\n              break;\n            }\n            if (child === b) {\n              didFindChild = true;\n              b = parentB;\n              a = parentA;\n              break;\n            }\n            child = child.sibling;\n          }\n\n          if (!didFindChild) {\n            throw new Error(\n              'Child was not found in either parent set. This indicates a bug ' +\n                'in React related to the return pointer. Please file an issue.',\n            );\n          }\n        }\n      }\n\n      if (a.alternate !== b) {\n        throw new Error(\n          \"Return fibers should always be each others' alternates. \" +\n            'This error is likely caused by a bug in React. Please file an issue.',\n        );\n      }\n    }\n\n    // If the root is not a host container, we're in a disconnected tree. I.e.\n    // unmounted.\n    if (a.tag !== HostRoot) {\n      throw new Error('Unable to find node on an unmounted component.');\n    }\n\n    if (a.stateNode.current === a) {\n      // We've determined that A is the current branch.\n      return fiber;\n    }\n    // Otherwise B has to be current branch.\n    return alternate;\n  }\n\n  // END copied code\n\n  function prepareViewAttributeSource(\n    id: number,\n    path: Array<string | number>,\n  ): void {\n    if (isMostRecentlyInspectedElement(id)) {\n      window.$attribute = getInObject(\n        ((mostRecentlyInspectedElement: any): InspectedElement),\n        path,\n      );\n    }\n  }\n\n  function prepareViewElementSource(id: number): void {\n    const fiber = idToArbitraryFiberMap.get(id);\n    if (fiber == null) {\n      console.warn(`Could not find Fiber with id \"${id}\"`);\n      return;\n    }\n\n    const {elementType, tag, type} = fiber;\n\n    switch (tag) {\n      case ClassComponent:\n      case IncompleteClassComponent:\n      case IndeterminateComponent:\n      case FunctionComponent:\n        global.$type = type;\n        break;\n      case ForwardRef:\n        global.$type = type.render;\n        break;\n      case MemoComponent:\n      case SimpleMemoComponent:\n        global.$type =\n          elementType != null && elementType.type != null\n            ? elementType.type\n            : type;\n        break;\n      default:\n        global.$type = null;\n        break;\n    }\n  }\n\n  function fiberToSerializedElement(fiber: Fiber): SerializedElement {\n    return {\n      displayName: getDisplayNameForFiber(fiber) || 'Anonymous',\n      id: getFiberIDThrows(fiber),\n      key: fiber.key,\n      type: getElementTypeForFiber(fiber),\n    };\n  }\n\n  function getOwnersList(id: number): Array<SerializedElement> | null {\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber == null) {\n      return null;\n    }\n\n    const {_debugOwner} = fiber;\n\n    const owners: Array<SerializedElement> = [fiberToSerializedElement(fiber)];\n\n    if (_debugOwner) {\n      let owner: null | Fiber = _debugOwner;\n      while (owner !== null) {\n        owners.unshift(fiberToSerializedElement(owner));\n        owner = owner._debugOwner || null;\n      }\n    }\n\n    return owners;\n  }\n\n  // Fast path props lookup for React Native style editor.\n  // Could use inspectElementRaw() but that would require shallow rendering hooks components,\n  // and could also mess with memoization.\n  function getInstanceAndStyle(id: number): InstanceAndStyle {\n    let instance = null;\n    let style = null;\n\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber !== null) {\n      instance = fiber.stateNode;\n\n      if (fiber.memoizedProps !== null) {\n        style = fiber.memoizedProps.style;\n      }\n    }\n\n    return {instance, style};\n  }\n\n  function isErrorBoundary(fiber: Fiber): boolean {\n    const {tag, type} = fiber;\n\n    switch (tag) {\n      case ClassComponent:\n      case IncompleteClassComponent:\n        const instance = fiber.stateNode;\n        return (\n          typeof type.getDerivedStateFromError === 'function' ||\n          (instance !== null &&\n            typeof instance.componentDidCatch === 'function')\n        );\n      default:\n        return false;\n    }\n  }\n\n  function getNearestErrorBoundaryID(fiber: Fiber): number | null {\n    let parent = fiber.return;\n    while (parent !== null) {\n      if (isErrorBoundary(parent)) {\n        return getFiberIDUnsafe(parent);\n      }\n      parent = parent.return;\n    }\n    return null;\n  }\n\n  function inspectElementRaw(id: number): InspectedElement | null {\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber == null) {\n      return null;\n    }\n\n    const {\n      _debugOwner,\n      _debugSource,\n      stateNode,\n      key,\n      memoizedProps,\n      memoizedState,\n      dependencies,\n      tag,\n      type,\n    } = fiber;\n\n    const elementType = getElementTypeForFiber(fiber);\n\n    const usesHooks =\n      (tag === FunctionComponent ||\n        tag === SimpleMemoComponent ||\n        tag === ForwardRef) &&\n      (!!memoizedState || !!dependencies);\n\n    // TODO Show custom UI for Cache like we do for Suspense\n    // For now, just hide state data entirely since it's not meant to be inspected.\n    const showState = !usesHooks && tag !== CacheComponent;\n\n    const typeSymbol = getTypeSymbol(type);\n\n    let canViewSource = false;\n    let context = null;\n    if (\n      tag === ClassComponent ||\n      tag === FunctionComponent ||\n      tag === IncompleteClassComponent ||\n      tag === IndeterminateComponent ||\n      tag === MemoComponent ||\n      tag === ForwardRef ||\n      tag === SimpleMemoComponent\n    ) {\n      canViewSource = true;\n      if (stateNode && stateNode.context != null) {\n        // Don't show an empty context object for class components that don't use the context API.\n        const shouldHideContext =\n          elementType === ElementTypeClass &&\n          !(type.contextTypes || type.contextType);\n\n        if (!shouldHideContext) {\n          context = stateNode.context;\n        }\n      }\n    } else if (\n      typeSymbol === CONTEXT_NUMBER ||\n      typeSymbol === CONTEXT_SYMBOL_STRING\n    ) {\n      // 16.3-16.5 read from \"type\" because the Consumer is the actual context object.\n      // 16.6+ should read from \"type._context\" because Consumer can be different (in DEV).\n      // NOTE Keep in sync with getDisplayNameForFiber()\n      const consumerResolvedContext = type._context || type;\n\n      // Global context value.\n      context = consumerResolvedContext._currentValue || null;\n\n      // Look for overridden value.\n      let current = ((fiber: any): Fiber).return;\n      while (current !== null) {\n        const currentType = current.type;\n        const currentTypeSymbol = getTypeSymbol(currentType);\n        if (\n          currentTypeSymbol === PROVIDER_NUMBER ||\n          currentTypeSymbol === PROVIDER_SYMBOL_STRING\n        ) {\n          // 16.3.0 exposed the context object as \"context\"\n          // PR #12501 changed it to \"_context\" for 16.3.1+\n          // NOTE Keep in sync with getDisplayNameForFiber()\n          const providerResolvedContext =\n            currentType._context || currentType.context;\n          if (providerResolvedContext === consumerResolvedContext) {\n            context = current.memoizedProps.value;\n            break;\n          }\n        }\n\n        current = current.return;\n      }\n    }\n\n    let hasLegacyContext = false;\n    if (context !== null) {\n      hasLegacyContext = !!type.contextTypes;\n\n      // To simplify hydration and display logic for context, wrap in a value object.\n      // Otherwise simple values (e.g. strings, booleans) become harder to handle.\n      context = {value: context};\n    }\n\n    let owners = null;\n    if (_debugOwner) {\n      owners = ([]: Array<SerializedElement>);\n      let owner: null | Fiber = _debugOwner;\n      while (owner !== null) {\n        owners.push(fiberToSerializedElement(owner));\n        owner = owner._debugOwner || null;\n      }\n    }\n\n    const isTimedOutSuspense =\n      tag === SuspenseComponent && memoizedState !== null;\n\n    let hooks = null;\n    if (usesHooks) {\n      const originalConsoleMethods: {[string]: $FlowFixMe} = {};\n\n      // Temporarily disable all console logging before re-running the hook.\n      for (const method in console) {\n        try {\n          originalConsoleMethods[method] = console[method];\n          // $FlowFixMe[prop-missing]\n          console[method] = () => {};\n        } catch (error) {}\n      }\n\n      try {\n        hooks = inspectHooksOfFiber(\n          fiber,\n          (renderer.currentDispatcherRef: any),\n          true, // Include source location info for hooks\n        );\n      } finally {\n        // Restore original console functionality.\n        for (const method in originalConsoleMethods) {\n          try {\n            // $FlowFixMe[prop-missing]\n            console[method] = originalConsoleMethods[method];\n          } catch (error) {}\n        }\n      }\n    }\n\n    let rootType = null;\n    let current = fiber;\n    while (current.return !== null) {\n      current = current.return;\n    }\n    const fiberRoot = current.stateNode;\n    if (fiberRoot != null && fiberRoot._debugRootType !== null) {\n      rootType = fiberRoot._debugRootType;\n    }\n\n    const errors = fiberIDToErrorsMap.get(id) || new Map();\n    const warnings = fiberIDToWarningsMap.get(id) || new Map();\n\n    let isErrored = false;\n    let targetErrorBoundaryID;\n    if (isErrorBoundary(fiber)) {\n      // if the current inspected element is an error boundary,\n      // either that we want to use it to toggle off error state\n      // or that we allow to force error state on it if it's within another\n      // error boundary\n      //\n      // TODO: This flag is a leaked implementation detail. Once we start\n      // releasing DevTools in lockstep with React, we should import a function\n      // from the reconciler instead.\n      const DidCapture = 0b000000000000000000010000000;\n      isErrored =\n        (fiber.flags & DidCapture) !== 0 ||\n        forceErrorForFiberIDs.get(id) === true;\n      targetErrorBoundaryID = isErrored ? id : getNearestErrorBoundaryID(fiber);\n    } else {\n      targetErrorBoundaryID = getNearestErrorBoundaryID(fiber);\n    }\n\n    const plugins: Plugins = {\n      stylex: null,\n    };\n\n    if (enableStyleXFeatures) {\n      if (memoizedProps != null && memoizedProps.hasOwnProperty('xstyle')) {\n        plugins.stylex = getStyleXData(memoizedProps.xstyle);\n      }\n    }\n\n    return {\n      id,\n\n      // Does the current renderer support editable hooks and function props?\n      canEditHooks: typeof overrideHookState === 'function',\n      canEditFunctionProps: typeof overrideProps === 'function',\n\n      // Does the current renderer support advanced editing interface?\n      canEditHooksAndDeletePaths:\n        typeof overrideHookStateDeletePath === 'function',\n      canEditHooksAndRenamePaths:\n        typeof overrideHookStateRenamePath === 'function',\n      canEditFunctionPropsDeletePaths:\n        typeof overridePropsDeletePath === 'function',\n      canEditFunctionPropsRenamePaths:\n        typeof overridePropsRenamePath === 'function',\n\n      canToggleError: supportsTogglingError && targetErrorBoundaryID != null,\n      // Is this error boundary in error state.\n      isErrored,\n      targetErrorBoundaryID,\n\n      canToggleSuspense:\n        supportsTogglingSuspense &&\n        // If it's showing the real content, we can always flip fallback.\n        (!isTimedOutSuspense ||\n          // If it's showing fallback because we previously forced it to,\n          // allow toggling it back to remove the fallback override.\n          forceFallbackForSuspenseIDs.has(id)),\n\n      // Can view component source location.\n      canViewSource,\n\n      // Does the component have legacy context attached to it.\n      hasLegacyContext,\n\n      key: key != null ? key : null,\n\n      displayName: getDisplayNameForFiber(fiber),\n      type: elementType,\n\n      // Inspectable properties.\n      // TODO Review sanitization approach for the below inspectable values.\n      context,\n      hooks,\n      props: memoizedProps,\n      state: showState ? memoizedState : null,\n      errors: Array.from(errors.entries()),\n      warnings: Array.from(warnings.entries()),\n\n      // List of owners\n      owners,\n\n      // Location of component in source code.\n      source: _debugSource || null,\n\n      rootType,\n      rendererPackageName: renderer.rendererPackageName,\n      rendererVersion: renderer.version,\n\n      plugins,\n    };\n  }\n\n  let mostRecentlyInspectedElement: InspectedElement | null = null;\n  let hasElementUpdatedSinceLastInspected: boolean = false;\n  let currentlyInspectedPaths: Object = {};\n\n  function isMostRecentlyInspectedElement(id: number): boolean {\n    return (\n      mostRecentlyInspectedElement !== null &&\n      mostRecentlyInspectedElement.id === id\n    );\n  }\n\n  function isMostRecentlyInspectedElementCurrent(id: number): boolean {\n    return (\n      isMostRecentlyInspectedElement(id) && !hasElementUpdatedSinceLastInspected\n    );\n  }\n\n  // Track the intersection of currently inspected paths,\n  // so that we can send their data along if the element is re-rendered.\n  function mergeInspectedPaths(path: Array<string | number>) {\n    let current = currentlyInspectedPaths;\n    path.forEach(key => {\n      if (!current[key]) {\n        current[key] = {};\n      }\n      current = current[key];\n    });\n  }\n\n  function createIsPathAllowed(\n    key: string | null,\n    secondaryCategory: 'hooks' | null,\n  ) {\n    // This function helps prevent previously-inspected paths from being dehydrated in updates.\n    // This is important to avoid a bad user experience where expanded toggles collapse on update.\n    return function isPathAllowed(path: Array<string | number>): boolean {\n      switch (secondaryCategory) {\n        case 'hooks':\n          if (path.length === 1) {\n            // Never dehydrate the \"hooks\" object at the top levels.\n            return true;\n          }\n\n          if (\n            path[path.length - 2] === 'hookSource' &&\n            path[path.length - 1] === 'fileName'\n          ) {\n            // It's important to preserve the full file name (URL) for hook sources\n            // in case the user has enabled the named hooks feature.\n            // Otherwise the frontend may end up with a partial URL which it can't load.\n            return true;\n          }\n\n          if (\n            path[path.length - 1] === 'subHooks' ||\n            path[path.length - 2] === 'subHooks'\n          ) {\n            // Dehydrating the 'subHooks' property makes the HooksTree UI a lot more complicated,\n            // so it's easiest for now if we just don't break on this boundary.\n            // We can always dehydrate a level deeper (in the value object).\n            return true;\n          }\n          break;\n        default:\n          break;\n      }\n\n      let current =\n        key === null ? currentlyInspectedPaths : currentlyInspectedPaths[key];\n      if (!current) {\n        return false;\n      }\n      for (let i = 0; i < path.length; i++) {\n        current = current[path[i]];\n        if (!current) {\n          return false;\n        }\n      }\n      return true;\n    };\n  }\n\n  function updateSelectedElement(inspectedElement: InspectedElement): void {\n    const {hooks, id, props} = inspectedElement;\n\n    const fiber = idToArbitraryFiberMap.get(id);\n    if (fiber == null) {\n      console.warn(`Could not find Fiber with id \"${id}\"`);\n      return;\n    }\n\n    const {elementType, stateNode, tag, type} = fiber;\n\n    switch (tag) {\n      case ClassComponent:\n      case IncompleteClassComponent:\n      case IndeterminateComponent:\n        global.$r = stateNode;\n        break;\n      case FunctionComponent:\n        global.$r = {\n          hooks,\n          props,\n          type,\n        };\n        break;\n      case ForwardRef:\n        global.$r = {\n          hooks,\n          props,\n          type: type.render,\n        };\n        break;\n      case MemoComponent:\n      case SimpleMemoComponent:\n        global.$r = {\n          hooks,\n          props,\n          type:\n            elementType != null && elementType.type != null\n              ? elementType.type\n              : type,\n        };\n        break;\n      default:\n        global.$r = null;\n        break;\n    }\n  }\n\n  function storeAsGlobal(\n    id: number,\n    path: Array<string | number>,\n    count: number,\n  ): void {\n    if (isMostRecentlyInspectedElement(id)) {\n      const value = getInObject(\n        ((mostRecentlyInspectedElement: any): InspectedElement),\n        path,\n      );\n      const key = `$reactTemp${count}`;\n\n      window[key] = value;\n\n      console.log(key);\n      console.log(value);\n    }\n  }\n\n  function getSerializedElementValueByPath(\n    id: number,\n    path: Array<string | number>,\n  ): ?string {\n    if (isMostRecentlyInspectedElement(id)) {\n      const valueToCopy = getInObject(\n        ((mostRecentlyInspectedElement: any): InspectedElement),\n        path,\n      );\n\n      return serializeToString(valueToCopy);\n    }\n  }\n\n  function inspectElement(\n    requestID: number,\n    id: number,\n    path: Array<string | number> | null,\n    forceFullData: boolean,\n  ): InspectedElementPayload {\n    if (path !== null) {\n      mergeInspectedPaths(path);\n    }\n\n    if (isMostRecentlyInspectedElement(id) && !forceFullData) {\n      if (!hasElementUpdatedSinceLastInspected) {\n        if (path !== null) {\n          let secondaryCategory = null;\n          if (path[0] === 'hooks') {\n            secondaryCategory = 'hooks';\n          }\n\n          // If this element has not been updated since it was last inspected,\n          // we can just return the subset of data in the newly-inspected path.\n          return {\n            id,\n            responseID: requestID,\n            type: 'hydrated-path',\n            path,\n            value: cleanForBridge(\n              getInObject(\n                ((mostRecentlyInspectedElement: any): InspectedElement),\n                path,\n              ),\n              createIsPathAllowed(null, secondaryCategory),\n              path,\n            ),\n          };\n        } else {\n          // If this element has not been updated since it was last inspected, we don't need to return it.\n          // Instead we can just return the ID to indicate that it has not changed.\n          return {\n            id,\n            responseID: requestID,\n            type: 'no-change',\n          };\n        }\n      }\n    } else {\n      currentlyInspectedPaths = {};\n    }\n\n    hasElementUpdatedSinceLastInspected = false;\n\n    try {\n      mostRecentlyInspectedElement = inspectElementRaw(id);\n    } catch (error) {\n      // the error name is synced with ReactDebugHooks\n      if (error.name === 'ReactDebugToolsRenderError') {\n        let message = 'Error rendering inspected element.';\n        let stack;\n        // Log error & cause for user to debug\n        console.error(message + '\\n\\n', error);\n        if (error.cause != null) {\n          const fiber = findCurrentFiberUsingSlowPathById(id);\n          const componentName =\n            fiber != null ? getDisplayNameForFiber(fiber) : null;\n          console.error(\n            'React DevTools encountered an error while trying to inspect hooks. ' +\n              'This is most likely caused by an error in current inspected component' +\n              (componentName != null ? `: \"${componentName}\".` : '.') +\n              '\\nThe error thrown in the component is: \\n\\n',\n            error.cause,\n          );\n          if (error.cause instanceof Error) {\n            message = error.cause.message || message;\n            stack = error.cause.stack;\n          }\n        }\n\n        return {\n          type: 'error',\n          errorType: 'user',\n          id,\n          responseID: requestID,\n          message,\n          stack,\n        };\n      }\n\n      // the error name is synced with ReactDebugHooks\n      if (error.name === 'ReactDebugToolsUnsupportedHookError') {\n        return {\n          type: 'error',\n          errorType: 'unknown-hook',\n          id,\n          responseID: requestID,\n          message:\n            'Unsupported hook in the react-debug-tools package: ' +\n            error.message,\n        };\n      }\n\n      // Log Uncaught Error\n      console.error('Error inspecting element.\\n\\n', error);\n\n      return {\n        type: 'error',\n        errorType: 'uncaught',\n        id,\n        responseID: requestID,\n        message: error.message,\n        stack: error.stack,\n      };\n    }\n\n    if (mostRecentlyInspectedElement === null) {\n      return {\n        id,\n        responseID: requestID,\n        type: 'not-found',\n      };\n    }\n\n    // Any time an inspected element has an update,\n    // we should update the selected $r value as wel.\n    // Do this before dehydration (cleanForBridge).\n    updateSelectedElement(mostRecentlyInspectedElement);\n\n    // Clone before cleaning so that we preserve the full data.\n    // This will enable us to send patches without re-inspecting if hydrated paths are requested.\n    // (Reducing how often we shallow-render is a better DX for function components that use hooks.)\n    const cleanedInspectedElement = {...mostRecentlyInspectedElement};\n    // $FlowFixMe[prop-missing] found when upgrading Flow\n    cleanedInspectedElement.context = cleanForBridge(\n      cleanedInspectedElement.context,\n      createIsPathAllowed('context', null),\n    );\n    // $FlowFixMe[prop-missing] found when upgrading Flow\n    cleanedInspectedElement.hooks = cleanForBridge(\n      cleanedInspectedElement.hooks,\n      createIsPathAllowed('hooks', 'hooks'),\n    );\n    // $FlowFixMe[prop-missing] found when upgrading Flow\n    cleanedInspectedElement.props = cleanForBridge(\n      cleanedInspectedElement.props,\n      createIsPathAllowed('props', null),\n    );\n    // $FlowFixMe[prop-missing] found when upgrading Flow\n    cleanedInspectedElement.state = cleanForBridge(\n      cleanedInspectedElement.state,\n      createIsPathAllowed('state', null),\n    );\n\n    return {\n      id,\n      responseID: requestID,\n      type: 'full-data',\n      // $FlowFixMe[prop-missing] found when upgrading Flow\n      value: cleanedInspectedElement,\n    };\n  }\n\n  function logElementToConsole(id: number) {\n    const result = isMostRecentlyInspectedElementCurrent(id)\n      ? mostRecentlyInspectedElement\n      : inspectElementRaw(id);\n    if (result === null) {\n      console.warn(`Could not find Fiber with id \"${id}\"`);\n      return;\n    }\n\n    const supportsGroup = typeof console.groupCollapsed === 'function';\n    if (supportsGroup) {\n      console.groupCollapsed(\n        `[Click to expand] %c<${result.displayName || 'Component'} />`,\n        // --dom-tag-name-color is the CSS variable Chrome styles HTML elements with in the console.\n        'color: var(--dom-tag-name-color); font-weight: normal;',\n      );\n    }\n    if (result.props !== null) {\n      console.log('Props:', result.props);\n    }\n    if (result.state !== null) {\n      console.log('State:', result.state);\n    }\n    if (result.hooks !== null) {\n      console.log('Hooks:', result.hooks);\n    }\n    const nativeNodes = findNativeNodesForFiberID(id);\n    if (nativeNodes !== null) {\n      console.log('Nodes:', nativeNodes);\n    }\n    if (result.source !== null) {\n      console.log('Location:', result.source);\n    }\n    if (window.chrome || /firefox/i.test(navigator.userAgent)) {\n      console.log(\n        'Right-click any value to save it as a global variable for further inspection.',\n      );\n    }\n    if (supportsGroup) {\n      console.groupEnd();\n    }\n  }\n\n  function deletePath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    path: Array<string | number>,\n  ): void {\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber !== null) {\n      const instance = fiber.stateNode;\n\n      switch (type) {\n        case 'context':\n          // To simplify hydration and display of primitive context values (e.g. number, string)\n          // the inspectElement() method wraps context in a {value: ...} object.\n          // We need to remove the first part of the path (the \"value\") before continuing.\n          path = path.slice(1);\n\n          switch (fiber.tag) {\n            case ClassComponent:\n              if (path.length === 0) {\n                // Simple context value (noop)\n              } else {\n                deletePathInObject(instance.context, path);\n              }\n              instance.forceUpdate();\n              break;\n            case FunctionComponent:\n              // Function components using legacy context are not editable\n              // because there's no instance on which to create a cloned, mutated context.\n              break;\n          }\n          break;\n        case 'hooks':\n          if (typeof overrideHookStateDeletePath === 'function') {\n            overrideHookStateDeletePath(fiber, ((hookID: any): number), path);\n          }\n          break;\n        case 'props':\n          if (instance === null) {\n            if (typeof overridePropsDeletePath === 'function') {\n              overridePropsDeletePath(fiber, path);\n            }\n          } else {\n            fiber.pendingProps = copyWithDelete(instance.props, path);\n            instance.forceUpdate();\n          }\n          break;\n        case 'state':\n          deletePathInObject(instance.state, path);\n          instance.forceUpdate();\n          break;\n      }\n    }\n  }\n\n  function renamePath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    oldPath: Array<string | number>,\n    newPath: Array<string | number>,\n  ): void {\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber !== null) {\n      const instance = fiber.stateNode;\n\n      switch (type) {\n        case 'context':\n          // To simplify hydration and display of primitive context values (e.g. number, string)\n          // the inspectElement() method wraps context in a {value: ...} object.\n          // We need to remove the first part of the path (the \"value\") before continuing.\n          oldPath = oldPath.slice(1);\n          newPath = newPath.slice(1);\n\n          switch (fiber.tag) {\n            case ClassComponent:\n              if (oldPath.length === 0) {\n                // Simple context value (noop)\n              } else {\n                renamePathInObject(instance.context, oldPath, newPath);\n              }\n              instance.forceUpdate();\n              break;\n            case FunctionComponent:\n              // Function components using legacy context are not editable\n              // because there's no instance on which to create a cloned, mutated context.\n              break;\n          }\n          break;\n        case 'hooks':\n          if (typeof overrideHookStateRenamePath === 'function') {\n            overrideHookStateRenamePath(\n              fiber,\n              ((hookID: any): number),\n              oldPath,\n              newPath,\n            );\n          }\n          break;\n        case 'props':\n          if (instance === null) {\n            if (typeof overridePropsRenamePath === 'function') {\n              overridePropsRenamePath(fiber, oldPath, newPath);\n            }\n          } else {\n            fiber.pendingProps = copyWithRename(\n              instance.props,\n              oldPath,\n              newPath,\n            );\n            instance.forceUpdate();\n          }\n          break;\n        case 'state':\n          renamePathInObject(instance.state, oldPath, newPath);\n          instance.forceUpdate();\n          break;\n      }\n    }\n  }\n\n  function overrideValueAtPath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    path: Array<string | number>,\n    value: any,\n  ): void {\n    const fiber = findCurrentFiberUsingSlowPathById(id);\n    if (fiber !== null) {\n      const instance = fiber.stateNode;\n\n      switch (type) {\n        case 'context':\n          // To simplify hydration and display of primitive context values (e.g. number, string)\n          // the inspectElement() method wraps context in a {value: ...} object.\n          // We need to remove the first part of the path (the \"value\") before continuing.\n          path = path.slice(1);\n\n          switch (fiber.tag) {\n            case ClassComponent:\n              if (path.length === 0) {\n                // Simple context value\n                instance.context = value;\n              } else {\n                setInObject(instance.context, path, value);\n              }\n              instance.forceUpdate();\n              break;\n            case FunctionComponent:\n              // Function components using legacy context are not editable\n              // because there's no instance on which to create a cloned, mutated context.\n              break;\n          }\n          break;\n        case 'hooks':\n          if (typeof overrideHookState === 'function') {\n            overrideHookState(fiber, ((hookID: any): number), path, value);\n          }\n          break;\n        case 'props':\n          switch (fiber.tag) {\n            case ClassComponent:\n              fiber.pendingProps = copyWithSet(instance.props, path, value);\n              instance.forceUpdate();\n              break;\n            default:\n              if (typeof overrideProps === 'function') {\n                overrideProps(fiber, path, value);\n              }\n              break;\n          }\n          break;\n        case 'state':\n          switch (fiber.tag) {\n            case ClassComponent:\n              setInObject(instance.state, path, value);\n              instance.forceUpdate();\n              break;\n          }\n          break;\n      }\n    }\n  }\n\n  type CommitProfilingData = {\n    changeDescriptions: Map<number, ChangeDescription> | null,\n    commitTime: number,\n    durations: Array<number>,\n    effectDuration: number | null,\n    maxActualDuration: number,\n    passiveEffectDuration: number | null,\n    priorityLevel: string | null,\n    updaters: Array<SerializedElement> | null,\n  };\n\n  type CommitProfilingMetadataMap = Map<number, Array<CommitProfilingData>>;\n  type DisplayNamesByRootID = Map<number, string>;\n\n  let currentCommitProfilingMetadata: CommitProfilingData | null = null;\n  let displayNamesByRootID: DisplayNamesByRootID | null = null;\n  let idToContextsMap: Map<number, any> | null = null;\n  let initialTreeBaseDurationsMap: Map<number, number> | null = null;\n  let initialIDToRootMap: Map<number, number> | null = null;\n  let isProfiling: boolean = false;\n  let profilingStartTime: number = 0;\n  let recordChangeDescriptions: boolean = false;\n  let rootToCommitProfilingMetadataMap: CommitProfilingMetadataMap | null =\n    null;\n\n  function getProfilingData(): ProfilingDataBackend {\n    const dataForRoots: Array<ProfilingDataForRootBackend> = [];\n\n    if (rootToCommitProfilingMetadataMap === null) {\n      throw Error(\n        'getProfilingData() called before any profiling data was recorded',\n      );\n    }\n\n    rootToCommitProfilingMetadataMap.forEach(\n      (commitProfilingMetadata, rootID) => {\n        const commitData: Array<CommitDataBackend> = [];\n        const initialTreeBaseDurations: Array<[number, number]> = [];\n\n        const displayName =\n          (displayNamesByRootID !== null && displayNamesByRootID.get(rootID)) ||\n          'Unknown';\n\n        if (initialTreeBaseDurationsMap != null) {\n          initialTreeBaseDurationsMap.forEach((treeBaseDuration, id) => {\n            if (\n              initialIDToRootMap != null &&\n              initialIDToRootMap.get(id) === rootID\n            ) {\n              // We don't need to convert milliseconds to microseconds in this case,\n              // because the profiling summary is JSON serialized.\n              initialTreeBaseDurations.push([id, treeBaseDuration]);\n            }\n          });\n        }\n\n        commitProfilingMetadata.forEach((commitProfilingData, commitIndex) => {\n          const {\n            changeDescriptions,\n            durations,\n            effectDuration,\n            maxActualDuration,\n            passiveEffectDuration,\n            priorityLevel,\n            commitTime,\n            updaters,\n          } = commitProfilingData;\n\n          const fiberActualDurations: Array<[number, number]> = [];\n          const fiberSelfDurations: Array<[number, number]> = [];\n          for (let i = 0; i < durations.length; i += 3) {\n            const fiberID = durations[i];\n            fiberActualDurations.push([fiberID, durations[i + 1]]);\n            fiberSelfDurations.push([fiberID, durations[i + 2]]);\n          }\n\n          commitData.push({\n            changeDescriptions:\n              changeDescriptions !== null\n                ? Array.from(changeDescriptions.entries())\n                : null,\n            duration: maxActualDuration,\n            effectDuration,\n            fiberActualDurations,\n            fiberSelfDurations,\n            passiveEffectDuration,\n            priorityLevel,\n            timestamp: commitTime,\n            updaters,\n          });\n        });\n\n        dataForRoots.push({\n          commitData,\n          displayName,\n          initialTreeBaseDurations,\n          rootID,\n        });\n      },\n    );\n\n    let timelineData = null;\n    if (typeof getTimelineData === 'function') {\n      const currentTimelineData = getTimelineData();\n      if (currentTimelineData) {\n        const {\n          batchUIDToMeasuresMap,\n          internalModuleSourceToRanges,\n          laneToLabelMap,\n          laneToReactMeasureMap,\n          ...rest\n        } = currentTimelineData;\n\n        timelineData = {\n          ...rest,\n\n          // Most of the data is safe to parse as-is,\n          // but we need to convert the nested Arrays back to Maps.\n          // Most of the data is safe to serialize as-is,\n          // but we need to convert the Maps to nested Arrays.\n          batchUIDToMeasuresKeyValueArray: Array.from(\n            batchUIDToMeasuresMap.entries(),\n          ),\n          internalModuleSourceToRanges: Array.from(\n            internalModuleSourceToRanges.entries(),\n          ),\n          laneToLabelKeyValueArray: Array.from(laneToLabelMap.entries()),\n          laneToReactMeasureKeyValueArray: Array.from(\n            laneToReactMeasureMap.entries(),\n          ),\n        };\n      }\n    }\n\n    return {\n      dataForRoots,\n      rendererID,\n      timelineData,\n    };\n  }\n\n  function startProfiling(shouldRecordChangeDescriptions: boolean) {\n    if (isProfiling) {\n      return;\n    }\n\n    recordChangeDescriptions = shouldRecordChangeDescriptions;\n\n    // Capture initial values as of the time profiling starts.\n    // It's important we snapshot both the durations and the id-to-root map,\n    // since either of these may change during the profiling session\n    // (e.g. when a fiber is re-rendered or when a fiber gets removed).\n    displayNamesByRootID = new Map();\n    initialTreeBaseDurationsMap = new Map(idToTreeBaseDurationMap);\n    initialIDToRootMap = new Map(idToRootMap);\n    idToContextsMap = new Map();\n\n    hook.getFiberRoots(rendererID).forEach(root => {\n      const rootID = getFiberIDThrows(root.current);\n      ((displayNamesByRootID: any): DisplayNamesByRootID).set(\n        rootID,\n        getDisplayNameForRoot(root.current),\n      );\n\n      if (shouldRecordChangeDescriptions) {\n        // Record all contexts at the time profiling is started.\n        // Fibers only store the current context value,\n        // so we need to track them separately in order to determine changed keys.\n        crawlToInitializeContextsMap(root.current);\n      }\n    });\n\n    isProfiling = true;\n    profilingStartTime = getCurrentTime();\n    rootToCommitProfilingMetadataMap = new Map();\n\n    if (toggleProfilingStatus !== null) {\n      toggleProfilingStatus(true);\n    }\n  }\n\n  function stopProfiling() {\n    isProfiling = false;\n    recordChangeDescriptions = false;\n\n    if (toggleProfilingStatus !== null) {\n      toggleProfilingStatus(false);\n    }\n  }\n\n  // Automatically start profiling so that we don't miss timing info from initial \"mount\".\n  if (\n    sessionStorageGetItem(SESSION_STORAGE_RELOAD_AND_PROFILE_KEY) === 'true'\n  ) {\n    startProfiling(\n      sessionStorageGetItem(SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY) ===\n        'true',\n    );\n  }\n\n  // React will switch between these implementations depending on whether\n  // we have any manually suspended/errored-out Fibers or not.\n  function shouldErrorFiberAlwaysNull() {\n    return null;\n  }\n\n  // Map of id and its force error status: true (error), false (toggled off),\n  // null (do nothing)\n  const forceErrorForFiberIDs = new Map<number | null, $FlowFixMe>();\n\n  function shouldErrorFiberAccordingToMap(fiber: any) {\n    if (typeof setErrorHandler !== 'function') {\n      throw new Error(\n        'Expected overrideError() to not get called for earlier React versions.',\n      );\n    }\n\n    const id = getFiberIDUnsafe(fiber);\n    if (id === null) {\n      return null;\n    }\n\n    let status = null;\n    if (forceErrorForFiberIDs.has(id)) {\n      status = forceErrorForFiberIDs.get(id);\n      if (status === false) {\n        // TRICKY overrideError adds entries to this Map,\n        // so ideally it would be the method that clears them too,\n        // but that would break the functionality of the feature,\n        // since DevTools needs to tell React to act differently than it normally would\n        // (don't just re-render the failed boundary, but reset its errored state too).\n        // So we can only clear it after telling React to reset the state.\n        // Technically this is premature and we should schedule it for later,\n        // since the render could always fail without committing the updated error boundary,\n        // but since this is a DEV-only feature, the simplicity is worth the trade off.\n        forceErrorForFiberIDs.delete(id);\n\n        if (forceErrorForFiberIDs.size === 0) {\n          // Last override is gone. Switch React back to fast path.\n          setErrorHandler(shouldErrorFiberAlwaysNull);\n        }\n      }\n    }\n    return status;\n  }\n\n  function overrideError(id: number, forceError: boolean) {\n    if (\n      typeof setErrorHandler !== 'function' ||\n      typeof scheduleUpdate !== 'function'\n    ) {\n      throw new Error(\n        'Expected overrideError() to not get called for earlier React versions.',\n      );\n    }\n\n    forceErrorForFiberIDs.set(id, forceError);\n\n    if (forceErrorForFiberIDs.size === 1) {\n      // First override is added. Switch React to slower path.\n      setErrorHandler(shouldErrorFiberAccordingToMap);\n    }\n\n    const fiber = idToArbitraryFiberMap.get(id);\n    if (fiber != null) {\n      scheduleUpdate(fiber);\n    }\n  }\n\n  function shouldSuspendFiberAlwaysFalse() {\n    return false;\n  }\n\n  const forceFallbackForSuspenseIDs = new Set<number>();\n\n  function shouldSuspendFiberAccordingToSet(fiber: any) {\n    const maybeID = getFiberIDUnsafe(((fiber: any): Fiber));\n    return maybeID !== null && forceFallbackForSuspenseIDs.has(maybeID);\n  }\n\n  function overrideSuspense(id: number, forceFallback: boolean) {\n    if (\n      typeof setSuspenseHandler !== 'function' ||\n      typeof scheduleUpdate !== 'function'\n    ) {\n      throw new Error(\n        'Expected overrideSuspense() to not get called for earlier React versions.',\n      );\n    }\n    if (forceFallback) {\n      forceFallbackForSuspenseIDs.add(id);\n      if (forceFallbackForSuspenseIDs.size === 1) {\n        // First override is added. Switch React to slower path.\n        setSuspenseHandler(shouldSuspendFiberAccordingToSet);\n      }\n    } else {\n      forceFallbackForSuspenseIDs.delete(id);\n      if (forceFallbackForSuspenseIDs.size === 0) {\n        // Last override is gone. Switch React back to fast path.\n        setSuspenseHandler(shouldSuspendFiberAlwaysFalse);\n      }\n    }\n    const fiber = idToArbitraryFiberMap.get(id);\n    if (fiber != null) {\n      scheduleUpdate(fiber);\n    }\n  }\n\n  // Remember if we're trying to restore the selection after reload.\n  // In that case, we'll do some extra checks for matching mounts.\n  let trackedPath: Array<PathFrame> | null = null;\n  let trackedPathMatchFiber: Fiber | null = null;\n  let trackedPathMatchDepth = -1;\n  let mightBeOnTrackedPath = false;\n\n  function setTrackedPath(path: Array<PathFrame> | null) {\n    if (path === null) {\n      trackedPathMatchFiber = null;\n      trackedPathMatchDepth = -1;\n      mightBeOnTrackedPath = false;\n    }\n    trackedPath = path;\n  }\n\n  // We call this before traversing a new mount.\n  // It remembers whether this Fiber is the next best match for tracked path.\n  // The return value signals whether we should keep matching siblings or not.\n  function updateTrackedPathStateBeforeMount(fiber: Fiber): boolean {\n    if (trackedPath === null || !mightBeOnTrackedPath) {\n      // Fast path: there's nothing to track so do nothing and ignore siblings.\n      return false;\n    }\n    const returnFiber = fiber.return;\n    const returnAlternate = returnFiber !== null ? returnFiber.alternate : null;\n    // By now we know there's some selection to restore, and this is a new Fiber.\n    // Is this newly mounted Fiber a direct child of the current best match?\n    // (This will also be true for new roots if we haven't matched anything yet.)\n    if (\n      trackedPathMatchFiber === returnFiber ||\n      (trackedPathMatchFiber === returnAlternate && returnAlternate !== null)\n    ) {\n      // Is this the next Fiber we should select? Let's compare the frames.\n      const actualFrame = getPathFrame(fiber);\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      const expectedFrame = trackedPath[trackedPathMatchDepth + 1];\n      if (expectedFrame === undefined) {\n        throw new Error('Expected to see a frame at the next depth.');\n      }\n      if (\n        actualFrame.index === expectedFrame.index &&\n        actualFrame.key === expectedFrame.key &&\n        actualFrame.displayName === expectedFrame.displayName\n      ) {\n        // We have our next match.\n        trackedPathMatchFiber = fiber;\n        trackedPathMatchDepth++;\n        // Are we out of frames to match?\n        // $FlowFixMe[incompatible-use] found when upgrading Flow\n        if (trackedPathMatchDepth === trackedPath.length - 1) {\n          // There's nothing that can possibly match afterwards.\n          // Don't check the children.\n          mightBeOnTrackedPath = false;\n        } else {\n          // Check the children, as they might reveal the next match.\n          mightBeOnTrackedPath = true;\n        }\n        // In either case, since we have a match, we don't need\n        // to check the siblings. They'll never match.\n        return false;\n      }\n    }\n    // This Fiber's parent is on the path, but this Fiber itself isn't.\n    // There's no need to check its children--they won't be on the path either.\n    mightBeOnTrackedPath = false;\n    // However, one of its siblings may be on the path so keep searching.\n    return true;\n  }\n\n  function updateTrackedPathStateAfterMount(\n    mightSiblingsBeOnTrackedPath: boolean,\n  ) {\n    // updateTrackedPathStateBeforeMount() told us whether to match siblings.\n    // Now that we're entering siblings, let's use that information.\n    mightBeOnTrackedPath = mightSiblingsBeOnTrackedPath;\n  }\n\n  // Roots don't have a real persistent identity.\n  // A root's \"pseudo key\" is \"childDisplayName:indexWithThatName\".\n  // For example, \"App:0\" or, in case of similar roots, \"Story:0\", \"Story:1\", etc.\n  // We will use this to try to disambiguate roots when restoring selection between reloads.\n  const rootPseudoKeys: Map<number, string> = new Map();\n  const rootDisplayNameCounter: Map<string, number> = new Map();\n\n  function setRootPseudoKey(id: number, fiber: Fiber) {\n    const name = getDisplayNameForRoot(fiber);\n    const counter = rootDisplayNameCounter.get(name) || 0;\n    rootDisplayNameCounter.set(name, counter + 1);\n    const pseudoKey = `${name}:${counter}`;\n    rootPseudoKeys.set(id, pseudoKey);\n  }\n\n  function removeRootPseudoKey(id: number) {\n    const pseudoKey = rootPseudoKeys.get(id);\n    if (pseudoKey === undefined) {\n      throw new Error('Expected root pseudo key to be known.');\n    }\n    const name = pseudoKey.slice(0, pseudoKey.lastIndexOf(':'));\n    const counter = rootDisplayNameCounter.get(name);\n    if (counter === undefined) {\n      throw new Error('Expected counter to be known.');\n    }\n    if (counter > 1) {\n      rootDisplayNameCounter.set(name, counter - 1);\n    } else {\n      rootDisplayNameCounter.delete(name);\n    }\n    rootPseudoKeys.delete(id);\n  }\n\n  function getDisplayNameForRoot(fiber: Fiber): string {\n    let preferredDisplayName = null;\n    let fallbackDisplayName = null;\n    let child = fiber.child;\n    // Go at most three levels deep into direct children\n    // while searching for a child that has a displayName.\n    for (let i = 0; i < 3; i++) {\n      if (child === null) {\n        break;\n      }\n      const displayName = getDisplayNameForFiber(child);\n      if (displayName !== null) {\n        // Prefer display names that we get from user-defined components.\n        // We want to avoid using e.g. 'Suspense' unless we find nothing else.\n        if (typeof child.type === 'function') {\n          // There's a few user-defined tags, but we'll prefer the ones\n          // that are usually explicitly named (function or class components).\n          preferredDisplayName = displayName;\n        } else if (fallbackDisplayName === null) {\n          fallbackDisplayName = displayName;\n        }\n      }\n      if (preferredDisplayName !== null) {\n        break;\n      }\n      child = child.child;\n    }\n    return preferredDisplayName || fallbackDisplayName || 'Anonymous';\n  }\n\n  function getPathFrame(fiber: Fiber): PathFrame {\n    const {key} = fiber;\n    let displayName = getDisplayNameForFiber(fiber);\n    const index = fiber.index;\n    switch (fiber.tag) {\n      case HostRoot:\n        // Roots don't have a real displayName, index, or key.\n        // Instead, we'll use the pseudo key (childDisplayName:indexWithThatName).\n        const id = getFiberIDThrows(fiber);\n        const pseudoKey = rootPseudoKeys.get(id);\n        if (pseudoKey === undefined) {\n          throw new Error('Expected mounted root to have known pseudo key.');\n        }\n        displayName = pseudoKey;\n        break;\n      case HostComponent:\n        displayName = fiber.type;\n        break;\n      default:\n        break;\n    }\n    return {\n      displayName,\n      key,\n      index,\n    };\n  }\n\n  // Produces a serializable representation that does a best effort\n  // of identifying a particular Fiber between page reloads.\n  // The return path will contain Fibers that are \"invisible\" to the store\n  // because their keys and indexes are important to restoring the selection.\n  function getPathForElement(id: number): Array<PathFrame> | null {\n    let fiber: ?Fiber = idToArbitraryFiberMap.get(id);\n    if (fiber == null) {\n      return null;\n    }\n    const keyPath = [];\n    while (fiber !== null) {\n      // $FlowFixMe[incompatible-call] found when upgrading Flow\n      keyPath.push(getPathFrame(fiber));\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      fiber = fiber.return;\n    }\n    keyPath.reverse();\n    return keyPath;\n  }\n\n  function getBestMatchForTrackedPath(): PathMatch | null {\n    if (trackedPath === null) {\n      // Nothing to match.\n      return null;\n    }\n    if (trackedPathMatchFiber === null) {\n      // We didn't find anything.\n      return null;\n    }\n    // Find the closest Fiber store is aware of.\n    let fiber: null | Fiber = trackedPathMatchFiber;\n    while (fiber !== null && shouldFilterFiber(fiber)) {\n      fiber = fiber.return;\n    }\n    if (fiber === null) {\n      return null;\n    }\n    return {\n      id: getFiberIDThrows(fiber),\n      // $FlowFixMe[incompatible-use] found when upgrading Flow\n      isFullMatch: trackedPathMatchDepth === trackedPath.length - 1,\n    };\n  }\n\n  const formatPriorityLevel = (priorityLevel: ?number) => {\n    if (priorityLevel == null) {\n      return 'Unknown';\n    }\n\n    switch (priorityLevel) {\n      case ImmediatePriority:\n        return 'Immediate';\n      case UserBlockingPriority:\n        return 'User-Blocking';\n      case NormalPriority:\n        return 'Normal';\n      case LowPriority:\n        return 'Low';\n      case IdlePriority:\n        return 'Idle';\n      case NoPriority:\n      default:\n        return 'Unknown';\n    }\n  };\n\n  function setTraceUpdatesEnabled(isEnabled: boolean): void {\n    traceUpdatesEnabled = isEnabled;\n  }\n\n  function hasFiberWithId(id: number): boolean {\n    return idToArbitraryFiberMap.has(id);\n  }\n\n  return {\n    cleanup,\n    clearErrorsAndWarnings,\n    clearErrorsForFiberID,\n    clearWarningsForFiberID,\n    getSerializedElementValueByPath,\n    deletePath,\n    findNativeNodesForFiberID,\n    flushInitialOperations,\n    getBestMatchForTrackedPath,\n    getDisplayNameForFiberID,\n    getFiberForNative,\n    getFiberIDForNative,\n    getInstanceAndStyle,\n    getOwnersList,\n    getPathForElement,\n    getProfilingData,\n    handleCommitFiberRoot,\n    handleCommitFiberUnmount,\n    handlePostCommitFiberRoot,\n    hasFiberWithId,\n    inspectElement,\n    logElementToConsole,\n    patchConsoleForStrictMode,\n    prepareViewAttributeSource,\n    prepareViewElementSource,\n    overrideError,\n    overrideSuspense,\n    overrideValueAtPath,\n    renamePath,\n    renderer,\n    setTraceUpdatesEnabled,\n    setTrackedPath,\n    startProfiling,\n    stopProfiling,\n    storeAsGlobal,\n    unpatchConsoleForStrictMode,\n    updateComponentFilters,\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {Fiber} from 'react-reconciler/src/ReactInternalTypes';\nimport type {\n  CurrentDispatcherRef,\n  ReactRenderer,\n  WorkTagMap,\n  ConsolePatchSettings,\n} from './types';\nimport {format, formatWithStyles} from './utils';\n\nimport {getInternalReactConstants} from './renderer';\nimport {getStackByFiberInDevAndProd} from './DevToolsFiberComponentStack';\nimport {consoleManagedByDevToolsDuringStrictMode} from 'react-devtools-feature-flags';\nimport {castBool, castBrowserTheme} from '../utils';\n\nconst OVERRIDE_CONSOLE_METHODS = ['error', 'trace', 'warn'];\nconst DIMMED_NODE_CONSOLE_COLOR = '\\x1b[2m%s\\x1b[0m';\n\n// React's custom built component stack strings match \"\\s{4}in\"\n// Chrome's prefix matches \"\\s{4}at\"\nconst PREFIX_REGEX = /\\s{4}(in|at)\\s{1}/;\n// Firefox and Safari have no prefix (\"\")\n// but we can fallback to looking for location info (e.g. \"foo.js:12:345\")\nconst ROW_COLUMN_NUMBER_REGEX = /:\\d+:\\d+(\\n|$)/;\n\nexport function isStringComponentStack(text: string): boolean {\n  return PREFIX_REGEX.test(text) || ROW_COLUMN_NUMBER_REGEX.test(text);\n}\n\nconst STYLE_DIRECTIVE_REGEX = /^%c/;\n\n// This function tells whether or not the arguments for a console\n// method has been overridden by the patchForStrictMode function.\n// If it has we'll need to do some special formatting of the arguments\n// so the console color stays consistent\nfunction isStrictModeOverride(args: Array<string>, method: string): boolean {\n  return (\n    args.length >= 2 &&\n    STYLE_DIRECTIVE_REGEX.test(args[0]) &&\n    args[1] === `color: ${getConsoleColor(method) || ''}`\n  );\n}\n\nfunction getConsoleColor(method: string): ?string {\n  switch (method) {\n    case 'warn':\n      return consoleSettingsRef.browserTheme === 'light'\n        ? process.env.LIGHT_MODE_DIMMED_WARNING_COLOR\n        : process.env.DARK_MODE_DIMMED_WARNING_COLOR;\n    case 'error':\n      return consoleSettingsRef.browserTheme === 'light'\n        ? process.env.LIGHT_MODE_DIMMED_ERROR_COLOR\n        : process.env.DARK_MODE_DIMMED_ERROR_COLOR;\n    case 'log':\n    default:\n      return consoleSettingsRef.browserTheme === 'light'\n        ? process.env.LIGHT_MODE_DIMMED_LOG_COLOR\n        : process.env.DARK_MODE_DIMMED_LOG_COLOR;\n  }\n}\ntype OnErrorOrWarning = (\n  fiber: Fiber,\n  type: 'error' | 'warn',\n  args: Array<any>,\n) => void;\n\nconst injectedRenderers: Map<\n  ReactRenderer,\n  {\n    currentDispatcherRef: CurrentDispatcherRef,\n    getCurrentFiber: () => Fiber | null,\n    onErrorOrWarning: ?OnErrorOrWarning,\n    workTagMap: WorkTagMap,\n  },\n> = new Map();\n\nlet targetConsole: Object = console;\nlet targetConsoleMethods: {[string]: $FlowFixMe} = {};\nfor (const method in console) {\n  targetConsoleMethods[method] = console[method];\n}\n\nlet unpatchFn: null | (() => void) = null;\n\nlet isNode = false;\ntry {\n  isNode = this === global;\n} catch (error) {}\n\n// Enables e.g. Jest tests to inject a mock console object.\nexport function dangerous_setTargetConsoleForTesting(\n  targetConsoleForTesting: Object,\n): void {\n  targetConsole = targetConsoleForTesting;\n\n  targetConsoleMethods = ({}: {[string]: $FlowFixMe});\n  for (const method in targetConsole) {\n    targetConsoleMethods[method] = console[method];\n  }\n}\n\n// v16 renderers should use this method to inject internals necessary to generate a component stack.\n// These internals will be used if the console is patched.\n// Injecting them separately allows the console to easily be patched or un-patched later (at runtime).\nexport function registerRenderer(\n  renderer: ReactRenderer,\n  onErrorOrWarning?: OnErrorOrWarning,\n): void {\n  const {\n    currentDispatcherRef,\n    getCurrentFiber,\n    findFiberByHostInstance,\n    version,\n  } = renderer;\n\n  // Ignore React v15 and older because they don't expose a component stack anyway.\n  if (typeof findFiberByHostInstance !== 'function') {\n    return;\n  }\n\n  // currentDispatcherRef gets injected for v16.8+ to support hooks inspection.\n  // getCurrentFiber gets injected for v16.9+.\n  if (currentDispatcherRef != null && typeof getCurrentFiber === 'function') {\n    const {ReactTypeOfWork} = getInternalReactConstants(version);\n\n    injectedRenderers.set(renderer, {\n      currentDispatcherRef,\n      getCurrentFiber,\n      workTagMap: ReactTypeOfWork,\n      onErrorOrWarning,\n    });\n  }\n}\n\nconst consoleSettingsRef: ConsolePatchSettings = {\n  appendComponentStack: false,\n  breakOnConsoleErrors: false,\n  showInlineWarningsAndErrors: false,\n  hideConsoleLogsInStrictMode: false,\n  browserTheme: 'dark',\n};\n\n// Patches console methods to append component stack for the current fiber.\n// Call unpatch() to remove the injected behavior.\nexport function patch({\n  appendComponentStack,\n  breakOnConsoleErrors,\n  showInlineWarningsAndErrors,\n  hideConsoleLogsInStrictMode,\n  browserTheme,\n}: ConsolePatchSettings): void {\n  // Settings may change after we've patched the console.\n  // Using a shared ref allows the patch function to read the latest values.\n  consoleSettingsRef.appendComponentStack = appendComponentStack;\n  consoleSettingsRef.breakOnConsoleErrors = breakOnConsoleErrors;\n  consoleSettingsRef.showInlineWarningsAndErrors = showInlineWarningsAndErrors;\n  consoleSettingsRef.hideConsoleLogsInStrictMode = hideConsoleLogsInStrictMode;\n  consoleSettingsRef.browserTheme = browserTheme;\n\n  if (\n    appendComponentStack ||\n    breakOnConsoleErrors ||\n    showInlineWarningsAndErrors\n  ) {\n    if (unpatchFn !== null) {\n      // Don't patch twice.\n      return;\n    }\n\n    const originalConsoleMethods: {[string]: $FlowFixMe} = {};\n\n    unpatchFn = () => {\n      for (const method in originalConsoleMethods) {\n        try {\n          targetConsole[method] = originalConsoleMethods[method];\n        } catch (error) {}\n      }\n    };\n\n    OVERRIDE_CONSOLE_METHODS.forEach(method => {\n      try {\n        const originalMethod = (originalConsoleMethods[method] = targetConsole[\n          method\n        ].__REACT_DEVTOOLS_ORIGINAL_METHOD__\n          ? targetConsole[method].__REACT_DEVTOOLS_ORIGINAL_METHOD__\n          : targetConsole[method]);\n\n        // $FlowFixMe[missing-local-annot]\n        const overrideMethod = (...args) => {\n          let shouldAppendWarningStack = false;\n          if (method !== 'log') {\n            if (consoleSettingsRef.appendComponentStack) {\n              const lastArg = args.length > 0 ? args[args.length - 1] : null;\n              const alreadyHasComponentStack =\n                typeof lastArg === 'string' && isStringComponentStack(lastArg);\n\n              // If we are ever called with a string that already has a component stack,\n              // e.g. a React error/warning, don't append a second stack.\n              shouldAppendWarningStack = !alreadyHasComponentStack;\n            }\n          }\n\n          const shouldShowInlineWarningsAndErrors =\n            consoleSettingsRef.showInlineWarningsAndErrors &&\n            (method === 'error' || method === 'warn');\n\n          // Search for the first renderer that has a current Fiber.\n          // We don't handle the edge case of stacks for more than one (e.g. interleaved renderers?)\n          // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n          for (const {\n            currentDispatcherRef,\n            getCurrentFiber,\n            onErrorOrWarning,\n            workTagMap,\n          } of injectedRenderers.values()) {\n            const current: ?Fiber = getCurrentFiber();\n            if (current != null) {\n              try {\n                if (shouldShowInlineWarningsAndErrors) {\n                  // patch() is called by two places: (1) the hook and (2) the renderer backend.\n                  // The backend is what implements a message queue, so it's the only one that injects onErrorOrWarning.\n                  if (typeof onErrorOrWarning === 'function') {\n                    onErrorOrWarning(\n                      current,\n                      ((method: any): 'error' | 'warn'),\n                      // Copy args before we mutate them (e.g. adding the component stack)\n                      args.slice(),\n                    );\n                  }\n                }\n\n                if (shouldAppendWarningStack) {\n                  const componentStack = getStackByFiberInDevAndProd(\n                    workTagMap,\n                    current,\n                    currentDispatcherRef,\n                  );\n                  if (componentStack !== '') {\n                    if (isStrictModeOverride(args, method)) {\n                      args[0] = `${args[0]} %s`;\n                      args.push(componentStack);\n                    } else {\n                      args.push(componentStack);\n                    }\n                  }\n                }\n              } catch (error) {\n                // Don't let a DevTools or React internal error interfere with logging.\n                setTimeout(() => {\n                  throw error;\n                }, 0);\n              } finally {\n                break;\n              }\n            }\n          }\n\n          if (consoleSettingsRef.breakOnConsoleErrors) {\n            // --- Welcome to debugging with React DevTools ---\n            // This debugger statement means that you've enabled the \"break on warnings\" feature.\n            // Use the browser's Call Stack panel to step out of this override function-\n            // to where the original warning or error was logged.\n            // eslint-disable-next-line no-debugger\n            debugger;\n          }\n\n          originalMethod(...args);\n        };\n\n        overrideMethod.__REACT_DEVTOOLS_ORIGINAL_METHOD__ = originalMethod;\n        originalMethod.__REACT_DEVTOOLS_OVERRIDE_METHOD__ = overrideMethod;\n\n        targetConsole[method] = overrideMethod;\n      } catch (error) {}\n    });\n  } else {\n    unpatch();\n  }\n}\n\n// Removed component stack patch from console methods.\nexport function unpatch(): void {\n  if (unpatchFn !== null) {\n    unpatchFn();\n    unpatchFn = null;\n  }\n}\n\nlet unpatchForStrictModeFn: null | (() => void) = null;\n\n// NOTE: KEEP IN SYNC with src/hook.js:patchConsoleForInitialRenderInStrictMode\nexport function patchForStrictMode() {\n  if (consoleManagedByDevToolsDuringStrictMode) {\n    const overrideConsoleMethods = [\n      'error',\n      'group',\n      'groupCollapsed',\n      'info',\n      'log',\n      'trace',\n      'warn',\n    ];\n\n    if (unpatchForStrictModeFn !== null) {\n      // Don't patch twice.\n      return;\n    }\n\n    const originalConsoleMethods: {[string]: $FlowFixMe} = {};\n\n    unpatchForStrictModeFn = () => {\n      for (const method in originalConsoleMethods) {\n        try {\n          targetConsole[method] = originalConsoleMethods[method];\n        } catch (error) {}\n      }\n    };\n\n    overrideConsoleMethods.forEach(method => {\n      try {\n        const originalMethod = (originalConsoleMethods[method] = targetConsole[\n          method\n        ].__REACT_DEVTOOLS_STRICT_MODE_ORIGINAL_METHOD__\n          ? targetConsole[method].__REACT_DEVTOOLS_STRICT_MODE_ORIGINAL_METHOD__\n          : targetConsole[method]);\n\n        // $FlowFixMe[missing-local-annot]\n        const overrideMethod = (...args) => {\n          if (!consoleSettingsRef.hideConsoleLogsInStrictMode) {\n            // Dim the text color of the double logs if we're not\n            // hiding them.\n            if (isNode) {\n              originalMethod(DIMMED_NODE_CONSOLE_COLOR, format(...args));\n            } else {\n              const color = getConsoleColor(method);\n              if (color) {\n                originalMethod(...formatWithStyles(args, `color: ${color}`));\n              } else {\n                throw Error('Console color is not defined');\n              }\n            }\n          }\n        };\n\n        overrideMethod.__REACT_DEVTOOLS_STRICT_MODE_ORIGINAL_METHOD__ =\n          originalMethod;\n        originalMethod.__REACT_DEVTOOLS_STRICT_MODE_OVERRIDE_METHOD__ =\n          overrideMethod;\n\n        targetConsole[method] = overrideMethod;\n      } catch (error) {}\n    });\n  }\n}\n\n// NOTE: KEEP IN SYNC with src/hook.js:unpatchConsoleForInitialRenderInStrictMode\nexport function unpatchForStrictMode(): void {\n  if (consoleManagedByDevToolsDuringStrictMode) {\n    if (unpatchForStrictModeFn !== null) {\n      unpatchForStrictModeFn();\n      unpatchForStrictModeFn = null;\n    }\n  }\n}\n\nexport function patchConsoleUsingWindowValues() {\n  const appendComponentStack =\n    castBool(window.__REACT_DEVTOOLS_APPEND_COMPONENT_STACK__) ?? true;\n  const breakOnConsoleErrors =\n    castBool(window.__REACT_DEVTOOLS_BREAK_ON_CONSOLE_ERRORS__) ?? false;\n  const showInlineWarningsAndErrors =\n    castBool(window.__REACT_DEVTOOLS_SHOW_INLINE_WARNINGS_AND_ERRORS__) ?? true;\n  const hideConsoleLogsInStrictMode =\n    castBool(window.__REACT_DEVTOOLS_HIDE_CONSOLE_LOGS_IN_STRICT_MODE__) ??\n    false;\n  const browserTheme =\n    castBrowserTheme(window.__REACT_DEVTOOLS_BROWSER_THEME__) ?? 'dark';\n\n  patch({\n    appendComponentStack,\n    breakOnConsoleErrors,\n    showInlineWarningsAndErrors,\n    hideConsoleLogsInStrictMode,\n    browserTheme,\n  });\n}\n\n// After receiving cached console patch settings from React Native, we set them on window.\n// When the console is initially patched (in renderer.js and hook.js), these values are read.\n// The browser extension (etc.) sets these values on window, but through another method.\nexport function writeConsolePatchSettingsToWindow(\n  settings: ConsolePatchSettings,\n): void {\n  window.__REACT_DEVTOOLS_APPEND_COMPONENT_STACK__ =\n    settings.appendComponentStack;\n  window.__REACT_DEVTOOLS_BREAK_ON_CONSOLE_ERRORS__ =\n    settings.breakOnConsoleErrors;\n  window.__REACT_DEVTOOLS_SHOW_INLINE_WARNINGS_AND_ERRORS__ =\n    settings.showInlineWarningsAndErrors;\n  window.__REACT_DEVTOOLS_HIDE_CONSOLE_LOGS_IN_STRICT_MODE__ =\n    settings.hideConsoleLogsInStrictMode;\n  window.__REACT_DEVTOOLS_BROWSER_THEME__ = settings.browserTheme;\n}\n\nexport function installConsoleFunctionsToWindow(): void {\n  window.__REACT_DEVTOOLS_CONSOLE_FUNCTIONS__ = {\n    patchConsoleUsingWindowValues,\n    registerRendererWithConsole: registerRenderer,\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport EventEmitter from './events';\n\nimport type {ComponentFilter, Wall} from './frontend/types';\nimport type {\n  InspectedElementPayload,\n  OwnersList,\n  ProfilingDataBackend,\n  RendererID,\n  ConsolePatchSettings,\n} from 'react-devtools-shared/src/backend/types';\nimport type {StyleAndLayout as StyleAndLayoutPayload} from 'react-devtools-shared/src/backend/NativeStyleEditor/types';\n\nconst BATCH_DURATION = 100;\n\n// This message specifies the version of the DevTools protocol currently supported by the backend,\n// as well as the earliest NPM version (e.g. \"4.13.0\") that protocol is supported by on the frontend.\n// This enables an older frontend to display an upgrade message to users for a newer, unsupported backend.\nexport type BridgeProtocol = {\n  // Version supported by the current frontend/backend.\n  version: number,\n\n  // NPM version range that also supports this version.\n  // Note that 'maxNpmVersion' is only set when the version is bumped.\n  minNpmVersion: string,\n  maxNpmVersion: string | null,\n};\n\n// Bump protocol version whenever a backwards breaking change is made\n// in the messages sent between BackendBridge and FrontendBridge.\n// This mapping is embedded in both frontend and backend builds.\n//\n// The backend protocol will always be the latest entry in the BRIDGE_PROTOCOL array.\n//\n// When an older frontend connects to a newer backend,\n// the backend can send the minNpmVersion and the frontend can display an NPM upgrade prompt.\n//\n// When a newer frontend connects with an older protocol version,\n// the frontend can use the embedded minNpmVersion/maxNpmVersion values to display a downgrade prompt.\nexport const BRIDGE_PROTOCOL: Array<BridgeProtocol> = [\n  // This version technically never existed,\n  // but a backwards breaking change was added in 4.11,\n  // so the safest guess to downgrade the frontend would be to version 4.10.\n  {\n    version: 0,\n    minNpmVersion: '\"<4.11.0\"',\n    maxNpmVersion: '\"<4.11.0\"',\n  },\n  // Versions 4.11.x  4.12.x contained the backwards breaking change,\n  // but we didn't add the \"fix\" of checking the protocol version until 4.13,\n  // so we don't recommend downgrading to 4.11 or 4.12.\n  {\n    version: 1,\n    minNpmVersion: '4.13.0',\n    maxNpmVersion: '4.21.0',\n  },\n  // Version 2 adds a StrictMode-enabled and supports-StrictMode bits to add-root operation.\n  {\n    version: 2,\n    minNpmVersion: '4.22.0',\n    maxNpmVersion: null,\n  },\n];\n\nexport const currentBridgeProtocol: BridgeProtocol =\n  BRIDGE_PROTOCOL[BRIDGE_PROTOCOL.length - 1];\n\ntype ElementAndRendererID = {id: number, rendererID: RendererID};\n\ntype Message = {\n  event: string,\n  payload: any,\n};\n\ntype HighlightElementInDOM = {\n  ...ElementAndRendererID,\n  displayName: string | null,\n  hideAfterTimeout: boolean,\n  openNativeElementsPanel: boolean,\n  scrollIntoView: boolean,\n};\n\ntype OverrideValue = {\n  ...ElementAndRendererID,\n  path: Array<string | number>,\n  wasForwarded?: boolean,\n  value: any,\n};\n\ntype OverrideHookState = {\n  ...OverrideValue,\n  hookID: number,\n};\n\ntype PathType = 'props' | 'hooks' | 'state' | 'context';\n\ntype DeletePath = {\n  ...ElementAndRendererID,\n  type: PathType,\n  hookID?: ?number,\n  path: Array<string | number>,\n};\n\ntype RenamePath = {\n  ...ElementAndRendererID,\n  type: PathType,\n  hookID?: ?number,\n  oldPath: Array<string | number>,\n  newPath: Array<string | number>,\n};\n\ntype OverrideValueAtPath = {\n  ...ElementAndRendererID,\n  type: PathType,\n  hookID?: ?number,\n  path: Array<string | number>,\n  value: any,\n};\n\ntype OverrideError = {\n  ...ElementAndRendererID,\n  forceError: boolean,\n};\n\ntype OverrideSuspense = {\n  ...ElementAndRendererID,\n  forceFallback: boolean,\n};\n\ntype CopyElementPathParams = {\n  ...ElementAndRendererID,\n  path: Array<string | number>,\n};\n\ntype ViewAttributeSourceParams = {\n  ...ElementAndRendererID,\n  path: Array<string | number>,\n};\n\ntype InspectElementParams = {\n  ...ElementAndRendererID,\n  forceFullData: boolean,\n  path: Array<number | string> | null,\n  requestID: number,\n};\n\ntype StoreAsGlobalParams = {\n  ...ElementAndRendererID,\n  count: number,\n  path: Array<string | number>,\n};\n\ntype NativeStyleEditor_RenameAttributeParams = {\n  ...ElementAndRendererID,\n  oldName: string,\n  newName: string,\n  value: string,\n};\n\ntype NativeStyleEditor_SetValueParams = {\n  ...ElementAndRendererID,\n  name: string,\n  value: string,\n};\n\ntype SavedPreferencesParams = {\n  appendComponentStack: boolean,\n  breakOnConsoleErrors: boolean,\n  componentFilters: Array<ComponentFilter>,\n  showInlineWarningsAndErrors: boolean,\n  hideConsoleLogsInStrictMode: boolean,\n};\n\nexport type BackendEvents = {\n  backendVersion: [string],\n  bridgeProtocol: [BridgeProtocol],\n  extensionBackendInitialized: [],\n  fastRefreshScheduled: [],\n  getSavedPreferences: [],\n  inspectedElement: [InspectedElementPayload],\n  isBackendStorageAPISupported: [boolean],\n  isSynchronousXHRSupported: [boolean],\n  operations: [Array<number>],\n  ownersList: [OwnersList],\n  overrideComponentFilters: [Array<ComponentFilter>],\n  profilingData: [ProfilingDataBackend],\n  profilingStatus: [boolean],\n  reloadAppForProfiling: [],\n  saveToClipboard: [string],\n  selectFiber: [number],\n  shutdown: [],\n  stopInspectingNative: [boolean],\n  syncSelectionFromNativeElementsPanel: [],\n  syncSelectionToNativeElementsPanel: [],\n  unsupportedRendererVersion: [RendererID],\n\n  // React Native style editor plug-in.\n  isNativeStyleEditorSupported: [\n    {isSupported: boolean, validAttributes: ?$ReadOnlyArray<string>},\n  ],\n  NativeStyleEditor_styleAndLayout: [StyleAndLayoutPayload],\n};\n\ntype FrontendEvents = {\n  clearErrorsAndWarnings: [{rendererID: RendererID}],\n  clearErrorsForFiberID: [ElementAndRendererID],\n  clearNativeElementHighlight: [],\n  clearWarningsForFiberID: [ElementAndRendererID],\n  copyElementPath: [CopyElementPathParams],\n  deletePath: [DeletePath],\n  getBackendVersion: [],\n  getBridgeProtocol: [],\n  getOwnersList: [ElementAndRendererID],\n  getProfilingData: [{rendererID: RendererID}],\n  getProfilingStatus: [],\n  highlightNativeElement: [HighlightElementInDOM],\n  inspectElement: [InspectElementParams],\n  logElementToConsole: [ElementAndRendererID],\n  overrideError: [OverrideError],\n  overrideSuspense: [OverrideSuspense],\n  overrideValueAtPath: [OverrideValueAtPath],\n  profilingData: [ProfilingDataBackend],\n  reloadAndProfile: [boolean],\n  renamePath: [RenamePath],\n  savedPreferences: [SavedPreferencesParams],\n  selectFiber: [number],\n  setTraceUpdatesEnabled: [boolean],\n  shutdown: [],\n  startInspectingNative: [],\n  startProfiling: [boolean],\n  stopInspectingNative: [boolean],\n  stopProfiling: [],\n  storeAsGlobal: [StoreAsGlobalParams],\n  updateComponentFilters: [Array<ComponentFilter>],\n  updateConsolePatchSettings: [ConsolePatchSettings],\n  viewAttributeSource: [ViewAttributeSourceParams],\n  viewElementSource: [ElementAndRendererID],\n\n  // React Native style editor plug-in.\n  NativeStyleEditor_measure: [ElementAndRendererID],\n  NativeStyleEditor_renameAttribute: [NativeStyleEditor_RenameAttributeParams],\n  NativeStyleEditor_setValue: [NativeStyleEditor_SetValueParams],\n\n  // Temporarily support newer standalone front-ends sending commands to older embedded backends.\n  // We do this because React Native embeds the React DevTools backend,\n  // but cannot control which version of the frontend users use.\n  //\n  // Note that nothing in the newer backend actually listens to these events,\n  // but the new frontend still dispatches them (in case older backends are listening to them instead).\n  //\n  // Note that this approach does no support the combination of a newer backend with an older frontend.\n  // It would be more work to support both approaches (and not run handlers twice)\n  // so I chose to support the more likely/common scenario (and the one more difficult for an end user to \"fix\").\n  overrideContext: [OverrideValue],\n  overrideHookState: [OverrideHookState],\n  overrideProps: [OverrideValue],\n  overrideState: [OverrideValue],\n\n  resumeElementPolling: [],\n  pauseElementPolling: [],\n};\n\nclass Bridge<\n  OutgoingEvents: Object,\n  IncomingEvents: Object,\n> extends EventEmitter<{\n  ...IncomingEvents,\n  ...OutgoingEvents,\n}> {\n  _isShutdown: boolean = false;\n  _messageQueue: Array<any> = [];\n  _timeoutID: TimeoutID | null = null;\n  _wall: Wall;\n  _wallUnlisten: Function | null = null;\n\n  constructor(wall: Wall) {\n    super();\n\n    this._wall = wall;\n\n    this._wallUnlisten =\n      wall.listen((message: Message) => {\n        if (message && message.event) {\n          (this: any).emit(message.event, message.payload);\n        }\n      }) || null;\n\n    // Temporarily support older standalone front-ends sending commands to newer embedded backends.\n    // We do this because React Native embeds the React DevTools backend,\n    // but cannot control which version of the frontend users use.\n    this.addListener('overrideValueAtPath', this.overrideValueAtPath);\n  }\n\n  // Listening directly to the wall isn't advised.\n  // It can be used to listen for legacy (v3) messages (since they use a different format).\n  get wall(): Wall {\n    return this._wall;\n  }\n\n  send<EventName: $Keys<OutgoingEvents>>(\n    event: EventName,\n    ...payload: $ElementType<OutgoingEvents, EventName>\n  ) {\n    if (this._isShutdown) {\n      console.warn(\n        `Cannot send message \"${event}\" through a Bridge that has been shutdown.`,\n      );\n      return;\n    }\n\n    // When we receive a message:\n    // - we add it to our queue of messages to be sent\n    // - if there hasn't been a message recently, we set a timer for 0 ms in\n    //   the future, allowing all messages created in the same tick to be sent\n    //   together\n    // - if there *has* been a message flushed in the last BATCH_DURATION ms\n    //   (or we're waiting for our setTimeout-0 to fire), then _timeoutID will\n    //   be set, and we'll simply add to the queue and wait for that\n    this._messageQueue.push(event, payload);\n    if (!this._timeoutID) {\n      this._timeoutID = setTimeout(this._flush, 0);\n    }\n  }\n\n  shutdown() {\n    if (this._isShutdown) {\n      console.warn('Bridge was already shutdown.');\n      return;\n    }\n\n    // Queue the shutdown outgoing message for subscribers.\n    this.emit('shutdown');\n    this.send('shutdown');\n\n    // Mark this bridge as destroyed, i.e. disable its public API.\n    this._isShutdown = true;\n\n    // Disable the API inherited from EventEmitter that can add more listeners and send more messages.\n    // $FlowFixMe[cannot-write] This property is not writable.\n    this.addListener = function () {};\n    // $FlowFixMe[cannot-write] This property is not writable.\n    this.emit = function () {};\n    // NOTE: There's also EventEmitter API like `on` and `prependListener` that we didn't add to our Flow type of EventEmitter.\n\n    // Unsubscribe this bridge incoming message listeners to be sure, and so they don't have to do that.\n    this.removeAllListeners();\n\n    // Stop accepting and emitting incoming messages from the wall.\n    const wallUnlisten = this._wallUnlisten;\n    if (wallUnlisten) {\n      wallUnlisten();\n    }\n\n    // Synchronously flush all queued outgoing messages.\n    // At this step the subscribers' code may run in this call stack.\n    do {\n      this._flush();\n    } while (this._messageQueue.length);\n\n    // Make sure once again that there is no dangling timer.\n    if (this._timeoutID !== null) {\n      clearTimeout(this._timeoutID);\n      this._timeoutID = null;\n    }\n  }\n\n  _flush: () => void = () => {\n    // This method is used after the bridge is marked as destroyed in shutdown sequence,\n    // so we do not bail out if the bridge marked as destroyed.\n    // It is a private method that the bridge ensures is only called at the right times.\n\n    if (this._timeoutID !== null) {\n      clearTimeout(this._timeoutID);\n      this._timeoutID = null;\n    }\n\n    if (this._messageQueue.length) {\n      for (let i = 0; i < this._messageQueue.length; i += 2) {\n        this._wall.send(this._messageQueue[i], ...this._messageQueue[i + 1]);\n      }\n      this._messageQueue.length = 0;\n\n      // Check again for queued messages in BATCH_DURATION ms. This will keep\n      // flushing in a loop as long as messages continue to be added. Once no\n      // more are, the timer expires.\n      this._timeoutID = setTimeout(this._flush, BATCH_DURATION);\n    }\n  };\n\n  // Temporarily support older standalone backends by forwarding \"overrideValueAtPath\" commands\n  // to the older message types they may be listening to.\n  overrideValueAtPath: OverrideValueAtPath => void = ({\n    id,\n    path,\n    rendererID,\n    type,\n    value,\n  }: OverrideValueAtPath) => {\n    switch (type) {\n      case 'context':\n        this.send('overrideContext', {\n          id,\n          path,\n          rendererID,\n          wasForwarded: true,\n          value,\n        });\n        break;\n      case 'hooks':\n        this.send('overrideHookState', {\n          id,\n          path,\n          rendererID,\n          wasForwarded: true,\n          value,\n        });\n        break;\n      case 'props':\n        this.send('overrideProps', {\n          id,\n          path,\n          rendererID,\n          wasForwarded: true,\n          value,\n        });\n        break;\n      case 'state':\n        this.send('overrideState', {\n          id,\n          path,\n          rendererID,\n          wasForwarded: true,\n          value,\n        });\n        break;\n    }\n  };\n}\n\nexport type BackendBridge = Bridge<BackendEvents, FrontendEvents>;\nexport type FrontendBridge = Bridge<FrontendEvents, BackendEvents>;\n\nexport default Bridge;\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport EventEmitter from '../events';\nimport throttle from 'lodash.throttle';\nimport {\n  SESSION_STORAGE_LAST_SELECTION_KEY,\n  SESSION_STORAGE_RELOAD_AND_PROFILE_KEY,\n  SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY,\n  __DEBUG__,\n} from '../constants';\nimport {\n  sessionStorageGetItem,\n  sessionStorageRemoveItem,\n  sessionStorageSetItem,\n} from 'react-devtools-shared/src/storage';\nimport setupHighlighter from './views/Highlighter';\nimport {\n  initialize as setupTraceUpdates,\n  toggleEnabled as setTraceUpdatesEnabled,\n} from './views/TraceUpdates';\nimport {patch as patchConsole} from './console';\nimport {currentBridgeProtocol} from 'react-devtools-shared/src/bridge';\n\nimport type {BackendBridge} from 'react-devtools-shared/src/bridge';\nimport type {\n  InstanceAndStyle,\n  NativeType,\n  OwnersList,\n  PathFrame,\n  PathMatch,\n  RendererID,\n  RendererInterface,\n  ConsolePatchSettings,\n} from './types';\nimport type {\n  ComponentFilter,\n  BrowserTheme,\n} from 'react-devtools-shared/src/frontend/types';\nimport {isSynchronousXHRSupported} from './utils';\n\nconst debug = (methodName: string, ...args: Array<string>) => {\n  if (__DEBUG__) {\n    console.log(\n      `%cAgent %c${methodName}`,\n      'color: purple; font-weight: bold;',\n      'font-weight: bold;',\n      ...args,\n    );\n  }\n};\n\ntype ElementAndRendererID = {\n  id: number,\n  rendererID: number,\n};\n\ntype StoreAsGlobalParams = {\n  count: number,\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n};\n\ntype CopyElementParams = {\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n};\n\ntype InspectElementParams = {\n  forceFullData: boolean,\n  id: number,\n  path: Array<string | number> | null,\n  rendererID: number,\n  requestID: number,\n};\n\ntype OverrideHookParams = {\n  id: number,\n  hookID: number,\n  path: Array<string | number>,\n  rendererID: number,\n  wasForwarded?: boolean,\n  value: any,\n};\n\ntype SetInParams = {\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n  wasForwarded?: boolean,\n  value: any,\n};\n\ntype PathType = 'props' | 'hooks' | 'state' | 'context';\n\ntype DeletePathParams = {\n  type: PathType,\n  hookID?: ?number,\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n};\n\ntype RenamePathParams = {\n  type: PathType,\n  hookID?: ?number,\n  id: number,\n  oldPath: Array<string | number>,\n  newPath: Array<string | number>,\n  rendererID: number,\n};\n\ntype OverrideValueAtPathParams = {\n  type: PathType,\n  hookID?: ?number,\n  id: number,\n  path: Array<string | number>,\n  rendererID: number,\n  value: any,\n};\n\ntype OverrideErrorParams = {\n  id: number,\n  rendererID: number,\n  forceError: boolean,\n};\n\ntype OverrideSuspenseParams = {\n  id: number,\n  rendererID: number,\n  forceFallback: boolean,\n};\n\ntype PersistedSelection = {\n  rendererID: number,\n  path: Array<PathFrame>,\n};\n\nexport default class Agent extends EventEmitter<{\n  hideNativeHighlight: [],\n  showNativeHighlight: [NativeType],\n  startInspectingNative: [],\n  stopInspectingNative: [],\n  shutdown: [],\n  traceUpdates: [Set<NativeType>],\n  drawTraceUpdates: [Array<NativeType>],\n  disableTraceUpdates: [],\n}> {\n  _bridge: BackendBridge;\n  _isProfiling: boolean = false;\n  _recordChangeDescriptions: boolean = false;\n  _rendererInterfaces: {[key: RendererID]: RendererInterface, ...} = {};\n  _persistedSelection: PersistedSelection | null = null;\n  _persistedSelectionMatch: PathMatch | null = null;\n  _traceUpdatesEnabled: boolean = false;\n\n  constructor(bridge: BackendBridge) {\n    super();\n\n    if (\n      sessionStorageGetItem(SESSION_STORAGE_RELOAD_AND_PROFILE_KEY) === 'true'\n    ) {\n      this._recordChangeDescriptions =\n        sessionStorageGetItem(\n          SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY,\n        ) === 'true';\n      this._isProfiling = true;\n\n      sessionStorageRemoveItem(SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY);\n      sessionStorageRemoveItem(SESSION_STORAGE_RELOAD_AND_PROFILE_KEY);\n    }\n\n    const persistedSelectionString = sessionStorageGetItem(\n      SESSION_STORAGE_LAST_SELECTION_KEY,\n    );\n    if (persistedSelectionString != null) {\n      this._persistedSelection = JSON.parse(persistedSelectionString);\n    }\n\n    this._bridge = bridge;\n\n    bridge.addListener('clearErrorsAndWarnings', this.clearErrorsAndWarnings);\n    bridge.addListener('clearErrorsForFiberID', this.clearErrorsForFiberID);\n    bridge.addListener('clearWarningsForFiberID', this.clearWarningsForFiberID);\n    bridge.addListener('copyElementPath', this.copyElementPath);\n    bridge.addListener('deletePath', this.deletePath);\n    bridge.addListener('getBackendVersion', this.getBackendVersion);\n    bridge.addListener('getBridgeProtocol', this.getBridgeProtocol);\n    bridge.addListener('getProfilingData', this.getProfilingData);\n    bridge.addListener('getProfilingStatus', this.getProfilingStatus);\n    bridge.addListener('getOwnersList', this.getOwnersList);\n    bridge.addListener('inspectElement', this.inspectElement);\n    bridge.addListener('logElementToConsole', this.logElementToConsole);\n    bridge.addListener('overrideError', this.overrideError);\n    bridge.addListener('overrideSuspense', this.overrideSuspense);\n    bridge.addListener('overrideValueAtPath', this.overrideValueAtPath);\n    bridge.addListener('reloadAndProfile', this.reloadAndProfile);\n    bridge.addListener('renamePath', this.renamePath);\n    bridge.addListener('setTraceUpdatesEnabled', this.setTraceUpdatesEnabled);\n    bridge.addListener('startProfiling', this.startProfiling);\n    bridge.addListener('stopProfiling', this.stopProfiling);\n    bridge.addListener('storeAsGlobal', this.storeAsGlobal);\n    bridge.addListener(\n      'syncSelectionFromNativeElementsPanel',\n      this.syncSelectionFromNativeElementsPanel,\n    );\n    bridge.addListener('shutdown', this.shutdown);\n    bridge.addListener(\n      'updateConsolePatchSettings',\n      this.updateConsolePatchSettings,\n    );\n    bridge.addListener('updateComponentFilters', this.updateComponentFilters);\n    bridge.addListener('viewAttributeSource', this.viewAttributeSource);\n    bridge.addListener('viewElementSource', this.viewElementSource);\n\n    // Temporarily support older standalone front-ends sending commands to newer embedded backends.\n    // We do this because React Native embeds the React DevTools backend,\n    // but cannot control which version of the frontend users use.\n    bridge.addListener('overrideContext', this.overrideContext);\n    bridge.addListener('overrideHookState', this.overrideHookState);\n    bridge.addListener('overrideProps', this.overrideProps);\n    bridge.addListener('overrideState', this.overrideState);\n\n    if (this._isProfiling) {\n      bridge.send('profilingStatus', true);\n    }\n\n    // Send the Bridge protocol and backend versions, after initialization, in case the frontend has already requested it.\n    // The Store may be instantiated beore the agent.\n    const version = process.env.DEVTOOLS_VERSION;\n    if (version) {\n      this._bridge.send('backendVersion', version);\n    }\n    this._bridge.send('bridgeProtocol', currentBridgeProtocol);\n\n    // Notify the frontend if the backend supports the Storage API (e.g. localStorage).\n    // If not, features like reload-and-profile will not work correctly and must be disabled.\n    let isBackendStorageAPISupported = false;\n    try {\n      localStorage.getItem('test');\n      isBackendStorageAPISupported = true;\n    } catch (error) {}\n    bridge.send('isBackendStorageAPISupported', isBackendStorageAPISupported);\n    bridge.send('isSynchronousXHRSupported', isSynchronousXHRSupported());\n\n    setupHighlighter(bridge, this);\n    setupTraceUpdates(this);\n  }\n\n  get rendererInterfaces(): {[key: RendererID]: RendererInterface, ...} {\n    return this._rendererInterfaces;\n  }\n\n  clearErrorsAndWarnings: ({rendererID: RendererID}) => void = ({\n    rendererID,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n    } else {\n      renderer.clearErrorsAndWarnings();\n    }\n  };\n\n  clearErrorsForFiberID: ElementAndRendererID => void = ({id, rendererID}) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n    } else {\n      renderer.clearErrorsForFiberID(id);\n    }\n  };\n\n  clearWarningsForFiberID: ElementAndRendererID => void = ({\n    id,\n    rendererID,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n    } else {\n      renderer.clearWarningsForFiberID(id);\n    }\n  };\n\n  copyElementPath: CopyElementParams => void = ({\n    id,\n    path,\n    rendererID,\n  }: CopyElementParams) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      const value = renderer.getSerializedElementValueByPath(id, path);\n\n      if (value != null) {\n        this._bridge.send('saveToClipboard', value);\n      } else {\n        console.warn(`Unable to obtain serialized value for element \"${id}\"`);\n      }\n    }\n  };\n\n  deletePath: DeletePathParams => void = ({\n    hookID,\n    id,\n    path,\n    rendererID,\n    type,\n  }: DeletePathParams) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.deletePath(type, id, hookID, path);\n    }\n  };\n\n  getInstanceAndStyle({\n    id,\n    rendererID,\n  }: ElementAndRendererID): InstanceAndStyle | null {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n      return null;\n    }\n    return renderer.getInstanceAndStyle(id);\n  }\n\n  getBestMatchingRendererInterface(node: Object): RendererInterface | null {\n    let bestMatch = null;\n    for (const rendererID in this._rendererInterfaces) {\n      const renderer = ((this._rendererInterfaces[\n        (rendererID: any)\n      ]: any): RendererInterface);\n      const fiber = renderer.getFiberForNative(node);\n      if (fiber !== null) {\n        // check if fiber.stateNode is matching the original hostInstance\n        if (fiber.stateNode === node) {\n          return renderer;\n        } else if (bestMatch === null) {\n          bestMatch = renderer;\n        }\n      }\n    }\n    // if an exact match is not found, return the first valid renderer as fallback\n    return bestMatch;\n  }\n\n  getIDForNode(node: Object): number | null {\n    const rendererInterface = this.getBestMatchingRendererInterface(node);\n    if (rendererInterface != null) {\n      try {\n        return rendererInterface.getFiberIDForNative(node, true);\n      } catch (error) {\n        // Some old React versions might throw if they can't find a match.\n        // If so we should ignore it...\n      }\n    }\n    return null;\n  }\n\n  getBackendVersion: () => void = () => {\n    const version = process.env.DEVTOOLS_VERSION;\n    if (version) {\n      this._bridge.send('backendVersion', version);\n    }\n  };\n\n  getBridgeProtocol: () => void = () => {\n    this._bridge.send('bridgeProtocol', currentBridgeProtocol);\n  };\n\n  getProfilingData: ({rendererID: RendererID}) => void = ({rendererID}) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\"`);\n    }\n\n    this._bridge.send('profilingData', renderer.getProfilingData());\n  };\n\n  getProfilingStatus: () => void = () => {\n    this._bridge.send('profilingStatus', this._isProfiling);\n  };\n\n  getOwnersList: ElementAndRendererID => void = ({id, rendererID}) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      const owners = renderer.getOwnersList(id);\n      this._bridge.send('ownersList', ({id, owners}: OwnersList));\n    }\n  };\n\n  inspectElement: InspectElementParams => void = ({\n    forceFullData,\n    id,\n    path,\n    rendererID,\n    requestID,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      this._bridge.send(\n        'inspectedElement',\n        renderer.inspectElement(requestID, id, path, forceFullData),\n      );\n\n      // When user selects an element, stop trying to restore the selection,\n      // and instead remember the current selection for the next reload.\n      if (\n        this._persistedSelectionMatch === null ||\n        this._persistedSelectionMatch.id !== id\n      ) {\n        this._persistedSelection = null;\n        this._persistedSelectionMatch = null;\n        renderer.setTrackedPath(null);\n        this._throttledPersistSelection(rendererID, id);\n      }\n\n      // TODO: If there was a way to change the selected DOM element\n      // in native Elements tab without forcing a switch to it, we'd do it here.\n      // For now, it doesn't seem like there is a way to do that:\n      // https://github.com/bvaughn/react-devtools-experimental/issues/102\n      // (Setting $0 doesn't work, and calling inspect() switches the tab.)\n    }\n  };\n\n  logElementToConsole: ElementAndRendererID => void = ({id, rendererID}) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.logElementToConsole(id);\n    }\n  };\n\n  overrideError: OverrideErrorParams => void = ({\n    id,\n    rendererID,\n    forceError,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.overrideError(id, forceError);\n    }\n  };\n\n  overrideSuspense: OverrideSuspenseParams => void = ({\n    id,\n    rendererID,\n    forceFallback,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.overrideSuspense(id, forceFallback);\n    }\n  };\n\n  overrideValueAtPath: OverrideValueAtPathParams => void = ({\n    hookID,\n    id,\n    path,\n    rendererID,\n    type,\n    value,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.overrideValueAtPath(type, id, hookID, path, value);\n    }\n  };\n\n  // Temporarily support older standalone front-ends by forwarding the older message types\n  // to the new \"overrideValueAtPath\" command the backend is now listening to.\n  overrideContext: SetInParams => void = ({\n    id,\n    path,\n    rendererID,\n    wasForwarded,\n    value,\n  }) => {\n    // Don't forward a message that's already been forwarded by the front-end Bridge.\n    // We only need to process the override command once!\n    if (!wasForwarded) {\n      this.overrideValueAtPath({\n        id,\n        path,\n        rendererID,\n        type: 'context',\n        value,\n      });\n    }\n  };\n\n  // Temporarily support older standalone front-ends by forwarding the older message types\n  // to the new \"overrideValueAtPath\" command the backend is now listening to.\n  overrideHookState: OverrideHookParams => void = ({\n    id,\n    hookID,\n    path,\n    rendererID,\n    wasForwarded,\n    value,\n  }) => {\n    // Don't forward a message that's already been forwarded by the front-end Bridge.\n    // We only need to process the override command once!\n    if (!wasForwarded) {\n      this.overrideValueAtPath({\n        id,\n        path,\n        rendererID,\n        type: 'hooks',\n        value,\n      });\n    }\n  };\n\n  // Temporarily support older standalone front-ends by forwarding the older message types\n  // to the new \"overrideValueAtPath\" command the backend is now listening to.\n  overrideProps: SetInParams => void = ({\n    id,\n    path,\n    rendererID,\n    wasForwarded,\n    value,\n  }) => {\n    // Don't forward a message that's already been forwarded by the front-end Bridge.\n    // We only need to process the override command once!\n    if (!wasForwarded) {\n      this.overrideValueAtPath({\n        id,\n        path,\n        rendererID,\n        type: 'props',\n        value,\n      });\n    }\n  };\n\n  // Temporarily support older standalone front-ends by forwarding the older message types\n  // to the new \"overrideValueAtPath\" command the backend is now listening to.\n  overrideState: SetInParams => void = ({\n    id,\n    path,\n    rendererID,\n    wasForwarded,\n    value,\n  }) => {\n    // Don't forward a message that's already been forwarded by the front-end Bridge.\n    // We only need to process the override command once!\n    if (!wasForwarded) {\n      this.overrideValueAtPath({\n        id,\n        path,\n        rendererID,\n        type: 'state',\n        value,\n      });\n    }\n  };\n\n  reloadAndProfile: (recordChangeDescriptions: boolean) => void =\n    recordChangeDescriptions => {\n      sessionStorageSetItem(SESSION_STORAGE_RELOAD_AND_PROFILE_KEY, 'true');\n      sessionStorageSetItem(\n        SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY,\n        recordChangeDescriptions ? 'true' : 'false',\n      );\n\n      // This code path should only be hit if the shell has explicitly told the Store that it supports profiling.\n      // In that case, the shell must also listen for this specific message to know when it needs to reload the app.\n      // The agent can't do this in a way that is renderer agnostic.\n      this._bridge.send('reloadAppForProfiling');\n    };\n\n  renamePath: RenamePathParams => void = ({\n    hookID,\n    id,\n    newPath,\n    oldPath,\n    rendererID,\n    type,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.renamePath(type, id, hookID, oldPath, newPath);\n    }\n  };\n\n  selectNode(target: Object): void {\n    const id = this.getIDForNode(target);\n    if (id !== null) {\n      this._bridge.send('selectFiber', id);\n    }\n  }\n\n  setRendererInterface(\n    rendererID: RendererID,\n    rendererInterface: RendererInterface,\n  ) {\n    this._rendererInterfaces[rendererID] = rendererInterface;\n\n    if (this._isProfiling) {\n      rendererInterface.startProfiling(this._recordChangeDescriptions);\n    }\n\n    rendererInterface.setTraceUpdatesEnabled(this._traceUpdatesEnabled);\n\n    // When the renderer is attached, we need to tell it whether\n    // we remember the previous selection that we'd like to restore.\n    // It'll start tracking mounts for matches to the last selection path.\n    const selection = this._persistedSelection;\n    if (selection !== null && selection.rendererID === rendererID) {\n      rendererInterface.setTrackedPath(selection.path);\n    }\n  }\n\n  setTraceUpdatesEnabled: (traceUpdatesEnabled: boolean) => void =\n    traceUpdatesEnabled => {\n      this._traceUpdatesEnabled = traceUpdatesEnabled;\n\n      setTraceUpdatesEnabled(traceUpdatesEnabled);\n\n      for (const rendererID in this._rendererInterfaces) {\n        const renderer = ((this._rendererInterfaces[\n          (rendererID: any)\n        ]: any): RendererInterface);\n        renderer.setTraceUpdatesEnabled(traceUpdatesEnabled);\n      }\n    };\n\n  syncSelectionFromNativeElementsPanel: () => void = () => {\n    const target = window.__REACT_DEVTOOLS_GLOBAL_HOOK__.$0;\n    if (target == null) {\n      return;\n    }\n    this.selectNode(target);\n  };\n\n  shutdown: () => void = () => {\n    // Clean up the overlay if visible, and associated events.\n    this.emit('shutdown');\n  };\n\n  startProfiling: (recordChangeDescriptions: boolean) => void =\n    recordChangeDescriptions => {\n      this._recordChangeDescriptions = recordChangeDescriptions;\n      this._isProfiling = true;\n      for (const rendererID in this._rendererInterfaces) {\n        const renderer = ((this._rendererInterfaces[\n          (rendererID: any)\n        ]: any): RendererInterface);\n        renderer.startProfiling(recordChangeDescriptions);\n      }\n      this._bridge.send('profilingStatus', this._isProfiling);\n    };\n\n  stopProfiling: () => void = () => {\n    this._isProfiling = false;\n    this._recordChangeDescriptions = false;\n    for (const rendererID in this._rendererInterfaces) {\n      const renderer = ((this._rendererInterfaces[\n        (rendererID: any)\n      ]: any): RendererInterface);\n      renderer.stopProfiling();\n    }\n    this._bridge.send('profilingStatus', this._isProfiling);\n  };\n\n  stopInspectingNative: (selected: boolean) => void = selected => {\n    this._bridge.send('stopInspectingNative', selected);\n  };\n\n  storeAsGlobal: StoreAsGlobalParams => void = ({\n    count,\n    id,\n    path,\n    rendererID,\n  }) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.storeAsGlobal(id, path, count);\n    }\n  };\n\n  updateConsolePatchSettings: ({\n    appendComponentStack: boolean,\n    breakOnConsoleErrors: boolean,\n    browserTheme: BrowserTheme,\n    hideConsoleLogsInStrictMode: boolean,\n    showInlineWarningsAndErrors: boolean,\n  }) => void = ({\n    appendComponentStack,\n    breakOnConsoleErrors,\n    showInlineWarningsAndErrors,\n    hideConsoleLogsInStrictMode,\n    browserTheme,\n  }: ConsolePatchSettings) => {\n    // If the frontend preferences have changed,\n    // or in the case of React Native- if the backend is just finding out the preferences-\n    // then reinstall the console overrides.\n    // It's safe to call `patchConsole` multiple times.\n    patchConsole({\n      appendComponentStack,\n      breakOnConsoleErrors,\n      showInlineWarningsAndErrors,\n      hideConsoleLogsInStrictMode,\n      browserTheme,\n    });\n  };\n\n  updateComponentFilters: (componentFilters: Array<ComponentFilter>) => void =\n    componentFilters => {\n      for (const rendererID in this._rendererInterfaces) {\n        const renderer = ((this._rendererInterfaces[\n          (rendererID: any)\n        ]: any): RendererInterface);\n        renderer.updateComponentFilters(componentFilters);\n      }\n    };\n\n  viewAttributeSource: CopyElementParams => void = ({id, path, rendererID}) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.prepareViewAttributeSource(id, path);\n    }\n  };\n\n  viewElementSource: ElementAndRendererID => void = ({id, rendererID}) => {\n    const renderer = this._rendererInterfaces[rendererID];\n    if (renderer == null) {\n      console.warn(`Invalid renderer id \"${rendererID}\" for element \"${id}\"`);\n    } else {\n      renderer.prepareViewElementSource(id);\n    }\n  };\n\n  onTraceUpdates: (nodes: Set<NativeType>) => void = nodes => {\n    this.emit('traceUpdates', nodes);\n  };\n\n  onFastRefreshScheduled: () => void = () => {\n    if (__DEBUG__) {\n      debug('onFastRefreshScheduled');\n    }\n\n    this._bridge.send('fastRefreshScheduled');\n  };\n\n  onHookOperations: (operations: Array<number>) => void = operations => {\n    if (__DEBUG__) {\n      debug(\n        'onHookOperations',\n        `(${operations.length}) [${operations.join(', ')}]`,\n      );\n    }\n\n    // TODO:\n    // The chrome.runtime does not currently support transferables; it forces JSON serialization.\n    // See bug https://bugs.chromium.org/p/chromium/issues/detail?id=927134\n    //\n    // Regarding transferables, the postMessage doc states:\n    // If the ownership of an object is transferred, it becomes unusable (neutered)\n    // in the context it was sent from and becomes available only to the worker it was sent to.\n    //\n    // Even though Chrome is eventually JSON serializing the array buffer,\n    // using the transferable approach also sometimes causes it to throw:\n    //   DOMException: Failed to execute 'postMessage' on 'Window': ArrayBuffer at index 0 is already neutered.\n    //\n    // See bug https://github.com/bvaughn/react-devtools-experimental/issues/25\n    //\n    // The Store has a fallback in place that parses the message as JSON if the type isn't an array.\n    // For now the simplest fix seems to be to not transfer the array.\n    // This will negatively impact performance on Firefox so it's unfortunate,\n    // but until we're able to fix the Chrome error mentioned above, it seems necessary.\n    //\n    // this._bridge.send('operations', operations, [operations.buffer]);\n    this._bridge.send('operations', operations);\n\n    if (this._persistedSelection !== null) {\n      const rendererID = operations[0];\n      if (this._persistedSelection.rendererID === rendererID) {\n        // Check if we can select a deeper match for the persisted selection.\n        const renderer = this._rendererInterfaces[rendererID];\n        if (renderer == null) {\n          console.warn(`Invalid renderer id \"${rendererID}\"`);\n        } else {\n          const prevMatch = this._persistedSelectionMatch;\n          const nextMatch = renderer.getBestMatchForTrackedPath();\n          this._persistedSelectionMatch = nextMatch;\n          const prevMatchID = prevMatch !== null ? prevMatch.id : null;\n          const nextMatchID = nextMatch !== null ? nextMatch.id : null;\n          if (prevMatchID !== nextMatchID) {\n            if (nextMatchID !== null) {\n              // We moved forward, unlocking a deeper node.\n              this._bridge.send('selectFiber', nextMatchID);\n            }\n          }\n          if (nextMatch !== null && nextMatch.isFullMatch) {\n            // We've just unlocked the innermost selected node.\n            // There's no point tracking it further.\n            this._persistedSelection = null;\n            this._persistedSelectionMatch = null;\n            renderer.setTrackedPath(null);\n          }\n        }\n      }\n    }\n  };\n\n  onUnsupportedRenderer(rendererID: number) {\n    this._bridge.send('unsupportedRendererVersion', rendererID);\n  }\n\n  _throttledPersistSelection: any = throttle(\n    (rendererID: number, id: number) => {\n      // This is throttled, so both renderer and selected ID\n      // might not be available by the time we read them.\n      // This is why we need the defensive checks here.\n      const renderer = this._rendererInterfaces[rendererID];\n      const path = renderer != null ? renderer.getPathForElement(id) : null;\n      if (path !== null) {\n        sessionStorageSetItem(\n          SESSION_STORAGE_LAST_SELECTION_KEY,\n          JSON.stringify(({rendererID, path}: PersistedSelection)),\n        );\n      } else {\n        sessionStorageRemoveItem(SESSION_STORAGE_LAST_SELECTION_KEY);\n      }\n    },\n    1000,\n  );\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {InternalInstance} from './renderer';\n\nexport function decorate(object: Object, attr: string, fn: Function): Function {\n  const old = object[attr];\n  // $FlowFixMe[missing-this-annot] webpack config needs to be updated to allow `this` type annotations\n  object[attr] = function (instance: InternalInstance) {\n    return fn.call(this, old, arguments);\n  };\n  return old;\n}\n\nexport function decorateMany(\n  source: Object,\n  fns: {[attr: string]: Function, ...},\n): Object {\n  const olds: {[string]: $FlowFixMe} = {};\n  for (const name in fns) {\n    olds[name] = decorate(source, name, fns[name]);\n  }\n  return olds;\n}\n\nexport function restoreMany(source: Object, olds: Object): void {\n  for (const name in olds) {\n    source[name] = olds[name];\n  }\n}\n\n// $FlowFixMe[missing-this-annot] webpack config needs to be updated to allow `this` type annotations\nexport function forceUpdate(instance: InternalInstance): void {\n  if (typeof instance.forceUpdate === 'function') {\n    instance.forceUpdate();\n  } else if (\n    instance.updater != null &&\n    typeof instance.updater.enqueueForceUpdate === 'function'\n  ) {\n    instance.updater.enqueueForceUpdate(this, () => {}, 'forceUpdate');\n  }\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport {\n  ElementTypeClass,\n  ElementTypeFunction,\n  ElementTypeRoot,\n  ElementTypeHostComponent,\n  ElementTypeOtherOrUnknown,\n} from 'react-devtools-shared/src/frontend/types';\nimport {getUID, utfEncodeString, printOperationsArray} from '../../utils';\nimport {\n  cleanForBridge,\n  copyWithDelete,\n  copyWithRename,\n  copyWithSet,\n  serializeToString,\n} from '../utils';\nimport {\n  deletePathInObject,\n  getDisplayName,\n  getInObject,\n  renamePathInObject,\n  setInObject,\n} from 'react-devtools-shared/src/utils';\nimport {\n  __DEBUG__,\n  TREE_OPERATION_ADD,\n  TREE_OPERATION_REMOVE,\n  TREE_OPERATION_REORDER_CHILDREN,\n} from '../../constants';\nimport {decorateMany, forceUpdate, restoreMany} from './utils';\n\nimport type {\n  DevToolsHook,\n  GetFiberIDForNative,\n  InspectedElementPayload,\n  InstanceAndStyle,\n  NativeType,\n  PathFrame,\n  PathMatch,\n  RendererInterface,\n} from '../types';\nimport type {\n  ComponentFilter,\n  ElementType,\n} from 'react-devtools-shared/src/frontend/types';\nimport type {InspectedElement, SerializedElement} from '../types';\n\nexport type InternalInstance = Object;\ntype LegacyRenderer = Object;\n\nfunction getData(internalInstance: InternalInstance) {\n  let displayName = null;\n  let key = null;\n\n  // != used deliberately here to catch undefined and null\n  if (internalInstance._currentElement != null) {\n    if (internalInstance._currentElement.key) {\n      key = String(internalInstance._currentElement.key);\n    }\n\n    const elementType = internalInstance._currentElement.type;\n    if (typeof elementType === 'string') {\n      displayName = elementType;\n    } else if (typeof elementType === 'function') {\n      displayName = getDisplayName(elementType);\n    }\n  }\n\n  return {\n    displayName,\n    key,\n  };\n}\n\nfunction getElementType(internalInstance: InternalInstance): ElementType {\n  // != used deliberately here to catch undefined and null\n  if (internalInstance._currentElement != null) {\n    const elementType = internalInstance._currentElement.type;\n    if (typeof elementType === 'function') {\n      const publicInstance = internalInstance.getPublicInstance();\n      if (publicInstance !== null) {\n        return ElementTypeClass;\n      } else {\n        return ElementTypeFunction;\n      }\n    } else if (typeof elementType === 'string') {\n      return ElementTypeHostComponent;\n    }\n  }\n  return ElementTypeOtherOrUnknown;\n}\n\nfunction getChildren(internalInstance: Object): Array<any> {\n  const children = [];\n\n  // If the parent is a native node without rendered children, but with\n  // multiple string children, then the `element` that gets passed in here is\n  // a plain value -- a string or number.\n  if (typeof internalInstance !== 'object') {\n    // No children\n  } else if (\n    internalInstance._currentElement === null ||\n    internalInstance._currentElement === false\n  ) {\n    // No children\n  } else if (internalInstance._renderedComponent) {\n    const child = internalInstance._renderedComponent;\n    if (getElementType(child) !== ElementTypeOtherOrUnknown) {\n      children.push(child);\n    }\n  } else if (internalInstance._renderedChildren) {\n    const renderedChildren = internalInstance._renderedChildren;\n    for (const name in renderedChildren) {\n      const child = renderedChildren[name];\n      if (getElementType(child) !== ElementTypeOtherOrUnknown) {\n        children.push(child);\n      }\n    }\n  }\n  // Note: we skip the case where children are just strings or numbers\n  // because the new DevTools skips over host text nodes anyway.\n  return children;\n}\n\nexport function attach(\n  hook: DevToolsHook,\n  rendererID: number,\n  renderer: LegacyRenderer,\n  global: Object,\n): RendererInterface {\n  const idToInternalInstanceMap: Map<number, InternalInstance> = new Map();\n  const internalInstanceToIDMap: WeakMap<InternalInstance, number> =\n    new WeakMap();\n  const internalInstanceToRootIDMap: WeakMap<InternalInstance, number> =\n    new WeakMap();\n\n  let getInternalIDForNative: GetFiberIDForNative =\n    ((null: any): GetFiberIDForNative);\n  let findNativeNodeForInternalID: (id: number) => ?NativeType;\n  let getFiberForNative = (node: NativeType) => {\n    // Not implemented.\n    return null;\n  };\n\n  if (renderer.ComponentTree) {\n    getInternalIDForNative = (node, findNearestUnfilteredAncestor) => {\n      const internalInstance =\n        renderer.ComponentTree.getClosestInstanceFromNode(node);\n      return internalInstanceToIDMap.get(internalInstance) || null;\n    };\n    findNativeNodeForInternalID = (id: number) => {\n      const internalInstance = idToInternalInstanceMap.get(id);\n      return renderer.ComponentTree.getNodeFromInstance(internalInstance);\n    };\n    getFiberForNative = (node: NativeType) => {\n      return renderer.ComponentTree.getClosestInstanceFromNode(node);\n    };\n  } else if (renderer.Mount.getID && renderer.Mount.getNode) {\n    getInternalIDForNative = (node, findNearestUnfilteredAncestor) => {\n      // Not implemented.\n      return null;\n    };\n    findNativeNodeForInternalID = (id: number) => {\n      // Not implemented.\n      return null;\n    };\n  }\n\n  function getDisplayNameForFiberID(id: number): string | null {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    return internalInstance ? getData(internalInstance).displayName : null;\n  }\n\n  function getID(internalInstance: InternalInstance): number {\n    if (typeof internalInstance !== 'object' || internalInstance === null) {\n      throw new Error('Invalid internal instance: ' + internalInstance);\n    }\n    if (!internalInstanceToIDMap.has(internalInstance)) {\n      const id = getUID();\n      internalInstanceToIDMap.set(internalInstance, id);\n      idToInternalInstanceMap.set(id, internalInstance);\n    }\n    return ((internalInstanceToIDMap.get(internalInstance): any): number);\n  }\n\n  function areEqualArrays(a: Array<any>, b: Array<any>) {\n    if (a.length !== b.length) {\n      return false;\n    }\n    for (let i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  // This is shared mutable state that lets us keep track of where we are.\n  let parentIDStack = [];\n\n  let oldReconcilerMethods = null;\n  if (renderer.Reconciler) {\n    // React 15\n    oldReconcilerMethods = decorateMany(renderer.Reconciler, {\n      mountComponent(fn, args) {\n        const internalInstance = args[0];\n        const hostContainerInfo = args[3];\n        if (getElementType(internalInstance) === ElementTypeOtherOrUnknown) {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          return fn.apply(this, args);\n        }\n        if (hostContainerInfo._topLevelWrapper === undefined) {\n          // SSR\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          return fn.apply(this, args);\n        }\n\n        const id = getID(internalInstance);\n        // Push the operation.\n        const parentID =\n          parentIDStack.length > 0\n            ? parentIDStack[parentIDStack.length - 1]\n            : 0;\n        recordMount(internalInstance, id, parentID);\n        parentIDStack.push(id);\n\n        // Remember the root.\n        internalInstanceToRootIDMap.set(\n          internalInstance,\n          getID(hostContainerInfo._topLevelWrapper),\n        );\n\n        try {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          const result = fn.apply(this, args);\n          parentIDStack.pop();\n          return result;\n        } catch (err) {\n          parentIDStack = [];\n          throw err;\n        } finally {\n          if (parentIDStack.length === 0) {\n            const rootID = internalInstanceToRootIDMap.get(internalInstance);\n            if (rootID === undefined) {\n              throw new Error('Expected to find root ID.');\n            }\n            flushPendingEvents(rootID);\n          }\n        }\n      },\n      performUpdateIfNecessary(fn, args) {\n        const internalInstance = args[0];\n        if (getElementType(internalInstance) === ElementTypeOtherOrUnknown) {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          return fn.apply(this, args);\n        }\n\n        const id = getID(internalInstance);\n        parentIDStack.push(id);\n\n        const prevChildren = getChildren(internalInstance);\n        try {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          const result = fn.apply(this, args);\n\n          const nextChildren = getChildren(internalInstance);\n          if (!areEqualArrays(prevChildren, nextChildren)) {\n            // Push the operation\n            recordReorder(internalInstance, id, nextChildren);\n          }\n\n          parentIDStack.pop();\n          return result;\n        } catch (err) {\n          parentIDStack = [];\n          throw err;\n        } finally {\n          if (parentIDStack.length === 0) {\n            const rootID = internalInstanceToRootIDMap.get(internalInstance);\n            if (rootID === undefined) {\n              throw new Error('Expected to find root ID.');\n            }\n            flushPendingEvents(rootID);\n          }\n        }\n      },\n      receiveComponent(fn, args) {\n        const internalInstance = args[0];\n        if (getElementType(internalInstance) === ElementTypeOtherOrUnknown) {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          return fn.apply(this, args);\n        }\n\n        const id = getID(internalInstance);\n        parentIDStack.push(id);\n\n        const prevChildren = getChildren(internalInstance);\n        try {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          const result = fn.apply(this, args);\n\n          const nextChildren = getChildren(internalInstance);\n          if (!areEqualArrays(prevChildren, nextChildren)) {\n            // Push the operation\n            recordReorder(internalInstance, id, nextChildren);\n          }\n\n          parentIDStack.pop();\n          return result;\n        } catch (err) {\n          parentIDStack = [];\n          throw err;\n        } finally {\n          if (parentIDStack.length === 0) {\n            const rootID = internalInstanceToRootIDMap.get(internalInstance);\n            if (rootID === undefined) {\n              throw new Error('Expected to find root ID.');\n            }\n            flushPendingEvents(rootID);\n          }\n        }\n      },\n      unmountComponent(fn, args) {\n        const internalInstance = args[0];\n        if (getElementType(internalInstance) === ElementTypeOtherOrUnknown) {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          return fn.apply(this, args);\n        }\n\n        const id = getID(internalInstance);\n        parentIDStack.push(id);\n        try {\n          // $FlowFixMe[object-this-reference] found when upgrading Flow\n          const result = fn.apply(this, args);\n          parentIDStack.pop();\n\n          // Push the operation.\n          recordUnmount(internalInstance, id);\n\n          return result;\n        } catch (err) {\n          parentIDStack = [];\n          throw err;\n        } finally {\n          if (parentIDStack.length === 0) {\n            const rootID = internalInstanceToRootIDMap.get(internalInstance);\n            if (rootID === undefined) {\n              throw new Error('Expected to find root ID.');\n            }\n            flushPendingEvents(rootID);\n          }\n        }\n      },\n    });\n  }\n\n  function cleanup() {\n    if (oldReconcilerMethods !== null) {\n      if (renderer.Component) {\n        restoreMany(renderer.Component.Mixin, oldReconcilerMethods);\n      } else {\n        restoreMany(renderer.Reconciler, oldReconcilerMethods);\n      }\n    }\n    oldReconcilerMethods = null;\n  }\n\n  function recordMount(\n    internalInstance: InternalInstance,\n    id: number,\n    parentID: number,\n  ) {\n    const isRoot = parentID === 0;\n\n    if (__DEBUG__) {\n      console.log(\n        '%crecordMount()',\n        'color: green; font-weight: bold;',\n        id,\n        getData(internalInstance).displayName,\n      );\n    }\n\n    if (isRoot) {\n      // TODO Is this right? For all versions?\n      const hasOwnerMetadata =\n        internalInstance._currentElement != null &&\n        internalInstance._currentElement._owner != null;\n\n      pushOperation(TREE_OPERATION_ADD);\n      pushOperation(id);\n      pushOperation(ElementTypeRoot);\n      pushOperation(0); // StrictMode compliant?\n      pushOperation(0); // Profiling flag\n      pushOperation(0); // StrictMode supported?\n      pushOperation(hasOwnerMetadata ? 1 : 0);\n    } else {\n      const type = getElementType(internalInstance);\n      const {displayName, key} = getData(internalInstance);\n\n      const ownerID =\n        internalInstance._currentElement != null &&\n        internalInstance._currentElement._owner != null\n          ? getID(internalInstance._currentElement._owner)\n          : 0;\n\n      const displayNameStringID = getStringID(displayName);\n      const keyStringID = getStringID(key);\n      pushOperation(TREE_OPERATION_ADD);\n      pushOperation(id);\n      pushOperation(type);\n      pushOperation(parentID);\n      pushOperation(ownerID);\n      pushOperation(displayNameStringID);\n      pushOperation(keyStringID);\n    }\n  }\n\n  function recordReorder(\n    internalInstance: InternalInstance,\n    id: number,\n    nextChildren: Array<InternalInstance>,\n  ) {\n    pushOperation(TREE_OPERATION_REORDER_CHILDREN);\n    pushOperation(id);\n    const nextChildIDs = nextChildren.map(getID);\n    pushOperation(nextChildIDs.length);\n    for (let i = 0; i < nextChildIDs.length; i++) {\n      pushOperation(nextChildIDs[i]);\n    }\n  }\n\n  function recordUnmount(internalInstance: InternalInstance, id: number) {\n    pendingUnmountedIDs.push(id);\n    idToInternalInstanceMap.delete(id);\n  }\n\n  function crawlAndRecordInitialMounts(\n    id: number,\n    parentID: number,\n    rootID: number,\n  ) {\n    if (__DEBUG__) {\n      console.group('crawlAndRecordInitialMounts() id:', id);\n    }\n\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      internalInstanceToRootIDMap.set(internalInstance, rootID);\n      recordMount(internalInstance, id, parentID);\n      getChildren(internalInstance).forEach(child =>\n        crawlAndRecordInitialMounts(getID(child), id, rootID),\n      );\n    }\n\n    if (__DEBUG__) {\n      console.groupEnd();\n    }\n  }\n\n  function flushInitialOperations() {\n    // Crawl roots though and register any nodes that mounted before we were injected.\n\n    const roots =\n      renderer.Mount._instancesByReactRootID ||\n      renderer.Mount._instancesByContainerID;\n\n    for (const key in roots) {\n      const internalInstance = roots[key];\n      const id = getID(internalInstance);\n      crawlAndRecordInitialMounts(id, 0, id);\n      flushPendingEvents(id);\n    }\n  }\n\n  const pendingOperations: Array<number> = [];\n  const pendingStringTable: Map<string, number> = new Map();\n  let pendingUnmountedIDs: Array<number> = [];\n  let pendingStringTableLength: number = 0;\n  let pendingUnmountedRootID: number | null = null;\n\n  function flushPendingEvents(rootID: number) {\n    if (\n      pendingOperations.length === 0 &&\n      pendingUnmountedIDs.length === 0 &&\n      pendingUnmountedRootID === null\n    ) {\n      return;\n    }\n\n    const numUnmountIDs =\n      pendingUnmountedIDs.length + (pendingUnmountedRootID === null ? 0 : 1);\n\n    const operations = new Array<number>(\n      // Identify which renderer this update is coming from.\n      2 + // [rendererID, rootFiberID]\n        // How big is the string table?\n        1 + // [stringTableLength]\n        // Then goes the actual string table.\n        pendingStringTableLength +\n        // All unmounts are batched in a single message.\n        // [TREE_OPERATION_REMOVE, removedIDLength, ...ids]\n        (numUnmountIDs > 0 ? 2 + numUnmountIDs : 0) +\n        // Mount operations\n        pendingOperations.length,\n    );\n\n    // Identify which renderer this update is coming from.\n    // This enables roots to be mapped to renderers,\n    // Which in turn enables fiber properations, states, and hooks to be inspected.\n    let i = 0;\n    operations[i++] = rendererID;\n    operations[i++] = rootID;\n\n    // Now fill in the string table.\n    // [stringTableLength, str1Length, ...str1, str2Length, ...str2, ...]\n    operations[i++] = pendingStringTableLength;\n    pendingStringTable.forEach((value, key) => {\n      operations[i++] = key.length;\n      const encodedKey = utfEncodeString(key);\n      for (let j = 0; j < encodedKey.length; j++) {\n        operations[i + j] = encodedKey[j];\n      }\n      i += key.length;\n    });\n\n    if (numUnmountIDs > 0) {\n      // All unmounts except roots are batched in a single message.\n      operations[i++] = TREE_OPERATION_REMOVE;\n      // The first number is how many unmounted IDs we're gonna send.\n      operations[i++] = numUnmountIDs;\n      // Fill in the unmounts\n      for (let j = 0; j < pendingUnmountedIDs.length; j++) {\n        operations[i++] = pendingUnmountedIDs[j];\n      }\n      // The root ID should always be unmounted last.\n      if (pendingUnmountedRootID !== null) {\n        operations[i] = pendingUnmountedRootID;\n        i++;\n      }\n    }\n\n    // Fill in the rest of the operations.\n    for (let j = 0; j < pendingOperations.length; j++) {\n      operations[i + j] = pendingOperations[j];\n    }\n    i += pendingOperations.length;\n\n    if (__DEBUG__) {\n      printOperationsArray(operations);\n    }\n\n    // If we've already connected to the frontend, just pass the operations through.\n    hook.emit('operations', operations);\n\n    pendingOperations.length = 0;\n    pendingUnmountedIDs = [];\n    pendingUnmountedRootID = null;\n    pendingStringTable.clear();\n    pendingStringTableLength = 0;\n  }\n\n  function pushOperation(op: number): void {\n    if (__DEV__) {\n      if (!Number.isInteger(op)) {\n        console.error(\n          'pushOperation() was called but the value is not an integer.',\n          op,\n        );\n      }\n    }\n    pendingOperations.push(op);\n  }\n\n  function getStringID(str: string | null): number {\n    if (str === null) {\n      return 0;\n    }\n    const existingID = pendingStringTable.get(str);\n    if (existingID !== undefined) {\n      return existingID;\n    }\n    const stringID = pendingStringTable.size + 1;\n    pendingStringTable.set(str, stringID);\n    // The string table total length needs to account\n    // both for the string length, and for the array item\n    // that contains the length itself. Hence + 1.\n    pendingStringTableLength += str.length + 1;\n    return stringID;\n  }\n\n  let currentlyInspectedElementID: number | null = null;\n  let currentlyInspectedPaths: Object = {};\n\n  // Track the intersection of currently inspected paths,\n  // so that we can send their data along if the element is re-rendered.\n  function mergeInspectedPaths(path: Array<string | number>) {\n    let current = currentlyInspectedPaths;\n    path.forEach(key => {\n      if (!current[key]) {\n        current[key] = {};\n      }\n      current = current[key];\n    });\n  }\n\n  function createIsPathAllowed(key: string) {\n    // This function helps prevent previously-inspected paths from being dehydrated in updates.\n    // This is important to avoid a bad user experience where expanded toggles collapse on update.\n    return function isPathAllowed(path: Array<string | number>): boolean {\n      let current = currentlyInspectedPaths[key];\n      if (!current) {\n        return false;\n      }\n      for (let i = 0; i < path.length; i++) {\n        current = current[path[i]];\n        if (!current) {\n          return false;\n        }\n      }\n      return true;\n    };\n  }\n\n  // Fast path props lookup for React Native style editor.\n  function getInstanceAndStyle(id: number): InstanceAndStyle {\n    let instance = null;\n    let style = null;\n\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      instance = internalInstance._instance || null;\n\n      const element = internalInstance._currentElement;\n      if (element != null && element.props != null) {\n        style = element.props.style || null;\n      }\n    }\n\n    return {\n      instance,\n      style,\n    };\n  }\n\n  function updateSelectedElement(id: number): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance == null) {\n      console.warn(`Could not find instance with id \"${id}\"`);\n      return;\n    }\n\n    switch (getElementType(internalInstance)) {\n      case ElementTypeClass:\n        global.$r = internalInstance._instance;\n        break;\n      case ElementTypeFunction:\n        const element = internalInstance._currentElement;\n        if (element == null) {\n          console.warn(`Could not find element with id \"${id}\"`);\n          return;\n        }\n\n        global.$r = {\n          props: element.props,\n          type: element.type,\n        };\n        break;\n      default:\n        global.$r = null;\n        break;\n    }\n  }\n\n  function storeAsGlobal(\n    id: number,\n    path: Array<string | number>,\n    count: number,\n  ): void {\n    const inspectedElement = inspectElementRaw(id);\n    if (inspectedElement !== null) {\n      const value = getInObject(inspectedElement, path);\n      const key = `$reactTemp${count}`;\n\n      window[key] = value;\n\n      console.log(key);\n      console.log(value);\n    }\n  }\n\n  function getSerializedElementValueByPath(\n    id: number,\n    path: Array<string | number>,\n  ): ?string {\n    const inspectedElement = inspectElementRaw(id);\n    if (inspectedElement !== null) {\n      const valueToCopy = getInObject(inspectedElement, path);\n\n      return serializeToString(valueToCopy);\n    }\n  }\n\n  function inspectElement(\n    requestID: number,\n    id: number,\n    path: Array<string | number> | null,\n    forceFullData: boolean,\n  ): InspectedElementPayload {\n    if (forceFullData || currentlyInspectedElementID !== id) {\n      currentlyInspectedElementID = id;\n      currentlyInspectedPaths = {};\n    }\n\n    const inspectedElement = inspectElementRaw(id);\n    if (inspectedElement === null) {\n      return {\n        id,\n        responseID: requestID,\n        type: 'not-found',\n      };\n    }\n\n    if (path !== null) {\n      mergeInspectedPaths(path);\n    }\n\n    // Any time an inspected element has an update,\n    // we should update the selected $r value as wel.\n    // Do this before dehydration (cleanForBridge).\n    updateSelectedElement(id);\n\n    inspectedElement.context = cleanForBridge(\n      inspectedElement.context,\n      createIsPathAllowed('context'),\n    );\n    inspectedElement.props = cleanForBridge(\n      inspectedElement.props,\n      createIsPathAllowed('props'),\n    );\n    inspectedElement.state = cleanForBridge(\n      inspectedElement.state,\n      createIsPathAllowed('state'),\n    );\n\n    return {\n      id,\n      responseID: requestID,\n      type: 'full-data',\n      value: inspectedElement,\n    };\n  }\n\n  function inspectElementRaw(id: number): InspectedElement | null {\n    const internalInstance = idToInternalInstanceMap.get(id);\n\n    if (internalInstance == null) {\n      return null;\n    }\n\n    const {displayName, key} = getData(internalInstance);\n    const type = getElementType(internalInstance);\n\n    let context = null;\n    let owners = null;\n    let props = null;\n    let state = null;\n    let source = null;\n\n    const element = internalInstance._currentElement;\n    if (element !== null) {\n      props = element.props;\n      source = element._source != null ? element._source : null;\n\n      let owner = element._owner;\n      if (owner) {\n        owners = ([]: Array<SerializedElement>);\n        while (owner != null) {\n          owners.push({\n            displayName: getData(owner).displayName || 'Unknown',\n            id: getID(owner),\n            key: element.key,\n            type: getElementType(owner),\n          });\n          if (owner._currentElement) {\n            owner = owner._currentElement._owner;\n          }\n        }\n      }\n    }\n\n    const publicInstance = internalInstance._instance;\n    if (publicInstance != null) {\n      context = publicInstance.context || null;\n      state = publicInstance.state || null;\n    }\n\n    // Not implemented\n    const errors: Array<[string, number]> = [];\n    const warnings: Array<[string, number]> = [];\n\n    return {\n      id,\n\n      // Does the current renderer support editable hooks and function props?\n      canEditHooks: false,\n      canEditFunctionProps: false,\n\n      // Does the current renderer support advanced editing interface?\n      canEditHooksAndDeletePaths: false,\n      canEditHooksAndRenamePaths: false,\n      canEditFunctionPropsDeletePaths: false,\n      canEditFunctionPropsRenamePaths: false,\n\n      // Toggle error boundary did not exist in legacy versions\n      canToggleError: false,\n      isErrored: false,\n      targetErrorBoundaryID: null,\n\n      // Suspense did not exist in legacy versions\n      canToggleSuspense: false,\n\n      // Can view component source location.\n      canViewSource: type === ElementTypeClass || type === ElementTypeFunction,\n\n      // Only legacy context exists in legacy versions.\n      hasLegacyContext: true,\n\n      displayName: displayName,\n\n      type: type,\n\n      key: key != null ? key : null,\n\n      // Inspectable properties.\n      context,\n      hooks: null,\n      props,\n      state,\n      errors,\n      warnings,\n\n      // List of owners\n      owners,\n\n      // Location of component in source code.\n      source,\n\n      rootType: null,\n      rendererPackageName: null,\n      rendererVersion: null,\n\n      plugins: {\n        stylex: null,\n      },\n    };\n  }\n\n  function logElementToConsole(id: number): void {\n    const result = inspectElementRaw(id);\n    if (result === null) {\n      console.warn(`Could not find element with id \"${id}\"`);\n      return;\n    }\n\n    const supportsGroup = typeof console.groupCollapsed === 'function';\n    if (supportsGroup) {\n      console.groupCollapsed(\n        `[Click to expand] %c<${result.displayName || 'Component'} />`,\n        // --dom-tag-name-color is the CSS variable Chrome styles HTML elements with in the console.\n        'color: var(--dom-tag-name-color); font-weight: normal;',\n      );\n    }\n    if (result.props !== null) {\n      console.log('Props:', result.props);\n    }\n    if (result.state !== null) {\n      console.log('State:', result.state);\n    }\n    if (result.context !== null) {\n      console.log('Context:', result.context);\n    }\n    const nativeNode = findNativeNodeForInternalID(id);\n    if (nativeNode !== null) {\n      console.log('Node:', nativeNode);\n    }\n    if (window.chrome || /firefox/i.test(navigator.userAgent)) {\n      console.log(\n        'Right-click any value to save it as a global variable for further inspection.',\n      );\n    }\n    if (supportsGroup) {\n      console.groupEnd();\n    }\n  }\n\n  function prepareViewAttributeSource(\n    id: number,\n    path: Array<string | number>,\n  ): void {\n    const inspectedElement = inspectElementRaw(id);\n    if (inspectedElement !== null) {\n      window.$attribute = getInObject(inspectedElement, path);\n    }\n  }\n\n  function prepareViewElementSource(id: number): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance == null) {\n      console.warn(`Could not find instance with id \"${id}\"`);\n      return;\n    }\n\n    const element = internalInstance._currentElement;\n    if (element == null) {\n      console.warn(`Could not find element with id \"${id}\"`);\n      return;\n    }\n\n    global.$type = element.type;\n  }\n\n  function deletePath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    path: Array<string | number>,\n  ): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      const publicInstance = internalInstance._instance;\n      if (publicInstance != null) {\n        switch (type) {\n          case 'context':\n            deletePathInObject(publicInstance.context, path);\n            forceUpdate(publicInstance);\n            break;\n          case 'hooks':\n            throw new Error('Hooks not supported by this renderer');\n          case 'props':\n            const element = internalInstance._currentElement;\n            internalInstance._currentElement = {\n              ...element,\n              props: copyWithDelete(element.props, path),\n            };\n            forceUpdate(publicInstance);\n            break;\n          case 'state':\n            deletePathInObject(publicInstance.state, path);\n            forceUpdate(publicInstance);\n            break;\n        }\n      }\n    }\n  }\n\n  function renamePath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    oldPath: Array<string | number>,\n    newPath: Array<string | number>,\n  ): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      const publicInstance = internalInstance._instance;\n      if (publicInstance != null) {\n        switch (type) {\n          case 'context':\n            renamePathInObject(publicInstance.context, oldPath, newPath);\n            forceUpdate(publicInstance);\n            break;\n          case 'hooks':\n            throw new Error('Hooks not supported by this renderer');\n          case 'props':\n            const element = internalInstance._currentElement;\n            internalInstance._currentElement = {\n              ...element,\n              props: copyWithRename(element.props, oldPath, newPath),\n            };\n            forceUpdate(publicInstance);\n            break;\n          case 'state':\n            renamePathInObject(publicInstance.state, oldPath, newPath);\n            forceUpdate(publicInstance);\n            break;\n        }\n      }\n    }\n  }\n\n  function overrideValueAtPath(\n    type: 'context' | 'hooks' | 'props' | 'state',\n    id: number,\n    hookID: ?number,\n    path: Array<string | number>,\n    value: any,\n  ): void {\n    const internalInstance = idToInternalInstanceMap.get(id);\n    if (internalInstance != null) {\n      const publicInstance = internalInstance._instance;\n      if (publicInstance != null) {\n        switch (type) {\n          case 'context':\n            setInObject(publicInstance.context, path, value);\n            forceUpdate(publicInstance);\n            break;\n          case 'hooks':\n            throw new Error('Hooks not supported by this renderer');\n          case 'props':\n            const element = internalInstance._currentElement;\n            internalInstance._currentElement = {\n              ...element,\n              props: copyWithSet(element.props, path, value),\n            };\n            forceUpdate(publicInstance);\n            break;\n          case 'state':\n            setInObject(publicInstance.state, path, value);\n            forceUpdate(publicInstance);\n            break;\n        }\n      }\n    }\n  }\n\n  // v16+ only features\n  const getProfilingData = () => {\n    throw new Error('getProfilingData not supported by this renderer');\n  };\n  const handleCommitFiberRoot = () => {\n    throw new Error('handleCommitFiberRoot not supported by this renderer');\n  };\n  const handleCommitFiberUnmount = () => {\n    throw new Error('handleCommitFiberUnmount not supported by this renderer');\n  };\n  const handlePostCommitFiberRoot = () => {\n    throw new Error('handlePostCommitFiberRoot not supported by this renderer');\n  };\n  const overrideError = () => {\n    throw new Error('overrideError not supported by this renderer');\n  };\n  const overrideSuspense = () => {\n    throw new Error('overrideSuspense not supported by this renderer');\n  };\n  const startProfiling = () => {\n    // Do not throw, since this would break a multi-root scenario where v15 and v16 were both present.\n  };\n  const stopProfiling = () => {\n    // Do not throw, since this would break a multi-root scenario where v15 and v16 were both present.\n  };\n\n  function getBestMatchForTrackedPath(): PathMatch | null {\n    // Not implemented.\n    return null;\n  }\n\n  function getPathForElement(id: number): Array<PathFrame> | null {\n    // Not implemented.\n    return null;\n  }\n\n  function updateComponentFilters(componentFilters: Array<ComponentFilter>) {\n    // Not implemented.\n  }\n\n  function setTraceUpdatesEnabled(enabled: boolean) {\n    // Not implemented.\n  }\n\n  function setTrackedPath(path: Array<PathFrame> | null) {\n    // Not implemented.\n  }\n\n  function getOwnersList(id: number): Array<SerializedElement> | null {\n    // Not implemented.\n    return null;\n  }\n\n  function clearErrorsAndWarnings() {\n    // Not implemented\n  }\n\n  function clearErrorsForFiberID(id: number) {\n    // Not implemented\n  }\n\n  function clearWarningsForFiberID(id: number) {\n    // Not implemented\n  }\n\n  function patchConsoleForStrictMode() {}\n\n  function unpatchConsoleForStrictMode() {}\n\n  function hasFiberWithId(id: number): boolean {\n    return idToInternalInstanceMap.has(id);\n  }\n\n  return {\n    clearErrorsAndWarnings,\n    clearErrorsForFiberID,\n    clearWarningsForFiberID,\n    cleanup,\n    getSerializedElementValueByPath,\n    deletePath,\n    flushInitialOperations,\n    getBestMatchForTrackedPath,\n    getDisplayNameForFiberID,\n    getFiberForNative,\n    getFiberIDForNative: getInternalIDForNative,\n    getInstanceAndStyle,\n    findNativeNodesForFiberID: (id: number) => {\n      const nativeNode = findNativeNodeForInternalID(id);\n      return nativeNode == null ? null : [nativeNode];\n    },\n    getOwnersList,\n    getPathForElement,\n    getProfilingData,\n    handleCommitFiberRoot,\n    handleCommitFiberUnmount,\n    handlePostCommitFiberRoot,\n    hasFiberWithId,\n    inspectElement,\n    logElementToConsole,\n    overrideError,\n    overrideSuspense,\n    overrideValueAtPath,\n    renamePath,\n    patchConsoleForStrictMode,\n    prepareViewAttributeSource,\n    prepareViewElementSource,\n    renderer,\n    setTraceUpdatesEnabled,\n    setTrackedPath,\n    startProfiling,\n    stopProfiling,\n    storeAsGlobal,\n    unpatchConsoleForStrictMode,\n    updateComponentFilters,\n  };\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport Agent from './agent';\n\nimport {attach} from './renderer';\nimport {attach as attachLegacy} from './legacy/renderer';\nimport {hasAssignedBackend} from './utils';\n\nimport type {DevToolsHook, ReactRenderer, RendererInterface} from './types';\n\n// this is the backend that is compatible with all older React versions\nfunction isMatchingRender(version: string): boolean {\n  return !hasAssignedBackend(version);\n}\n\nexport type InitBackend = typeof initBackend;\n\nexport function initBackend(\n  hook: DevToolsHook,\n  agent: Agent,\n  global: Object,\n): () => void {\n  if (hook == null) {\n    // DevTools didn't get injected into this page (maybe b'c of the contentType).\n    return () => {};\n  }\n\n  const subs = [\n    hook.sub(\n      'renderer-attached',\n      ({\n        id,\n        renderer,\n        rendererInterface,\n      }: {\n        id: number,\n        renderer: ReactRenderer,\n        rendererInterface: RendererInterface,\n        ...\n      }) => {\n        agent.setRendererInterface(id, rendererInterface);\n\n        // Now that the Store and the renderer interface are connected,\n        // it's time to flush the pending operation codes to the frontend.\n        rendererInterface.flushInitialOperations();\n      },\n    ),\n\n    hook.sub('unsupported-renderer-version', (id: number) => {\n      agent.onUnsupportedRenderer(id);\n    }),\n\n    hook.sub('fastRefreshScheduled', agent.onFastRefreshScheduled),\n    hook.sub('operations', agent.onHookOperations),\n    hook.sub('traceUpdates', agent.onTraceUpdates),\n\n    // TODO Add additional subscriptions required for profiling mode\n  ];\n\n  const attachRenderer = (id: number, renderer: ReactRenderer) => {\n    // only attach if the renderer is compatible with the current version of the backend\n    if (!isMatchingRender(renderer.reconcilerVersion || renderer.version)) {\n      return;\n    }\n    let rendererInterface = hook.rendererInterfaces.get(id);\n\n    // Inject any not-yet-injected renderers (if we didn't reload-and-profile)\n    if (rendererInterface == null) {\n      if (typeof renderer.findFiberByHostInstance === 'function') {\n        // react-reconciler v16+\n        rendererInterface = attach(hook, id, renderer, global);\n      } else if (renderer.ComponentTree) {\n        // react-dom v15\n        rendererInterface = attachLegacy(hook, id, renderer, global);\n      } else {\n        // Older react-dom or other unsupported renderer version\n      }\n\n      if (rendererInterface != null) {\n        hook.rendererInterfaces.set(id, rendererInterface);\n      }\n    }\n\n    // Notify the DevTools frontend about new renderers.\n    // This includes any that were attached early (via __REACT_DEVTOOLS_ATTACH__).\n    if (rendererInterface != null) {\n      hook.emit('renderer-attached', {\n        id,\n        renderer,\n        rendererInterface,\n      });\n    } else {\n      hook.emit('unsupported-renderer-version', id);\n    }\n  };\n\n  // Connect renderers that have already injected themselves.\n  hook.renderers.forEach((renderer, id) => {\n    attachRenderer(id, renderer);\n  });\n\n  // Connect any new renderers that injected themselves.\n  subs.push(\n    hook.sub(\n      'renderer',\n      ({id, renderer}: {id: number, renderer: ReactRenderer, ...}) => {\n        attachRenderer(id, renderer);\n      },\n    ),\n  );\n\n  hook.emit('react-devtools', agent);\n  hook.reactDevtoolsAgent = agent;\n  const onAgentShutdown = () => {\n    subs.forEach(fn => fn());\n    hook.rendererInterfaces.forEach(rendererInterface => {\n      rendererInterface.cleanup();\n    });\n    hook.reactDevtoolsAgent = null;\n  };\n  agent.addListener('shutdown', onAgentShutdown);\n  subs.push(() => {\n    agent.removeListener('shutdown', onAgentShutdown);\n  });\n\n  return () => {\n    subs.forEach(fn => fn());\n  };\n}\n","/**\n * Install the hook on window, which is an event emitter.\n * Note: this global hook __REACT_DEVTOOLS_GLOBAL_HOOK__ is a de facto public API.\n * It's especially important to avoid creating direct dependency on the DevTools Backend.\n * That's why we still inline the whole event emitter implementation,\n * the string format implementation, and part of the console implementation here.\n *\n * @flow\n */\n\nimport type {BrowserTheme} from './frontend/types';\nimport type {\n  DevToolsHook,\n  Handler,\n  ReactRenderer,\n  RendererID,\n  RendererInterface,\n  DevToolsBackend,\n} from './backend/types';\n\ndeclare var window: any;\n\nexport function installHook(target: any): DevToolsHook | null {\n  if (target.hasOwnProperty('__REACT_DEVTOOLS_GLOBAL_HOOK__')) {\n    return null;\n  }\n\n  let targetConsole: Object = console;\n  let targetConsoleMethods: {[string]: $FlowFixMe} = {};\n  for (const method in console) {\n    targetConsoleMethods[method] = console[method];\n  }\n\n  function dangerous_setTargetConsoleForTesting(\n    targetConsoleForTesting: Object,\n  ): void {\n    targetConsole = targetConsoleForTesting;\n\n    targetConsoleMethods = ({}: {[string]: $FlowFixMe});\n    for (const method in targetConsole) {\n      targetConsoleMethods[method] = console[method];\n    }\n  }\n\n  function detectReactBuildType(renderer: ReactRenderer) {\n    try {\n      if (typeof renderer.version === 'string') {\n        // React DOM Fiber (16+)\n        if (renderer.bundleType > 0) {\n          // This is not a production build.\n          // We are currently only using 0 (PROD) and 1 (DEV)\n          // but might add 2 (PROFILE) in the future.\n          return 'development';\n        }\n\n        // React 16 uses flat bundles. If we report the bundle as production\n        // version, it means we also minified and envified it ourselves.\n        return 'production';\n        // Note: There is still a risk that the CommonJS entry point has not\n        // been envified or uglified. In this case the user would have *both*\n        // development and production bundle, but only the prod one would run.\n        // This would be really bad. We have a separate check for this because\n        // it happens *outside* of the renderer injection. See `checkDCE` below.\n      }\n\n      // $FlowFixMe[method-unbinding]\n      const toString = Function.prototype.toString;\n      if (renderer.Mount && renderer.Mount._renderNewRootComponent) {\n        // React DOM Stack\n        const renderRootCode = toString.call(\n          renderer.Mount._renderNewRootComponent,\n        );\n        // Filter out bad results (if that is even possible):\n        if (renderRootCode.indexOf('function') !== 0) {\n          // Hope for the best if we're not sure.\n          return 'production';\n        }\n        // Check for React DOM Stack < 15.1.0 in development.\n        // If it contains \"storedMeasure\" call, it's wrapped in ReactPerf (DEV only).\n        // This would be true even if it's minified, as method name still matches.\n        if (renderRootCode.indexOf('storedMeasure') !== -1) {\n          return 'development';\n        }\n        // For other versions (and configurations) it's not so easy.\n        // Let's quickly exclude proper production builds.\n        // If it contains a warning message, it's either a DEV build,\n        // or an PROD build without proper dead code elimination.\n        if (renderRootCode.indexOf('should be a pure function') !== -1) {\n          // Now how do we tell a DEV build from a bad PROD build?\n          // If we see NODE_ENV, we're going to assume this is a dev build\n          // because most likely it is referring to an empty shim.\n          if (renderRootCode.indexOf('NODE_ENV') !== -1) {\n            return 'development';\n          }\n          // If we see \"development\", we're dealing with an envified DEV build\n          // (such as the official React DEV UMD).\n          if (renderRootCode.indexOf('development') !== -1) {\n            return 'development';\n          }\n          // I've seen process.env.NODE_ENV !== 'production' being smartly\n          // replaced by `true` in DEV by Webpack. I don't know how that\n          // works but we can safely guard against it because `true` was\n          // never used in the function source since it was written.\n          if (renderRootCode.indexOf('true') !== -1) {\n            return 'development';\n          }\n          // By now either it is a production build that has not been minified,\n          // or (worse) this is a minified development build using non-standard\n          // environment (e.g. \"staging\"). We're going to look at whether\n          // the function argument name is mangled:\n          if (\n            // 0.13 to 15\n            renderRootCode.indexOf('nextElement') !== -1 ||\n            // 0.12\n            renderRootCode.indexOf('nextComponent') !== -1\n          ) {\n            // We can't be certain whether this is a development build or not,\n            // but it is definitely unminified.\n            return 'unminified';\n          } else {\n            // This is likely a minified development build.\n            return 'development';\n          }\n        }\n        // By now we know that it's envified and dead code elimination worked,\n        // but what if it's still not minified? (Is this even possible?)\n        // Let's check matches for the first argument name.\n        if (\n          // 0.13 to 15\n          renderRootCode.indexOf('nextElement') !== -1 ||\n          // 0.12\n          renderRootCode.indexOf('nextComponent') !== -1\n        ) {\n          return 'unminified';\n        }\n        // Seems like we're using the production version.\n        // However, the branch above is Stack-only so this is 15 or earlier.\n        return 'outdated';\n      }\n    } catch (err) {\n      // Weird environments may exist.\n      // This code needs a higher fault tolerance\n      // because it runs even with closed DevTools.\n      // TODO: should we catch errors in all injected code, and not just this part?\n    }\n    return 'production';\n  }\n\n  function checkDCE(fn: Function) {\n    // This runs for production versions of React.\n    // Needs to be super safe.\n    try {\n      // $FlowFixMe[method-unbinding]\n      const toString = Function.prototype.toString;\n      const code = toString.call(fn);\n\n      // This is a string embedded in the passed function under DEV-only\n      // condition. However the function executes only in PROD. Therefore,\n      // if we see it, dead code elimination did not work.\n      if (code.indexOf('^_^') > -1) {\n        // Remember to report during next injection.\n        hasDetectedBadDCE = true;\n\n        // Bonus: throw an exception hoping that it gets picked up by a reporting system.\n        // Not synchronously so that it doesn't break the calling code.\n        setTimeout(function () {\n          throw new Error(\n            'React is running in production mode, but dead code ' +\n              'elimination has not been applied. Read how to correctly ' +\n              'configure React for production: ' +\n              'https://reactjs.org/link/perf-use-production-build',\n          );\n        });\n      }\n    } catch (err) {}\n  }\n\n  // NOTE: KEEP IN SYNC with src/backend/utils.js\n  function formatWithStyles(\n    inputArgs: $ReadOnlyArray<any>,\n    style?: string,\n  ): $ReadOnlyArray<any> {\n    if (\n      inputArgs === undefined ||\n      inputArgs === null ||\n      inputArgs.length === 0 ||\n      // Matches any of %c but not %%c\n      (typeof inputArgs[0] === 'string' &&\n        inputArgs[0].match(/([^%]|^)(%c)/g)) ||\n      style === undefined\n    ) {\n      return inputArgs;\n    }\n\n    // Matches any of %(o|O|d|i|s|f), but not %%(o|O|d|i|s|f)\n    const REGEXP = /([^%]|^)((%%)*)(%([oOdisf]))/g;\n    if (typeof inputArgs[0] === 'string' && inputArgs[0].match(REGEXP)) {\n      return [`%c${inputArgs[0]}`, style, ...inputArgs.slice(1)];\n    } else {\n      const firstArg = inputArgs.reduce((formatStr, elem, i) => {\n        if (i > 0) {\n          formatStr += ' ';\n        }\n        switch (typeof elem) {\n          case 'string':\n          case 'boolean':\n          case 'symbol':\n            return (formatStr += '%s');\n          case 'number':\n            const formatting = Number.isInteger(elem) ? '%i' : '%f';\n            return (formatStr += formatting);\n          default:\n            return (formatStr += '%o');\n        }\n      }, '%c');\n      return [firstArg, style, ...inputArgs];\n    }\n  }\n\n  let unpatchFn = null;\n\n  // NOTE: KEEP IN SYNC with src/backend/console.js:patchForStrictMode\n  // This function hides or dims console logs during the initial double renderer\n  // in Strict Mode. We need this function because during initial render,\n  // React and DevTools are connecting and the renderer interface isn't avaiable\n  // and we want to be able to have consistent logging behavior for double logs\n  // during the initial renderer.\n  function patchConsoleForInitialRenderInStrictMode({\n    hideConsoleLogsInStrictMode,\n    browserTheme,\n  }: {\n    hideConsoleLogsInStrictMode: boolean,\n    browserTheme: BrowserTheme,\n  }) {\n    const overrideConsoleMethods = [\n      'error',\n      'group',\n      'groupCollapsed',\n      'info',\n      'log',\n      'trace',\n      'warn',\n    ];\n\n    if (unpatchFn !== null) {\n      // Don't patch twice.\n      return;\n    }\n\n    const originalConsoleMethods: {[string]: $FlowFixMe} = {};\n\n    unpatchFn = () => {\n      for (const method in originalConsoleMethods) {\n        try {\n          targetConsole[method] = originalConsoleMethods[method];\n        } catch (error) {}\n      }\n    };\n\n    overrideConsoleMethods.forEach(method => {\n      try {\n        const originalMethod = (originalConsoleMethods[method] = targetConsole[\n          method\n        ].__REACT_DEVTOOLS_STRICT_MODE_ORIGINAL_METHOD__\n          ? targetConsole[method].__REACT_DEVTOOLS_STRICT_MODE_ORIGINAL_METHOD__\n          : targetConsole[method]);\n\n        const overrideMethod = (...args: $ReadOnlyArray<any>) => {\n          if (!hideConsoleLogsInStrictMode) {\n            // Dim the text color of the double logs if we're not\n            // hiding them.\n            let color;\n            switch (method) {\n              case 'warn':\n                color =\n                  browserTheme === 'light'\n                    ? process.env.LIGHT_MODE_DIMMED_WARNING_COLOR\n                    : process.env.DARK_MODE_DIMMED_WARNING_COLOR;\n                break;\n              case 'error':\n                color =\n                  browserTheme === 'light'\n                    ? process.env.LIGHT_MODE_DIMMED_ERROR_COLOR\n                    : process.env.DARK_MODE_DIMMED_ERROR_COLOR;\n                break;\n              case 'log':\n              default:\n                color =\n                  browserTheme === 'light'\n                    ? process.env.LIGHT_MODE_DIMMED_LOG_COLOR\n                    : process.env.DARK_MODE_DIMMED_LOG_COLOR;\n                break;\n            }\n\n            if (color) {\n              originalMethod(...formatWithStyles(args, `color: ${color}`));\n            } else {\n              throw Error('Console color is not defined');\n            }\n          }\n        };\n\n        overrideMethod.__REACT_DEVTOOLS_STRICT_MODE_ORIGINAL_METHOD__ =\n          originalMethod;\n        originalMethod.__REACT_DEVTOOLS_STRICT_MODE_OVERRIDE_METHOD__ =\n          overrideMethod;\n\n        targetConsole[method] = overrideMethod;\n      } catch (error) {}\n    });\n  }\n\n  // NOTE: KEEP IN SYNC with src/backend/console.js:unpatchForStrictMode\n  function unpatchConsoleForInitialRenderInStrictMode() {\n    if (unpatchFn !== null) {\n      unpatchFn();\n      unpatchFn = null;\n    }\n  }\n\n  let uidCounter = 0;\n\n  function inject(renderer: ReactRenderer): number {\n    const id = ++uidCounter;\n    renderers.set(id, renderer);\n\n    const reactBuildType = hasDetectedBadDCE\n      ? 'deadcode'\n      : detectReactBuildType(renderer);\n\n    // Patching the console enables DevTools to do a few useful things:\n    // * Append component stacks to warnings and error messages\n    // * Disabling or marking logs during a double render in Strict Mode\n    // * Disable logging during re-renders to inspect hooks (see inspectHooksOfFiber)\n    //\n    // Allow patching console early (during injection) to\n    // provide developers with components stacks even if they don't run DevTools.\n    if (target.hasOwnProperty('__REACT_DEVTOOLS_CONSOLE_FUNCTIONS__')) {\n      const {registerRendererWithConsole, patchConsoleUsingWindowValues} =\n        target.__REACT_DEVTOOLS_CONSOLE_FUNCTIONS__;\n      if (\n        typeof registerRendererWithConsole === 'function' &&\n        typeof patchConsoleUsingWindowValues === 'function'\n      ) {\n        registerRendererWithConsole(renderer);\n        patchConsoleUsingWindowValues();\n      }\n    }\n\n    // If we have just reloaded to profile, we need to inject the renderer interface before the app loads.\n    // Otherwise the renderer won't yet exist and we can skip this step.\n    const attach = target.__REACT_DEVTOOLS_ATTACH__;\n    if (typeof attach === 'function') {\n      const rendererInterface = attach(hook, id, renderer, target);\n      hook.rendererInterfaces.set(id, rendererInterface);\n    }\n\n    hook.emit('renderer', {\n      id,\n      renderer,\n      reactBuildType,\n    });\n\n    return id;\n  }\n\n  let hasDetectedBadDCE = false;\n\n  function sub(event: string, fn: Handler) {\n    hook.on(event, fn);\n    return () => hook.off(event, fn);\n  }\n\n  function on(event: string, fn: Handler) {\n    if (!listeners[event]) {\n      listeners[event] = [];\n    }\n    listeners[event].push(fn);\n  }\n\n  function off(event: string, fn: Handler) {\n    if (!listeners[event]) {\n      return;\n    }\n    const index = listeners[event].indexOf(fn);\n    if (index !== -1) {\n      listeners[event].splice(index, 1);\n    }\n    if (!listeners[event].length) {\n      delete listeners[event];\n    }\n  }\n\n  function emit(event: string, data: any) {\n    if (listeners[event]) {\n      listeners[event].map(fn => fn(data));\n    }\n  }\n\n  function getFiberRoots(rendererID: RendererID) {\n    const roots = fiberRoots;\n    if (!roots[rendererID]) {\n      roots[rendererID] = new Set();\n    }\n    return roots[rendererID];\n  }\n\n  function onCommitFiberUnmount(rendererID: RendererID, fiber: any) {\n    const rendererInterface = rendererInterfaces.get(rendererID);\n    if (rendererInterface != null) {\n      rendererInterface.handleCommitFiberUnmount(fiber);\n    }\n  }\n\n  function onCommitFiberRoot(\n    rendererID: RendererID,\n    root: any,\n    priorityLevel: void | number,\n  ) {\n    const mountedRoots = hook.getFiberRoots(rendererID);\n    const current = root.current;\n    const isKnownRoot = mountedRoots.has(root);\n    const isUnmounting =\n      current.memoizedState == null || current.memoizedState.element == null;\n\n    // Keep track of mounted roots so we can hydrate when DevTools connect.\n    if (!isKnownRoot && !isUnmounting) {\n      mountedRoots.add(root);\n    } else if (isKnownRoot && isUnmounting) {\n      mountedRoots.delete(root);\n    }\n    const rendererInterface = rendererInterfaces.get(rendererID);\n    if (rendererInterface != null) {\n      rendererInterface.handleCommitFiberRoot(root, priorityLevel);\n    }\n  }\n\n  function onPostCommitFiberRoot(rendererID: RendererID, root: any) {\n    const rendererInterface = rendererInterfaces.get(rendererID);\n    if (rendererInterface != null) {\n      rendererInterface.handlePostCommitFiberRoot(root);\n    }\n  }\n\n  function setStrictMode(rendererID: RendererID, isStrictMode: any) {\n    const rendererInterface = rendererInterfaces.get(rendererID);\n    if (rendererInterface != null) {\n      if (isStrictMode) {\n        rendererInterface.patchConsoleForStrictMode();\n      } else {\n        rendererInterface.unpatchConsoleForStrictMode();\n      }\n    } else {\n      // This should only happen during initial render in the extension before DevTools\n      // finishes its handshake with the injected renderer\n      if (isStrictMode) {\n        const hideConsoleLogsInStrictMode =\n          window.__REACT_DEVTOOLS_HIDE_CONSOLE_LOGS_IN_STRICT_MODE__ === true;\n        const browserTheme = window.__REACT_DEVTOOLS_BROWSER_THEME__;\n\n        patchConsoleForInitialRenderInStrictMode({\n          hideConsoleLogsInStrictMode,\n          browserTheme,\n        });\n      } else {\n        unpatchConsoleForInitialRenderInStrictMode();\n      }\n    }\n  }\n\n  type StackFrameString = string;\n\n  const openModuleRangesStack: Array<StackFrameString> = [];\n  const moduleRanges: Array<[StackFrameString, StackFrameString]> = [];\n\n  function getTopStackFrameString(error: Error): StackFrameString | null {\n    const frames = error.stack.split('\\n');\n    const frame = frames.length > 1 ? frames[1] : null;\n    return frame;\n  }\n\n  function getInternalModuleRanges(): Array<\n    [StackFrameString, StackFrameString],\n  > {\n    return moduleRanges;\n  }\n\n  function registerInternalModuleStart(error: Error) {\n    const startStackFrame = getTopStackFrameString(error);\n    if (startStackFrame !== null) {\n      openModuleRangesStack.push(startStackFrame);\n    }\n  }\n\n  function registerInternalModuleStop(error: Error) {\n    if (openModuleRangesStack.length > 0) {\n      const startStackFrame = openModuleRangesStack.pop();\n      const stopStackFrame = getTopStackFrameString(error);\n      if (stopStackFrame !== null) {\n        moduleRanges.push([startStackFrame, stopStackFrame]);\n      }\n    }\n  }\n\n  // TODO: More meaningful names for \"rendererInterfaces\" and \"renderers\".\n  const fiberRoots: {[RendererID]: Set<mixed>} = {};\n  const rendererInterfaces = new Map<RendererID, RendererInterface>();\n  const listeners: {[string]: Array<Handler>} = {};\n  const renderers = new Map<RendererID, ReactRenderer>();\n  const backends = new Map<string, DevToolsBackend>();\n\n  const hook: DevToolsHook = {\n    rendererInterfaces,\n    listeners,\n\n    backends,\n\n    // Fast Refresh for web relies on this.\n    renderers,\n\n    emit,\n    getFiberRoots,\n    inject,\n    on,\n    off,\n    sub,\n\n    // This is a legacy flag.\n    // React v16 checks the hook for this to ensure DevTools is new enough.\n    supportsFiber: true,\n\n    // React calls these methods.\n    checkDCE,\n    onCommitFiberUnmount,\n    onCommitFiberRoot,\n    onPostCommitFiberRoot,\n    setStrictMode,\n\n    // Schedule Profiler runtime helpers.\n    // These internal React modules to report their own boundaries\n    // which in turn enables the profiler to dim or filter internal frames.\n    getInternalModuleRanges,\n    registerInternalModuleStart,\n    registerInternalModuleStop,\n  };\n\n  if (__TEST__) {\n    hook.dangerous_setTargetConsoleForTesting =\n      dangerous_setTargetConsoleForTesting;\n  }\n\n  Object.defineProperty(\n    target,\n    '__REACT_DEVTOOLS_GLOBAL_HOOK__',\n    ({\n      // This property needs to be configurable for the test environment,\n      // else we won't be able to delete and recreate it between tests.\n      configurable: __DEV__,\n      enumerable: false,\n      get() {\n        return hook;\n      },\n    }: Object),\n  );\n\n  return hook;\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport type {BoxStyle} from './types';\n\n/**\n * This mirrors react-native/Libraries/Inspector/resolveBoxStyle.js (but without RTL support).\n *\n * Resolve a style property into it's component parts, e.g.\n *\n * resolveBoxStyle('margin', {margin: 5, marginBottom: 10})\n * -> {top: 5, left: 5, right: 5, bottom: 10}\n */\nexport default function resolveBoxStyle(\n  prefix: string,\n  style: Object,\n): BoxStyle | null {\n  let hasParts = false;\n  const result = {\n    bottom: 0,\n    left: 0,\n    right: 0,\n    top: 0,\n  };\n\n  const styleForAll = style[prefix];\n  if (styleForAll != null) {\n    // eslint-disable-next-line no-for-of-loops/no-for-of-loops\n    for (const key of Object.keys(result)) {\n      result[key] = styleForAll;\n    }\n    hasParts = true;\n  }\n\n  const styleForHorizontal = style[prefix + 'Horizontal'];\n  if (styleForHorizontal != null) {\n    result.left = styleForHorizontal;\n    result.right = styleForHorizontal;\n    hasParts = true;\n  } else {\n    const styleForLeft = style[prefix + 'Left'];\n    if (styleForLeft != null) {\n      result.left = styleForLeft;\n      hasParts = true;\n    }\n\n    const styleForRight = style[prefix + 'Right'];\n    if (styleForRight != null) {\n      result.right = styleForRight;\n      hasParts = true;\n    }\n\n    const styleForEnd = style[prefix + 'End'];\n    if (styleForEnd != null) {\n      // TODO RTL support\n      result.right = styleForEnd;\n      hasParts = true;\n    }\n    const styleForStart = style[prefix + 'Start'];\n    if (styleForStart != null) {\n      // TODO RTL support\n      result.left = styleForStart;\n      hasParts = true;\n    }\n  }\n\n  const styleForVertical = style[prefix + 'Vertical'];\n  if (styleForVertical != null) {\n    result.bottom = styleForVertical;\n    result.top = styleForVertical;\n    hasParts = true;\n  } else {\n    const styleForBottom = style[prefix + 'Bottom'];\n    if (styleForBottom != null) {\n      result.bottom = styleForBottom;\n      hasParts = true;\n    }\n\n    const styleForTop = style[prefix + 'Top'];\n    if (styleForTop != null) {\n      result.top = styleForTop;\n      hasParts = true;\n    }\n  }\n\n  return hasParts ? result : null;\n}\n","/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport Agent from 'react-devtools-shared/src/backend/agent';\nimport resolveBoxStyle from './resolveBoxStyle';\nimport isArray from 'react-devtools-shared/src/isArray';\n\nimport type {BackendBridge} from 'react-devtools-shared/src/bridge';\nimport type {RendererID} from '../types';\nimport type {StyleAndLayout} from './types';\n\nexport type ResolveNativeStyle = (stylesheetID: any) => ?Object;\nexport type SetupNativeStyleEditor = typeof setupNativeStyleEditor;\n\nexport default function setupNativeStyleEditor(\n  bridge: BackendBridge,\n  agent: Agent,\n  resolveNativeStyle: ResolveNativeStyle,\n  validAttributes?: $ReadOnlyArray<string> | null,\n) {\n  bridge.addListener(\n    'NativeStyleEditor_measure',\n    ({id, rendererID}: {id: number, rendererID: RendererID}) => {\n      measureStyle(agent, bridge, resolveNativeStyle, id, rendererID);\n    },\n  );\n\n  bridge.addListener(\n    'NativeStyleEditor_renameAttribute',\n    ({\n      id,\n      rendererID,\n      oldName,\n      newName,\n      value,\n    }: {\n      id: number,\n      rendererID: RendererID,\n      oldName: string,\n      newName: string,\n      value: string,\n    }) => {\n      renameStyle(agent, id, rendererID, oldName, newName, value);\n      setTimeout(() =>\n        measureStyle(agent, bridge, resolveNativeStyle, id, rendererID),\n      );\n    },\n  );\n\n  bridge.addListener(\n    'NativeStyleEditor_setValue',\n    ({\n      id,\n      rendererID,\n      name,\n      value,\n    }: {\n      id: number,\n      rendererID: number,\n      name: string,\n      value: string,\n    }) => {\n      setStyle(agent, id, rendererID, name, value);\n      setTimeout(() =>\n        measureStyle(agent, bridge, resolveNativeStyle, id, rendererID),\n      );\n    },\n  );\n\n  bridge.send('isNativeStyleEditorSupported', {\n    isSupported: true,\n    validAttributes,\n  });\n}\n\nconst EMPTY_BOX_STYLE = {\n  top: 0,\n  left: 0,\n  right: 0,\n  bottom: 0,\n};\n\nconst componentIDToStyleOverrides: Map<number, Object> = new Map();\n\nfunction measureStyle(\n  agent: Agent,\n  bridge: BackendBridge,\n  resolveNativeStyle: ResolveNativeStyle,\n  id: number,\n  rendererID: RendererID,\n) {\n  const data = agent.getInstanceAndStyle({id, rendererID});\n  if (!data || !data.style) {\n    bridge.send(\n      'NativeStyleEditor_styleAndLayout',\n      ({\n        id,\n        layout: null,\n        style: null,\n      }: StyleAndLayout),\n    );\n    return;\n  }\n\n  const {instance, style} = data;\n\n  let resolvedStyle = resolveNativeStyle(style);\n\n  // If it's a host component we edited before, amend styles.\n  const styleOverrides = componentIDToStyleOverrides.get(id);\n  if (styleOverrides != null) {\n    resolvedStyle = Object.assign({}, resolvedStyle, styleOverrides);\n  }\n\n  if (!instance || typeof instance.measure !== 'function') {\n    bridge.send(\n      'NativeStyleEditor_styleAndLayout',\n      ({\n        id,\n        layout: null,\n        style: resolvedStyle || null,\n      }: StyleAndLayout),\n    );\n    return;\n  }\n\n  instance.measure((x, y, width, height, left, top) => {\n    // RN Android sometimes returns undefined here. Don't send measurements in this case.\n    // https://github.com/jhen0409/react-native-debugger/issues/84#issuecomment-304611817\n    if (typeof x !== 'number') {\n      bridge.send(\n        'NativeStyleEditor_styleAndLayout',\n        ({\n          id,\n          layout: null,\n          style: resolvedStyle || null,\n        }: StyleAndLayout),\n      );\n      return;\n    }\n    const margin =\n      (resolvedStyle != null && resolveBoxStyle('margin', resolvedStyle)) ||\n      EMPTY_BOX_STYLE;\n    const padding =\n      (resolvedStyle != null && resolveBoxStyle('padding', resolvedStyle)) ||\n      EMPTY_BOX_STYLE;\n    bridge.send(\n      'NativeStyleEditor_styleAndLayout',\n      ({\n        id,\n        layout: {\n          x,\n          y,\n          width,\n          height,\n          left,\n          top,\n          margin,\n          padding,\n        },\n        style: resolvedStyle || null,\n      }: StyleAndLayout),\n    );\n  });\n}\n\nfunction shallowClone(object: Object): Object {\n  const cloned: {[string]: $FlowFixMe} = {};\n  for (const n in object) {\n    cloned[n] = object[n];\n  }\n  return cloned;\n}\n\nfunction renameStyle(\n  agent: Agent,\n  id: number,\n  rendererID: RendererID,\n  oldName: string,\n  newName: string,\n  value: string,\n): void {\n  const data = agent.getInstanceAndStyle({id, rendererID});\n  if (!data || !data.style) {\n    return;\n  }\n\n  const {instance, style} = data;\n\n  const newStyle = newName\n    ? {[oldName]: undefined, [newName]: value}\n    : {[oldName]: undefined};\n\n  let customStyle;\n\n  // TODO It would be nice if the renderer interface abstracted this away somehow.\n  if (instance !== null && typeof instance.setNativeProps === 'function') {\n    // In the case of a host component, we need to use setNativeProps().\n    // Remember to \"correct\" resolved styles when we read them next time.\n    const styleOverrides = componentIDToStyleOverrides.get(id);\n    if (!styleOverrides) {\n      componentIDToStyleOverrides.set(id, newStyle);\n    } else {\n      Object.assign(styleOverrides, newStyle);\n    }\n    // TODO Fabric does not support setNativeProps; chat with Sebastian or Eli\n    instance.setNativeProps({style: newStyle});\n  } else if (isArray(style)) {\n    const lastIndex = style.length - 1;\n    if (typeof style[lastIndex] === 'object' && !isArray(style[lastIndex])) {\n      customStyle = shallowClone(style[lastIndex]);\n      delete customStyle[oldName];\n      if (newName) {\n        customStyle[newName] = value;\n      } else {\n        customStyle[oldName] = undefined;\n      }\n\n      agent.overrideValueAtPath({\n        type: 'props',\n        id,\n        rendererID,\n        path: ['style', lastIndex],\n        value: customStyle,\n      });\n    } else {\n      agent.overrideValueAtPath({\n        type: 'props',\n        id,\n        rendererID,\n        path: ['style'],\n        value: style.concat([newStyle]),\n      });\n    }\n  } else if (typeof style === 'object') {\n    customStyle = shallowClone(style);\n    delete customStyle[oldName];\n    if (newName) {\n      customStyle[newName] = value;\n    } else {\n      customStyle[oldName] = undefined;\n    }\n\n    agent.overrideValueAtPath({\n      type: 'props',\n      id,\n      rendererID,\n      path: ['style'],\n      value: customStyle,\n    });\n  } else {\n    agent.overrideValueAtPath({\n      type: 'props',\n      id,\n      rendererID,\n      path: ['style'],\n      value: [style, newStyle],\n    });\n  }\n\n  agent.emit('hideNativeHighlight');\n}\n\nfunction setStyle(\n  agent: Agent,\n  id: number,\n  rendererID: RendererID,\n  name: string,\n  value: string,\n) {\n  const data = agent.getInstanceAndStyle({id, rendererID});\n  if (!data || !data.style) {\n    return;\n  }\n\n  const {instance, style} = data;\n  const newStyle = {[name]: value};\n\n  // TODO It would be nice if the renderer interface abstracted this away somehow.\n  if (instance !== null && typeof instance.setNativeProps === 'function') {\n    // In the case of a host component, we need to use setNativeProps().\n    // Remember to \"correct\" resolved styles when we read them next time.\n    const styleOverrides = componentIDToStyleOverrides.get(id);\n    if (!styleOverrides) {\n      componentIDToStyleOverrides.set(id, newStyle);\n    } else {\n      Object.assign(styleOverrides, newStyle);\n    }\n    // TODO Fabric does not support setNativeProps; chat with Sebastian or Eli\n    instance.setNativeProps({style: newStyle});\n  } else if (isArray(style)) {\n    const lastLength = style.length - 1;\n    if (typeof style[lastLength] === 'object' && !isArray(style[lastLength])) {\n      agent.overrideValueAtPath({\n        type: 'props',\n        id,\n        rendererID,\n        path: ['style', lastLength, name],\n        value,\n      });\n    } else {\n      agent.overrideValueAtPath({\n        type: 'props',\n        id,\n        rendererID,\n        path: ['style'],\n        value: style.concat([newStyle]),\n      });\n    }\n  } else {\n    agent.overrideValueAtPath({\n      type: 'props',\n      id,\n      rendererID,\n      path: ['style'],\n      value: [style, newStyle],\n    });\n  }\n\n  agent.emit('hideNativeHighlight');\n}\n","/** @flow */\n\nimport Agent from 'react-devtools-shared/src/backend/agent';\nimport Bridge from 'react-devtools-shared/src/bridge';\nimport {initBackend} from 'react-devtools-shared/src/backend';\nimport {installConsoleFunctionsToWindow} from 'react-devtools-shared/src/backend/console';\nimport {installHook} from 'react-devtools-shared/src/hook';\nimport setupNativeStyleEditor from 'react-devtools-shared/src/backend/NativeStyleEditor/setupNativeStyleEditor';\n\nimport type {BackendBridge} from 'react-devtools-shared/src/bridge';\nimport type {Wall} from 'react-devtools-shared/src/frontend/types';\n\nfunction startActivation(contentWindow: any, bridge: BackendBridge) {\n  const onSavedPreferences = (data: $FlowFixMe) => {\n    // This is the only message we're listening for,\n    // so it's safe to cleanup after we've received it.\n    bridge.removeListener('savedPreferences', onSavedPreferences);\n\n    const {\n      appendComponentStack,\n      breakOnConsoleErrors,\n      componentFilters,\n      showInlineWarningsAndErrors,\n      hideConsoleLogsInStrictMode,\n    } = data;\n\n    contentWindow.__REACT_DEVTOOLS_APPEND_COMPONENT_STACK__ =\n      appendComponentStack;\n    contentWindow.__REACT_DEVTOOLS_BREAK_ON_CONSOLE_ERRORS__ =\n      breakOnConsoleErrors;\n    contentWindow.__REACT_DEVTOOLS_COMPONENT_FILTERS__ = componentFilters;\n    contentWindow.__REACT_DEVTOOLS_SHOW_INLINE_WARNINGS_AND_ERRORS__ =\n      showInlineWarningsAndErrors;\n    contentWindow.__REACT_DEVTOOLS_HIDE_CONSOLE_LOGS_IN_STRICT_MODE__ =\n      hideConsoleLogsInStrictMode;\n\n    // TRICKY\n    // The backend entry point may be required in the context of an iframe or the parent window.\n    // If it's required within the parent window, store the saved values on it as well,\n    // since the injected renderer interface will read from window.\n    // Technically we don't need to store them on the contentWindow in this case,\n    // but it doesn't really hurt anything to store them there too.\n    if (contentWindow !== window) {\n      window.__REACT_DEVTOOLS_APPEND_COMPONENT_STACK__ = appendComponentStack;\n      window.__REACT_DEVTOOLS_BREAK_ON_CONSOLE_ERRORS__ = breakOnConsoleErrors;\n      window.__REACT_DEVTOOLS_COMPONENT_FILTERS__ = componentFilters;\n      window.__REACT_DEVTOOLS_SHOW_INLINE_WARNINGS_AND_ERRORS__ =\n        showInlineWarningsAndErrors;\n      window.__REACT_DEVTOOLS_HIDE_CONSOLE_LOGS_IN_STRICT_MODE__ =\n        hideConsoleLogsInStrictMode;\n    }\n\n    finishActivation(contentWindow, bridge);\n  };\n\n  bridge.addListener('savedPreferences', onSavedPreferences);\n\n  // The backend may be unable to read saved preferences directly,\n  // because they are stored in localStorage within the context of the extension (on the frontend).\n  // Instead it relies on the extension to pass preferences through.\n  // Because we might be in a sandboxed iframe, we have to ask for them by way of postMessage().\n  bridge.send('getSavedPreferences');\n}\n\nfunction finishActivation(contentWindow: any, bridge: BackendBridge) {\n  const agent = new Agent(bridge);\n\n  const hook = contentWindow.__REACT_DEVTOOLS_GLOBAL_HOOK__;\n  if (hook) {\n    initBackend(hook, agent, contentWindow);\n\n    // Setup React Native style editor if a renderer like react-native-web has injected it.\n    if (hook.resolveRNStyle) {\n      setupNativeStyleEditor(\n        bridge,\n        agent,\n        hook.resolveRNStyle,\n        hook.nativeStyleEditorValidAttributes,\n      );\n    }\n  }\n}\n\nexport function activate(\n  contentWindow: any,\n  {\n    bridge,\n  }: {\n    bridge?: BackendBridge,\n  } = {},\n): void {\n  if (bridge == null) {\n    bridge = createBridge(contentWindow);\n  }\n\n  startActivation(contentWindow, bridge);\n}\n\nexport function createBridge(contentWindow: any, wall?: Wall): BackendBridge {\n  const {parent} = contentWindow;\n\n  if (wall == null) {\n    wall = {\n      listen(fn) {\n        const onMessage = ({data}: $FlowFixMe) => {\n          fn(data);\n        };\n        contentWindow.addEventListener('message', onMessage);\n        return () => {\n          contentWindow.removeEventListener('message', onMessage);\n        };\n      },\n      send(event: string, payload: any, transferable?: Array<any>) {\n        parent.postMessage({event, payload}, '*', transferable);\n      },\n    };\n  }\n\n  return (new Bridge(wall): BackendBridge);\n}\n\nexport function initialize(contentWindow: any): void {\n  // Install a global variable to allow patching console early (during injection).\n  // This provides React Native developers with components stacks even if they don't run DevTools.\n  installConsoleFunctionsToWindow();\n  installHook(contentWindow);\n}\n","module.exports = require('./dist/backend');\n","import { initialize as initializeDevtoolsBackend } from 'react-devtools-inline/backend';\n\ninitializeDevtoolsBackend(window);\n"],"mappings":"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","names":["ReactDebugCurrentFrame","self","moduleObject","error","Component","returnValue","root","factory","define","__webpack_require__","exports","module","ErrorStackParser","StackFrame","FIREFOX_SAFARI_STACK_REGEXP","CHROME_IE_STACK_REGEXP","SAFARI_NATIVE_CODE_REGEXP","parse","ErrorStackParser$$parse","error","stacktrace","parseOpera","stack","match","parseV8OrIE","parseFFOrSafari","Error","extractLocation","ErrorStackParser$$extractLocation","urlLike","indexOf","regExp","parts","exec","replace","undefined","ErrorStackParser$$parseV8OrIE","filtered","split","filter","line","map","sanitizedLine","location","tokens","slice","locationParts","pop","functionName","join","fileName","lineNumber","columnNumber","source","ErrorStackParser$$parseFFOrSafari","functionNameRegex","matches","ErrorStackParser$$parseOpera","e","message","length","parseOpera9","parseOpera10","parseOpera11","ErrorStackParser$$parseOpera9","lineRE","lines","result","i","len","push","ErrorStackParser$$parseOpera10","ErrorStackParser$$parseOpera11","functionCall","shift","argsRaw","args","FUNC_ERROR_TEXT","NAN","symbolTag","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","freeGlobal","global","Object","freeSelf","self","Function","objectProto","prototype","objectToString","toString","nativeMax","Math","max","nativeMin","min","now","Date","debounce","func","wait","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","toNumber","isObject","invokeFunc","time","thisArg","apply","leadingEdge","setTimeout","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","shouldInvoke","trailingEdge","cancel","clearTimeout","flush","debounced","isInvoking","arguments","throttle","value","type","isObjectLike","isSymbol","call","other","valueOf","isBinary","test","LRUCache","Map","require","util","Yallist","hasSymbol","Symbol","process","env","_nodeLRUCacheForceNoSymbol","makeSymbol","key","MAX","LENGTH","LENGTH_CALCULATOR","ALLOW_STALE","MAX_AGE","DISPOSE","NO_DISPOSE_ON_SET","LRU_LIST","CACHE","naiveLength","Infinity","lc","stale","maxAge","dispose","noDisposeOnSet","reset","defineProperty","set","mL","trim","get","enumerable","allowStale","mA","lC","forEach","hit","rforEach","fn","thisp","walker","tail","prev","forEachStep","node","isStale","del","head","next","keys","toArray","k","values","dump","v","h","dumpLru","inspect","n","opts","str","extras","as","didFirst","item","val","has","Entry","unshift","peek","load","arr","l","expiresAt","prune","doUse","unshiftNode","diff","delete","removeNode","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","run","nextTick","Array","Item","array","title","browser","argv","version","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","npm_package_name","npm_lifecycle_script","TEST_PSEUDOMAP","hasOwnProperty","PseudoMap","clear","isArray","kv","_data","find","res","_index","size","data","create","configurable","writable","entries","same","a","b","s","_isNumber","isNaN","parseFloat","isFinite","_capitalize","charAt","toUpperCase","substring","_getter","p","booleanProps","numericProps","stringProps","arrayProps","props","obj","getArgs","setArgs","getEvalOrigin","evalOrigin","setEvalOrigin","getFileName","getLineNumber","getColumnNumber","getFunctionName","getIsEval","fromString","StackFrame$$fromString","argsStartIndex","argsEndIndex","lastIndexOf","locationString","Boolean","j","Number","String","inherits","ctor","superCtor","super_","constructor","TempCtor","isBuffer","arg","copy","fill","readUInt8","formatRegExp","f","isString","objects","x","JSON","stringify","_","isNull","msg","isUndefined","deprecate","noDeprecation","warned","deprecated","throwDeprecation","traceDeprecation","console","trace","debugs","debugEnviron","NODE_DEBUG","RegExp","pid","format","ctx","seen","stylize","stylizeNoColor","depth","colors","isBoolean","showHidden","_extend","customInspect","stylizeWithColor","formatValue","styles","styleType","style","arrayToHash","hash","idx","recurseTimes","isFunction","ret","primitive","formatPrimitive","visibleKeys","getOwnPropertyNames","isError","formatError","isRegExp","isDate","base","braces","toUTCString","output","formatArray","formatProperty","reduceToSingleString","simple","isNumber","desc","getOwnPropertyDescriptor","substr","numLinesEst","reduce","cur","ar","isNullOrUndefined","re","d","isPrimitive","o","pad","months","timestamp","getHours","getMinutes","getSeconds","getDate","getMonth","log","origin","add","prop","Node","list","pushNode","forEachReverse","getReverse","mapReverse","initial","acc","reduceReverse","toArrayReverse","from","to","sliceReverse","reverse","EventEmitter","event","listener","listenersMap","index","didThrow","caughtError","clonedListeners","splice","CHROME_WEBSTORE_EXTENSION_ID","INTERNAL_EXTENSION_ID","LOCAL_EXTENSION_ID","__DEBUG__","__PERFORMANCE_PROFILE__","TREE_OPERATION_ADD","TREE_OPERATION_REMOVE","TREE_OPERATION_REORDER_CHILDREN","TREE_OPERATION_UPDATE_TREE_BASE_DURATION","TREE_OPERATION_UPDATE_ERRORS_OR_WARNINGS","TREE_OPERATION_REMOVE_ROOT","TREE_OPERATION_SET_SUBTREE_MODE","PROFILING_FLAG_BASIC_SUPPORT","PROFILING_FLAG_TIMELINE_SUPPORT","LOCAL_STORAGE_DEFAULT_TAB_KEY","LOCAL_STORAGE_COMPONENT_FILTER_PREFERENCES_KEY","SESSION_STORAGE_LAST_SELECTION_KEY","LOCAL_STORAGE_OPEN_IN_EDITOR_URL","LOCAL_STORAGE_OPEN_IN_EDITOR_URL_PRESET","LOCAL_STORAGE_PARSE_HOOK_NAMES_KEY","SESSION_STORAGE_RECORD_CHANGE_DESCRIPTIONS_KEY","SESSION_STORAGE_RELOAD_AND_PROFILE_KEY","LOCAL_STORAGE_SHOULD_BREAK_ON_CONSOLE_ERRORS","LOCAL_STORAGE_BROWSER_THEME","LOCAL_STORAGE_SHOULD_APPEND_COMPONENT_STACK_KEY","LOCAL_STORAGE_SHOW_INLINE_WARNINGS_AND_ERRORS_KEY","LOCAL_STORAGE_TRACE_UPDATES_ENABLED_KEY","LOCAL_STORAGE_HIDE_CONSOLE_LOGS_IN_STRICT_MODE","LOCAL_STORAGE_SUPPORTS_PROFILING_KEY","PROFILER_EXPORT_VERSION","localStorageGetItem","localStorage","getItem","localStorageRemoveItem","removeItem","localStorageSetItem","setItem","sessionStorageGetItem","sessionStorage","sessionStorageRemoveItem","sessionStorageSetItem","simpleIsEqual","resultFn","isEqual","lastResult","calledOnce","isNewArgEqualToLast","newArg","_len","newArgs","_key","every","getOwnerWindow","ownerDocument","defaultView","getOwnerIframe","nodeWindow","frameElement","getBoundingClientRectWithBorderOffset","dimensions","getElementDimensions","mergeRectOffsets","getBoundingClientRect","top","borderTop","left","borderLeft","bottom","borderBottom","right","borderRight","width","height","rects","previousRect","rect","getNestedBoundingClientRect","boundaryWindow","ownerIframe","currentIframe","onlyOneMore","domElement","calculatedStyle","window","getComputedStyle","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","marginLeft","marginRight","marginTop","marginBottom","paddingLeft","paddingRight","paddingTop","paddingBottom","assign","OverlayRect","doc","container","createElement","border","padding","content","borderColor","overlayStyles","backgroundColor","background","margin","pointerEvents","position","zIndex","appendChild","remove","parentNode","removeChild","update","box","dims","boxWrap","OverlayTip","tip","display","flexFlow","borderRadius","fontFamily","fontWeight","fontSize","whiteSpace","nameSpan","color","dimSpan","updateText","textContent","round","updatePosition","bounds","tipRect","tipPos","findTipPos","Overlay","agent","currentWindow","__REACT_DEVTOOLS_TARGET_WINDOW__","tipBoundsWindow","document","body","nodes","elements","nodeType","ELEMENT_NODE","outerBox","POSITIVE_INFINITY","NEGATIVE_INFINITY","element","nodeName","toLowerCase","rendererInterface","getBestMatchingRendererInterface","id","getFiberIDForNative","ownerName","getDisplayNameForFiberID","tipBounds","documentElement","scrollY","scrollX","innerHeight","innerWidth","tipSize","tipHeight","tipWidth","what","borderStyle","SHOW_DURATION","timeoutID","overlay","hideOverlay","showOverlay","componentName","hideAfterTimeout","iframesListeningTo","Set","setupHighlighter","bridge","clearNativeElementHighlight","highlightNativeElement","stopInspectingNative","startInspectingNative","registerListenersOnWindow","addEventListener","onClick","onMouseEvent","onPointerDown","onPointerMove","onPointerUp","removeListenersOnWindow","frame","contentWindow","removeEventListener","displayName","openNativeElementsPanel","rendererID","scrollIntoView","renderer","rendererInterfaces","warn","hasFiberWithId","findNativeNodesForFiberID","block","inline","__REACT_DEVTOOLS_GLOBAL_HOOK__","$0","send","preventDefault","stopPropagation","selectFiberForNode","getEventTarget","lastHoveredNode","target","tagName","iframe","memoize","getIDForNode","composed","composedPath","OUTLINE_COLOR","COLORS","canvas","draw","nodeToData","nodesToDraw","iterateNodes","initialize","canvasFlow","context","getContext","clearRect","drawBorder","execute","count","colorIndex","lineWidth","strokeStyle","strokeRect","setLineDash","destroy","cssText","insertBefore","firstChild","DISPLAY_DURATION","MAX_DISPLAY_DURATION","REMEASUREMENT_AFTER_DURATION","getCurrentTime","performance","drawAnimationFrameID","isEnabled","redrawTimeoutID","injectedAgent","traceUpdates","toggleEnabled","cancelAnimationFrame","destroyCanvas","lastMeasuredAt","measureNode","expirationTime","requestAnimationFrame","prepareToDraw","earliestExpiration","MAX_VALUE","REACT_ELEMENT_TYPE","for","REACT_PORTAL_TYPE","REACT_FRAGMENT_TYPE","REACT_STRICT_MODE_TYPE","REACT_PROFILER_TYPE","REACT_PROVIDER_TYPE","REACT_CONTEXT_TYPE","REACT_SERVER_CONTEXT_TYPE","REACT_FORWARD_REF_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_MEMO_TYPE","REACT_LAZY_TYPE","REACT_SCOPE_TYPE","REACT_DEBUG_TRACING_MODE_TYPE","REACT_OFFSCREEN_TYPE","REACT_LEGACY_HIDDEN_TYPE","REACT_CACHE_TYPE","REACT_TRACING_MARKER_TYPE","REACT_SERVER_CONTEXT_DEFAULT_VALUE_NOT_LOADED","REACT_MEMO_CACHE_SENTINEL","REACT_POSTPONE_TYPE","MAYBE_ITERATOR_SYMBOL","iterator","FAUX_ITERATOR_SYMBOL","getIteratorFn","maybeIterable","maybeIterator","ElementTypeClass","ElementTypeContext","ElementTypeFunction","ElementTypeForwardRef","ElementTypeHostComponent","ElementTypeMemo","ElementTypeOtherOrUnknown","ElementTypeProfiler","ElementTypeRoot","ElementTypeSuspense","ElementTypeSuspenseList","ElementTypeTracingMarker","ComponentFilterElementType","ComponentFilterDisplayName","ComponentFilterLocation","ComponentFilterHOC","StrictMode","cachedDisplayNames","WeakMap","encodedStringCache","LRU","alphaSortKeys","getAllEnumerableKeys","current","currentKeys","getOwnPropertySymbols","descriptors","getOwnPropertyDescriptors","getPrototypeOf","getWrappedDisplayName","outerType","innerType","wrapperName","fallbackName","getDisplayName","nameFromCache","uidCounter","getUID","utfDecodeString","string","char","fromCodePoint","surrogatePairToCodePoint","charCode1","charCode2","utfEncodeString","cached","encoded","charCode","charCodeAt","printOperationsArray","operations","rootID","logs","stringTable","stringTableSize","stringTableEnd","nextLength","nextString","operation","parentID","displayNameStringID","removeLength","removeIndex","mode","numChildren","children","numErrors","numWarnings","getDefaultComponentFilters","getSavedComponentFilters","raw","setSavedComponentFilters","componentFilters","parseBool","castBool","castBrowserTheme","getAppendComponentStack","getBreakOnConsoleErrors","getHideConsoleLogsInStrictMode","getShowInlineWarningsAndErrors","getDefaultOpenInEditorURL","getOpenInEditorURL","separateDisplayNameAndHOCs","hocDisplayNames","shallowDiffers","attribute","getInObject","object","path","reduced","attr","deletePathInObject","last","parent","renamePathInObject","oldPath","newPath","lastOld","lastNew","setInObject","getDataType","isElement","HTMLElement","ArrayBuffer","isView","toStringValue","isPlainObject","getDisplayNameForReactElement","elementType","typeOf","ContextConsumer","ContextProvider","ForwardRef","Fragment","Lazy","Memo","Portal","Profiler","Suspense","SuspenseList","TracingMarker","MAX_PREVIEW_STRING_LENGTH","truncateForDisplay","formatDataForPreview","showFormattedValue","meta","byteLength","buffer","formatted","shortName","entryOrEntries","toStringTag","sort","objectPrototype","objectParentPrototype","inspectable","inspected","preview_long","preview_short","readonly","unserializable","LEVEL_THRESHOLD","createDehydrated","cleaned","dehydrated","dehydrate","isPathAllowed","level","isPathAllowedCheck","unserializableValue","keyAsString","fillInPath","unserializablePath","isMatch","upgradeUnserializable","hydrate","NaN","replaced","replacement","destination","defineProperties","isArrayImpl","FIRST_DEVTOOLS_BACKEND_LOCKSTEP_VER","hasAssignedBackend","gte","cleanForBridge","cleanedPaths","unserializablePaths","cleanedData","copyWithDelete","updated","copyWithRename","oldKey","newKey","copyWithSet","getEffectDurations","effectDuration","passiveEffectDuration","hostRoot","stateNode","serializeToString","cache","formatWithStyles","inputArgs","REGEXP","firstArg","formatStr","elem","formatting","isInteger","maybeMessage","escaped","ptn","flag","isSynchronousXHRSupported","featurePolicy","allowsFeature","gt","compareVersions","ReactSharedInternals","React","FunctionComponent","ClassComponent","IndeterminateComponent","HostRoot","HostPortal","HostComponent","HostText","Mode","SuspenseComponent","MemoComponent","SimpleMemoComponent","LazyComponent","IncompleteClassComponent","DehydratedFragment","SuspenseListComponent","ScopeComponent","OffscreenComponent","LegacyHiddenComponent","CacheComponent","TracingMarkerComponent","HostHoistable","HostSingleton","hookLog","primitiveStackCache","getPrimitiveStackCache","readHookLog","Dispatcher","useContext","_currentValue","useState","useReducer","useRef","useCacheRefresh","useLayoutEffect","useInsertionEffect","useEffect","useImperativeHandle","useDebugValue","useCallback","useMemo","useMemoCache","hook","stackError","currentHook","nextHook","readContext","use","initialState","state","memoizedState","action","reducer","initialArg","init","initialValue","ref","refresh","inputs","instance","formatterFn","callback","nextCreate","useSyncExternalStore","subscribe","getSnapshot","getServerSnapshot","useTransition","useDeferredValue","useId","DispatcherProxyHandler","DispatcherProxy","Proxy","mostLikelyAncestorIndex","findSharedIndex","hookStack","rootStack","rootIndex","hookSearch","findCommonAncestorIndex","isReactWrapper","primitiveName","expectedPrimitiveName","findPrimitiveIndex","stackCache","primitiveStack","parseTrimmedStack","primitiveIndex","parseCustomHookName","startIndex","buildTree","includeHooksSource","rootChildren","prevStack","levelChildren","nativeHookID","stackOfChildren","commonSteps","stackSource","prevSource","stackFrame","levelChild","isStateEditable","subHooks","hookSource","processDebugValues","hooksTree","parentHooksNode","debugValueHooksNodes","hooksNode","handleRenderFunctionError","wrapperError","cause","inspectHooks","renderFunction","currentDispatcher","previousDispatcher","ancestorStackError","setupContexts","contextMap","fiber","tag","providerType","_context","memoizedProps","return","restoreContexts","inspectHooksOfForwardRef","resolveDefaultProps","Component","baseProps","defaultProps","propName","inspectHooksOfFiber","render","CONCURRENT_MODE_NUMBER","CONCURRENT_MODE_SYMBOL_STRING","CONTEXT_NUMBER","CONTEXT_SYMBOL_STRING","SERVER_CONTEXT_SYMBOL_STRING","DEPRECATED_ASYNC_MODE_SYMBOL_STRING","ELEMENT_NUMBER","ELEMENT_SYMBOL_STRING","DEBUG_TRACING_MODE_NUMBER","DEBUG_TRACING_MODE_SYMBOL_STRING","FORWARD_REF_NUMBER","FORWARD_REF_SYMBOL_STRING","FRAGMENT_NUMBER","FRAGMENT_SYMBOL_STRING","LAZY_NUMBER","LAZY_SYMBOL_STRING","MEMO_NUMBER","MEMO_SYMBOL_STRING","PORTAL_NUMBER","PORTAL_SYMBOL_STRING","PROFILER_NUMBER","PROFILER_SYMBOL_STRING","PROVIDER_NUMBER","PROVIDER_SYMBOL_STRING","SCOPE_NUMBER","SCOPE_SYMBOL_STRING","STRICT_MODE_NUMBER","STRICT_MODE_SYMBOL_STRING","SUSPENSE_NUMBER","SUSPENSE_SYMBOL_STRING","SUSPENSE_LIST_NUMBER","SUSPENSE_LIST_SYMBOL_STRING","SERVER_CONTEXT_DEFAULT_VALUE_NOT_LOADED_SYMBOL_STRING","consoleManagedByDevToolsDuringStrictMode","enableLogger","enableStyleXFeatures","isInternalFacebookBuild","is","y","objectIs","cachedStyleNameToValueMap","getStyleXData","sources","resolvedStyles","crawlData","entry","crawlObjectProperties","fromEntries","propertyValue","getPropertyValueForStyleName","nestedStyle","styleName","styleSheetIndex","styleSheets","styleSheet","rules","cssRules","_e","ruleIndex","CSSStyleRule","rule","selectorText","startsWith","property","getPropertyValue","CHANGE_LOG_URL","UNSUPPORTED_VERSION_URL","REACT_DEVTOOLS_WORKPLACE_URL","THEME_STYLES","light","dark","compact","comfortable","COMFORTABLE_LINE_HEIGHT","COMPACT_LINE_HEIGHT","REACT_TOTAL_NUM_LANES","SCHEDULING_PROFILER_VERSION","SNAPSHOT_MAX_HEIGHT","disabledDepth","prevLog","prevInfo","prevWarn","prevError","prevGroup","prevGroupCollapsed","prevGroupEnd","disabledLog","__reactDisabledLog","disableLogs","info","group","groupCollapsed","groupEnd","reenableLogs","prefix","describeBuiltInComponentFrame","ownerFn","reentry","componentFrameCache","__DEV__","describeNativeComponentFrame","construct","currentDispatcherRef","control","previousPrepareStackTrace","prepareStackTrace","Fake","Reflect","sample","sampleLines","controlLines","c","syntheticFrame","describeClassComponentFrame","describeFunctionComponentFrame","shouldConstruct","isReactComponent","describeUnknownElementTypeFrameInDEV","$$typeof","lazyComponent","payload","_payload","_init","describeFiber","workTagMap","workInProgress","owner","getStackByFiberInDevAndProd","TIME_OFFSET","performanceTarget","supportsUserTiming","mark","clearMarks","supportsUserTimingV3","CHECK_V3_MARK","markOptions","setPerformanceMock_ONLY_FOR_TESTING","performanceMock","createProfilingHooks","getDisplayNameForFiber","getIsProfiling","getLaneLabelMap","reactVersion","currentBatchUID","currentReactComponentMeasure","currentReactMeasuresStack","currentTimelineData","currentFiberStacks","isProfiling","nextRenderShouldStartNewBatch","getRelativeTime","currentTime","startTime","getInternalModuleRanges","ranges","getTimelineData","laneToLanesArray","lanes","lanesArray","lane","laneToLabelMap","markMetadata","markAndClear","range","startStackFrame","stopStackFrame","labels","markName","recordReactMeasureStarted","reactMeasure","batchUID","duration","batchUIDToMeasuresMap","laneToReactMeasureMap","reactMeasures","recordReactMeasureCompleted","markCommitStarted","markCommitStopped","markComponentRenderStarted","warning","markComponentRenderStopped","componentMeasures","markComponentLayoutEffectMountStarted","markComponentLayoutEffectMountStopped","markComponentLayoutEffectUnmountStarted","markComponentLayoutEffectUnmountStopped","markComponentPassiveEffectMountStarted","markComponentPassiveEffectMountStopped","markComponentPassiveEffectUnmountStarted","markComponentPassiveEffectUnmountStopped","markComponentErrored","thrownValue","phase","alternate","thrownErrors","PossiblyWeakMap","wakeableIDs","wakeableID","getWakeableID","wakeable","markComponentSuspended","eventType","suspenseEvent","promiseName","resolution","suspenseEvents","then","markLayoutEffectsStarted","markLayoutEffectsStopped","markPassiveEffectsStarted","markPassiveEffectsStopped","markRenderStarted","markRenderYielded","markRenderStopped","markRenderScheduled","schedulingEvents","markForceUpdateScheduled","getParentFibers","parents","markStateUpdateScheduled","toggleProfilingStatus","internalModuleSourceToRanges","flamechart","nativeEvents","networkMeasures","otherUserTimingMarks","snapshots","snapshotHeight","fiberStack","componentStack","profilingHooks","getFiberFlags","flags","effectTag","getInternalReactConstants","ReactPriorityLevels","ImmediatePriority","UserBlockingPriority","NormalPriority","LowPriority","IdlePriority","NoPriority","StrictModeBits","ReactTypeOfWork","CoroutineComponent","CoroutineHandlerPhase","DehydratedSuspenseComponent","YieldComponent","getTypeSymbol","symbolOrNumber","resolveFiberType","typeSymbol","resolvedType","resolvedContext","fiberRoot","_debugRootType","fiberToIDMap","idToArbitraryFiberMap","attach","reconcilerVersion","injectProfilingHooks","overrideHookState","overrideHookStateDeletePath","overrideHookStateRenamePath","overrideProps","overridePropsDeletePath","overridePropsRenamePath","scheduleRefresh","setErrorHandler","setSuspenseHandler","scheduleUpdate","supportsTogglingError","supportsTogglingSuspense","response","fibersWithChangedErrorOrWarningCounts","pendingFiberToErrorsMap","pendingFiberToWarningsMap","fiberIDToErrorsMap","fiberIDToWarningsMap","clearErrorsAndWarnings","updateMostRecentlyInspectedElementIfNecessary","flushPendingEvents","clearMessageCountHelper","fiberID","pendingFiberToMessageCountMap","fiberIDToMessageCountMap","clearErrorsForFiberID","clearWarningsForFiberID","mostRecentlyInspectedElement","hasElementUpdatedSinceLastInspected","onErrorOrWarning","maybeID","getFiberIDUnsafe","forceErrorForFiberIDs","debug","fiberMap","messageMap","flushPendingErrorsAndWarningsAfterDelay","registerRendererWithConsole","patchConsoleUsingWindowValues","parentFiber","extraString","parentDisplayName","maybeParentID","hideElementsWithDisplayNames","hideElementsWithPaths","hideElementsWithTypes","traceUpdatesEnabled","traceUpdatesForNodes","applyComponentFilters","componentFilter","isValid","__REACT_DEVTOOLS_COMPONENT_FILTERS__","updateComponentFilters","getFiberRoots","currentRootID","getOrGenerateFiberID","pushOperation","rootDisplayNameCounter","setRootPseudoKey","mountFiberRecursively","reevaluateErrorsAndWarnings","shouldFilterFiber","_debugSource","getElementTypeForFiber","displayNameRegExp","pathRegExp","idToTreeBaseDurationMap","idToRootMap","didGenerateID","refinedID","getFiberIDThrows","untrackFiberID","untrackFibersSet","untrackFibersTimeoutID","untrackFibers","shouldErrorFiberAlwaysNull","getChangeDescription","prevFiber","nextFiber","didHooksChange","isFirstMount","getContextChangedKeys","getChangedKeys","indices","getChangedHooksIndices","hooks","updateContextsForFiber","idToContextsMap","contexts","getContextsForFiber","NO_CONTEXT","legacyContext","modernContext","contextType","dependencies","firstContext","crawlToInitializeContextsMap","child","sibling","prevContexts","nextContexts","prevLegacyContext","prevModernContext","nextLegacyContext","nextModernContext","prevContext","nextContext","memoizedValue","isHookThatCanScheduleUpdate","hookObject","boundHasOwnProperty","didStatefulHookChange","prevMemoizedState","nextMemoizedState","changedKeys","didFiberRender","PerformedWork","pendingOperations","pendingRealUnmountedIDs","pendingSimulatedUnmountedIDs","pendingOperationsQueue","pendingStringTable","pendingStringTableLength","pendingUnmountedRootID","op","shouldBailoutWithPendingOperations","currentCommitProfilingMetadata","durations","flushOrQueueOperations","flushPendingErrorsAndWarningsAfterDelayTimeoutID","clearPendingErrorsAndWarningsAfterDelay","recordPendingErrorsAndWarnings","countMap","mergeMapsAndGetCountHelper","newCount","messageCountMap","pendingMessageCountMap","refinedMessageCountMap","pendingCount","previousCount","errorCount","warningCount","numUnmountIDs","stringKey","encodedString","getStringID","existingEntry","recordMount","isRoot","hasOwnerMetadata","isProfilingSupported","profilingFlags","displayNamesByRootID","getDisplayNameForRoot","_debugOwner","ownerID","keyString","keyStringID","recordProfilingDurations","recordUnmount","isSimulated","trackedPathMatchFiber","setTrackedPath","unsafeID","_debugNeedsRemount","traverseSiblings","traceNearestHostComponentUpdate","mightSiblingsBeOnTrackedPath","updateTrackedPathStateBeforeMount","shouldIncludeInTree","isSuspense","isTimedOut","primaryChildFragment","fallbackChildFragment","fallbackChild","primaryChild","areSuspenseChildrenConditionallyWrapped","updateTrackedPathStateAfterMount","unmountFiberChildrenRecursively","isTimedOutSuspense","actualDuration","treeBaseDuration","convertedTreeBaseDuration","floor","selfDuration","metadata","maxActualDuration","recordChangeDescriptions","changeDescription","changeDescriptions","recordResetChildren","childSet","nextChildren","findReorderedChildrenRecursively","updateFiberRecursively","shouldResetChildren","prevDidTimeout","nextDidTimeOut","nextFiberChild","nextFallbackChildSet","prevFiberChild","prevFallbackChildSet","nextPrimaryChildSet","nextChild","prevChildAtSameIndex","prevChild","hostFibers","findAllCurrentHostFibers","hostFiber","nextChildSet","cleanup","rootSupportsProfiling","memoizedInteractions","flushInitialOperations","localPendingOperationsQueue","trackedPath","mightBeOnTrackedPath","commitTime","profilingStartTime","priorityLevel","updaters","getUpdatersList","memoizedUpdaters","fiberToSerializedElement","handleCommitFiberUnmount","handlePostCommitFiberRoot","handleCommitFiberRoot","formatPriorityLevel","wasMounted","isDehydrated","isMounted","removeRootPseudoKey","commitProfilingMetadata","rootToCommitProfilingMetadataMap","fibers","findCurrentFiberUsingSlowPathById","err","getFiberForNative","hostInstance","findFiberByHostInstance","findNearestUnfilteredAncestor","assertIsMounted","getNearestMountedFiber","nearestMounted","nextNode","Placement","Hydrating","parentA","parentB","nextParent","didFindChild","prepareViewAttributeSource","isMostRecentlyInspectedElement","$attribute","prepareViewElementSource","$type","getOwnersList","owners","getInstanceAndStyle","isErrorBoundary","getDerivedStateFromError","componentDidCatch","getNearestErrorBoundaryID","inspectElementRaw","usesHooks","showState","canViewSource","shouldHideContext","contextTypes","consumerResolvedContext","currentType","currentTypeSymbol","providerResolvedContext","hasLegacyContext","originalConsoleMethods","method","rootType","errors","warnings","isErrored","targetErrorBoundaryID","DidCapture","plugins","stylex","xstyle","canEditHooks","canEditFunctionProps","canEditHooksAndDeletePaths","canEditHooksAndRenamePaths","canEditFunctionPropsDeletePaths","canEditFunctionPropsRenamePaths","canToggleError","canToggleSuspense","forceFallbackForSuspenseIDs","rendererPackageName","rendererVersion","currentlyInspectedPaths","isMostRecentlyInspectedElementCurrent","mergeInspectedPaths","createIsPathAllowed","secondaryCategory","updateSelectedElement","inspectedElement","$r","storeAsGlobal","getSerializedElementValueByPath","valueToCopy","inspectElement","requestID","forceFullData","responseID","errorType","cleanedInspectedElement","logElementToConsole","supportsGroup","nativeNodes","chrome","navigator","userAgent","deletePath","hookID","forceUpdate","pendingProps","renamePath","overrideValueAtPath","initialTreeBaseDurationsMap","initialIDToRootMap","getProfilingData","dataForRoots","commitData","initialTreeBaseDurations","commitProfilingData","commitIndex","fiberActualDurations","fiberSelfDurations","timelineData","rest","batchUIDToMeasuresKeyValueArray","laneToLabelKeyValueArray","laneToReactMeasureKeyValueArray","startProfiling","shouldRecordChangeDescriptions","stopProfiling","shouldErrorFiberAccordingToMap","status","overrideError","forceError","shouldSuspendFiberAlwaysFalse","shouldSuspendFiberAccordingToSet","overrideSuspense","forceFallback","trackedPathMatchDepth","returnFiber","returnAlternate","actualFrame","getPathFrame","expectedFrame","rootPseudoKeys","counter","pseudoKey","preferredDisplayName","fallbackDisplayName","getPathForElement","keyPath","getBestMatchForTrackedPath","isFullMatch","setTraceUpdatesEnabled","patchConsoleForStrictMode","unpatchConsoleForStrictMode","OVERRIDE_CONSOLE_METHODS","DIMMED_NODE_CONSOLE_COLOR","PREFIX_REGEX","ROW_COLUMN_NUMBER_REGEX","isStringComponentStack","text","STYLE_DIRECTIVE_REGEX","isStrictModeOverride","getConsoleColor","consoleSettingsRef","browserTheme","injectedRenderers","targetConsole","targetConsoleMethods","unpatchFn","isNode","dangerous_setTargetConsoleForTesting","targetConsoleForTesting","registerRenderer","getCurrentFiber","appendComponentStack","breakOnConsoleErrors","showInlineWarningsAndErrors","hideConsoleLogsInStrictMode","patch","originalMethod","__REACT_DEVTOOLS_ORIGINAL_METHOD__","overrideMethod","shouldAppendWarningStack","lastArg","alreadyHasComponentStack","shouldShowInlineWarningsAndErrors","__REACT_DEVTOOLS_OVERRIDE_METHOD__","unpatch","unpatchForStrictModeFn","patchForStrictMode","overrideConsoleMethods","__REACT_DEVTOOLS_STRICT_MODE_ORIGINAL_METHOD__","__REACT_DEVTOOLS_STRICT_MODE_OVERRIDE_METHOD__","unpatchForStrictMode","__REACT_DEVTOOLS_APPEND_COMPONENT_STACK__","__REACT_DEVTOOLS_BREAK_ON_CONSOLE_ERRORS__","__REACT_DEVTOOLS_SHOW_INLINE_WARNINGS_AND_ERRORS__","__REACT_DEVTOOLS_HIDE_CONSOLE_LOGS_IN_STRICT_MODE__","__REACT_DEVTOOLS_BROWSER_THEME__","writeConsolePatchSettingsToWindow","settings","installConsoleFunctionsToWindow","__REACT_DEVTOOLS_CONSOLE_FUNCTIONS__","BATCH_DURATION","BRIDGE_PROTOCOL","minNpmVersion","maxNpmVersion","currentBridgeProtocol","Bridge","wall","_timeoutID","_messageQueue","_wall","_flush","wasForwarded","_wallUnlisten","listen","_isShutdown","shutdown","wallUnlisten","methodName","Agent","_rendererInterfaces","_bridge","_isProfiling","_persistedSelectionMatch","_persistedSelection","_throttledPersistSelection","_traceUpdatesEnabled","selectNode","_recordChangeDescriptions","selected","patchConsole","prevMatch","nextMatch","prevMatchID","nextMatchID","persistedSelectionString","copyElementPath","getBackendVersion","getBridgeProtocol","getProfilingStatus","reloadAndProfile","syncSelectionFromNativeElementsPanel","updateConsolePatchSettings","viewAttributeSource","viewElementSource","overrideContext","overrideState","isBackendStorageAPISupported","setupTraceUpdates","bestMatch","setRendererInterface","selection","onUnsupportedRenderer","decorate","old","decorateMany","fns","olds","restoreMany","updater","enqueueForceUpdate","getData","internalInstance","_currentElement","getElementType","publicInstance","getPublicInstance","getChildren","_renderedComponent","_renderedChildren","renderedChildren","idToInternalInstanceMap","internalInstanceToIDMap","internalInstanceToRootIDMap","getInternalIDForNative","findNativeNodeForInternalID","ComponentTree","getClosestInstanceFromNode","getNodeFromInstance","Mount","getID","getNode","areEqualArrays","parentIDStack","oldReconcilerMethods","Reconciler","mountComponent","hostContainerInfo","_topLevelWrapper","performUpdateIfNecessary","prevChildren","recordReorder","receiveComponent","unmountComponent","Mixin","_owner","nextChildIDs","pendingUnmountedIDs","crawlAndRecordInitialMounts","roots","_instancesByReactRootID","_instancesByContainerID","encodedKey","existingID","stringID","currentlyInspectedElementID","_instance","_source","nativeNode","enabled","isMatchingRender","initBackend","subs","sub","onFastRefreshScheduled","onHookOperations","onTraceUpdates","attachRenderer","attachLegacy","renderers","reactDevtoolsAgent","onAgentShutdown","installHook","detectReactBuildType","bundleType","_renderNewRootComponent","renderRootCode","checkDCE","code","hasDetectedBadDCE","patchConsoleForInitialRenderInStrictMode","unpatchConsoleForInitialRenderInStrictMode","inject","reactBuildType","__REACT_DEVTOOLS_ATTACH__","fiberRoots","onCommitFiberUnmount","onCommitFiberRoot","mountedRoots","isKnownRoot","isUnmounting","onPostCommitFiberRoot","setStrictMode","isStrictMode","openModuleRangesStack","moduleRanges","getTopStackFrameString","frames","registerInternalModuleStart","registerInternalModuleStop","backends","supportsFiber","__TEST__","resolveBoxStyle","hasParts","styleForAll","styleForHorizontal","styleForLeft","styleForRight","styleForEnd","styleForStart","styleForVertical","styleForBottom","styleForTop","setupNativeStyleEditor","resolveNativeStyle","validAttributes","measureStyle","oldName","newName","renameStyle","setStyle","isSupported","EMPTY_BOX_STYLE","componentIDToStyleOverrides","layout","resolvedStyle","styleOverrides","measure","shallowClone","cloned","newStyle","customStyle","setNativeProps","lastIndex","lastLength","startActivation","onSavedPreferences","finishActivation","resolveRNStyle","nativeStyleEditorValidAttributes","activate","createBridge","onMessage","transferable","postMessage","require_backend","initializeDevtoolsBackend"]}